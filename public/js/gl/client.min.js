World=function(){function e(){this.name="Cons"}return e}(),window.World.init=function(e,t){this.__vpx=0,this.auth_hash=e,this.login=t,this.p=new THREE.Projector,this.three_scenes={},this.scenes={},this.flares={},this.actors={},this.actorScene={},this.clock=new THREE.Clock;var i=new THREE.SphereGeometry(5);this.cur=new THREE.Mesh(i),this.vp_width=document.body.clientWidth,this.vp_height=400,this._main_viewport=0,this._additional_vps=[],this.sceneActions={},this._input_keymap={},this._uniform_updaters={};var n=this.vp_height/3,s=this.vp_width/4,h=this.vp_width-s;this._additional_vps_geom=[{l:h,t:2*n,w:s,h:n},{l:h,t:n,w:s,h:n},{l:h,t:0,w:s,h:n}],this._main_vp_geom={l:0,t:0,w:this.vp_width,h:this.vp_height},this.skyboxScenes={},this.skyBoxes={},this.skyBoxCamera={},this.mouse_projection_vec=new THREE.Vector3,SL.init();var r=this;return r.pings=[],r.pings_instability=[],r._time_diffs=[],r.latencities=[],this.renderer=new THREE.WebGLRenderer({antialias:!0,alpha:!0}),this.renderer.setSize(this.vp_width,this.vp_height),this.renderer.setClearColor(new THREE.Color(0)),document.body.appendChild(this.renderer.domElement),this.renderer.gammaInput=!0,this.renderer.gammaOutput=!0,this.renderer.autoClear=!1,this.renderer.physicallyBasedShading=!0,this._camera_rot_q=new THREE.Quaternion,document.addEventListener("mousemove",function(e){r.mouse_x=e.x,r.mouse_y=e.y},!1),this.renderer.domElement.addEventListener("mouseup",function(){r.Inputs.input("lmouse",!1)}),this.renderer.domElement.addEventListener("mousedown",function(){r.Inputs.input("lmouse",!0)}),document.addEventListener("keydown",function(e){var t=e.keyCode;r.Inputs.input(t,!0)},!1),document.addEventListener("keyup",function(e){var t=e.keyCode;r.Inputs.input(t,!1)},!1),r.init_socket(),r},window.World.set_actions=function(){self.actions=self._default_actions};
window.World.render=function(e,t){this.redrawSun(e),this.renderer.setViewport(t.l,t.t,t.w,t.h),this.redrawSky(e),this.scenes[e.scene]._action_on_the_run_var&&console.log("render M"),this._cur_cam=e.three_camera,this.renderer.render(this.three_scenes[e.scene],e.three_camera)},window.World.redrawSky=function(e){var t=e.three_camera.parent.matrix.clone(),o=e.three_camera.matrix.clone();t.multiply(o);var r=(new THREE.Matrix4).extractRotation(t),n=(new THREE.Euler).setFromRotationMatrix(r);this.skyBoxCamera[e.scene].rotation.copy(n),this.renderer.render(this.skyboxScenes[e.scene],this.skyBoxCamera[e.scene])},window.World.get_main_viewport=function(){return this._viewports[this._main_viewport]},window.World._init_vps=function(){var e=this._viewports[this._main_viewport],t=this;e.geom={t:0,l:0,w:this.vp_width,h:this.vp_height},e.three_camera=this.makeCamera(e),_.each(e.UIS,function(e){e.construct()}),_.each(e.actors,function(e){var o=t.actorScene[e.GUID],r=t.sceneActions[o][e.control.object_guid][e.control.workpoint];_.each(r,function(e){e.default_key&&(t._input_keymap[e.default_key]=e)})}),this.three_scenes[e.scene].add(this.cur),this.initSpace(e);var t=this;t.Inputs=new Controller.LocalInputActor(t,t.socket),_.each(this._additional_vps,function(e,o){var r=t._viewports[e];r.geom=t._additional_vps_geom[o],r.three_camera=t.makeCamera(r),t.initSpace(r)})},window.World.setupCameras=function(){var e=this;e._viewports={},e._viewport_amount=0;var t=!0;console.log("setting up cameras with",e.actors),_.each(e.actors,function(o){var r=o.control.workpoint,n=e.actorScene[o.GUID];console.log("scenes",e.scenes,n);var i=e.scenes[n].get_object(o.control.object_guid).workpoints[r].views,a=e.scenes[n].meshes[o.control.object_guid],c=a.getUIForWP(r);_.each(i,function(r){var i=n+o.control.object_guid+r;if(t&&(e._main_viewport=i),i in e._viewports){e._viewports[i].actors.push(o);var a=e._viewports[i].UIS;e._viewports[i].UIS=a.concat(c)}else{var s={scene:n,object:o.control.object_guid,camera:r,actors:[o],UIS:c};e._viewports[i]=s,e._viewport_amount+=1}})}),e._init_vps();var o=document.getElementById("viewports-select");o.innerHtml="",_.each(e._viewports,function(e,t){var r=document.createElement("option");r.value=t,r.appendChild(document.createTextNode(e.camera)),o.appendChild(r)})},window.World.redrawSun=function(e){var t=this.scenes[e.scene].meshes[e.object],o=(new THREE.Vector3).fromArray([0,1,0]).multiplyScalar(10);this.flares[e.scene].position=t.position.clone().add(o)},window.World.makeCamera=function(e){var t=this,o=e.scene,r=e.object,n=e.camera,i=t.scenes[o].meshes[r],a=t.scenes[o].get_object(r),c=new THREE.PerspectiveCamera(45,e.geom.w/e.geom.h,1,1e3),s=new THREE.Vector3,_=new THREE.Vector3;s.set.apply(s,a.cameras[n].position),_.set.apply(_,a.cameras[n].direction);var h=new THREE.Vector3(0,0,-1),d=new THREE.Vector3;d.crossVectors(h,_);var m=Math.acos(h.dot(_)/h.length()/_.length());return 0!==d.length()||h.equals(_)||(d=new THREE.Vector3(0,1,0),m=Math.PI),c.rotateOnAxis(d,m),c.position=s,i.add(c),c},window.World.setup_scene=function(e){material=new THREE.MeshBasicMaterial({color:16711680,wireframe:!0});var t=(new THREE.Vector3).fromArray([0,1,0]),o=new THREE.AmbientLight(65793);this.three_scenes[e.GUID].add(o);var r=new THREE.DirectionalLight(16777198,1);r.color.setHSL.apply(r.color,[Math.random(),.8,.9]),r.position=t,this.three_scenes[e.GUID].add(r),this.initSun(e),this.sceneActions[e.GUID]=e.getActions()},window.World.bindCamera=function(){var e=this,t=e.get_current_actor(),o=e.meshes()[t.control.object_guid];o.add(e.camera),e.setCamera()},window.World.go=function(){var e=this;e.setupCameras();var t=function(){_.each(e.scenes,function(e){e.tick()})},o=function(){t();var r=e.get_main_viewport(),n=e._main_vp_geom;_.each(e._uniform_updaters,function(e){e()}),e.render(r,n),_.each(r.UIS,function(e){e.refresh()}),e.mouse_projection_vec.set(e.mouse_x/n.w*2-1,2*-(e.mouse_y/n.h)+1,.99),e.p.unprojectVector(e.mouse_projection_vec,r.three_camera),e.cur.position.copy(e.mouse_projection_vec),_.each(e._additional_vps,function(t,o){var r=e._viewports[t];e.render(r,e._additional_vps_geom[o])}),SL.redraw(),requestAnimationFrame(o)};requestAnimationFrame(o)};
window.World.load_scene=function(e,n){var t=new Scene;t.set_from_json(e),this.scenes[t.GUID]=t,this.three_scenes[t.GUID]=new THREE.Scene,t.load(n,this.three_scenes[t.GUID],this)},window.World.initSun=function(e){var n=new THREE.Color(16777215),t=_.clone([Math.random(),.8,.9]);t[2]+=.5,n.setHSL.apply(n,t);var i=THREE.ImageUtils.loadTexture("/textures/lensflare/lensflare0.png"),s=THREE.ImageUtils.loadTexture("/textures/lensflare/lensflare2.png"),d=THREE.ImageUtils.loadTexture("/textures/lensflare/lensflare3.png"),r=new THREE.LensFlare(i,700,0,THREE.AdditiveBlending,n);r.add(s,512,0,THREE.AdditiveBlending),r.add(s,512,0,THREE.AdditiveBlending),r.add(s,512,0,THREE.AdditiveBlending),r.add(d,60,.6,THREE.AdditiveBlending),r.add(d,70,.7,THREE.AdditiveBlending),r.add(d,120,.9,THREE.AdditiveBlending),r.add(d,70,1,THREE.AdditiveBlending);var a=function(e){var n,t,i=e.lensFlares.length,s=2*-e.positionScreen.x,d=2*-e.positionScreen.y;for(n=0;i>n;n++)t=e.lensFlares[n],t.x=e.positionScreen.x+s*t.distance,t.y=e.positionScreen.y+d*t.distance,t.rotation=0;e.lensFlares[2].y+=.025,e.lensFlares[3].rotation=.5*e.positionScreen.x+THREE.Math.degToRad(45)};r.customUpdateCallback=a,r.position=(new THREE.Vector3).fromArray([0,1,0]).multiplyScalar(500),this.three_scenes[e.GUID].add(r),this.flares[e.GUID]=r},window.World.initSpace=function(e){var n="/textures/space/m01_cube",t="png",i=[n+".px."+t,n+".nx."+t,n+".py."+t,n+".ny."+t,n+".pz."+t,n+".nz."+t],s=THREE.ImageUtils.loadTextureCube(i),d=THREE.ShaderLib.cube;d.uniforms.tCube.value=s;var r=new THREE.ShaderMaterial({fragmentShader:d.fragmentShader,vertexShader:d.vertexShader,uniforms:d.uniforms,depthWrite:!1,side:THREE.BackSide});this.skyboxScenes[e.scene]=new THREE.Scene;var a=new THREE.Mesh(new THREE.CubeGeometry(9e3,9e3,9e3),r);this.skyBoxes[e.scene]=a,this.skyBoxCamera[e.scene]=new THREE.PerspectiveCamera(45,e.geom.w/e.geom.h,1,1e4),this.skyboxScenes[e.scene].add(a)},window.World.make_main=function(){var e=document.getElementById("viewports-select");this._main_viewport=e.options[e.selectedIndex].value,this._init_vps()},window.World.add_icon=function(){var e=document.getElementById("viewports-select");add_vp=e.options[e.selectedIndex].value,3==this._additional_vps.length?this._additional_vps[2]==add_vp:this._additional_vps.push(add_vp),this._init_vps()},window.World.meshes=function(){return this.scene.meshes},window.World.controllable=function(){var e=this.get_main_viewport();return this.scenes[e.scene].meshes[e.object]},window.World.mesh_for=function(e){return this.meshes()[this.scene.actors[e].control.object_guid]},window.World.get_current_actor=function(){var e=this;return e.scene.actors[e.login]};
function socketService(e){function t(){return r+=1,r%1e4}var n=function(e){var t=(Q.defer(),new XMLHttpRequest);t.open("GET","/my-auth-hash/",!0),t.send(),t.onreadystatechange=function(){if(4==t.readyState&&200==t.status){var n=JSON.parse(t.responseText);e(n)}}},c=io.connect(),i=!1,o=[];is_authenticated=Q.defer(),c.on("connected",function(){n(function(e){c.emit("auth_hash",{auth:e.hash})})}),c.on("auth_completed",function(e){e.err?is_authenticated.reject(e.err):is_authenticated.resolve(!0)}),is_authenticated.promise.then(function(){i=!0;for(var e=0;e<o.length;e++)c.emit(o[e].T,o[e].p)});var s={},a={},r=0,u=function(e,n,s){var r=Q.defer(),u=t();a[u]={cb:r};var f={p:s};return f.cbix=u,f.T=n,i?c.emit(e,f):o.push({T:e,p:f}),r.promise},f=["Q","R","S"];return _.each(f,function(e){c.on(e,function(e){var t=e.cbix;a.hasOwnProperty(t)&&(a[t].cb.resolve(e.d),delete a[t])})}),c.on("F",function(t){e("F",t)}),c.on("ALM",function(t){e("ALM",t)}),s.get=function(e,t){return u("Q",e,t)},s.sync=function(){return u("S","",{})},s.request=function(e,t){return u("R",e,t)},s.action=function(e){c.emit("A",e)},s}window.World.init_socket=function(){var e=window.location.origin,t=io.connect(e);this.socket=t;var n=this;this.socket_srv=socketService(function(e,t){switch(e){case"ALM":void 0!==n.scenes[t.scene]&&n.scenes[t.scene].sync(t.almanach);break;case"F":n.scenes[t.s].addNetworkMessage(t.a)}});var c=[];this.socket_srv.request("CTX",{user_id:!0}).then(function(e){n.syncTime();var t=0,i=0;_.each(e.contexts,function(e,o){var s=e.GUID;if(-1===c.indexOf(s)){c.push(s),t+=1;var a=e.objects,r=e.actors,u=[];_.each(a,function(e){var t=n.socket_srv.get("A",{id:e}).then(function(e){return n.socket_srv.get("T",{type:e.ship_type}).then(function(t){return e.ship_type=t,e})});u.push(t)}),Q.all(u).then(function(e){n.three_scenes[s]=new THREE.Scene;var c=new Scene(n.three_scenes[s],n);c.GUID=s,c.onLoadCallback=function(){console.log("onload"),n.setup_scene(c),i+=1,i===t&&(console.log("all_loaded"),n.go())},n.scenes[s]=c,console.log("creating my actors",r,o),_.each(r,function(e){e.GUID===o&&(n.actors[o]=e,n.actorScene[o]=s),c.join_actor(e)}),_.each(e,function(e){c.join_object(e,e.GUID)})}).catch(function(e){console.log(e.stack)})}})})},window.World.syncTime=function(){this._sync_timestamp=(new Date).getTime();var e=this,t=50;this.socket_srv.sync().then(function(n){var c=(new Date).getTime(),i=c-e._sync_timestamp;console.log("P",i),e.latencities.push(i/2),e.avg_latencity=Math.floor(_.reduce(e.latencities,function(e,t){return e+t},0)/e.latencities.length);var o=n.ts-e._sync_timestamp;e._time_diffs.push(o),e._time_diffs.length>t&&e._time_diffs.splice(0,1),e._time_diff=Math.floor(_.reduce(e._time_diffs,function(e,t){return e+t},0)/e._time_diffs.length),console.log("S",e.avg_latencity,e._time_diff),e.max_ping=_.max(e.pings),setTimeout(function(){e.syncTime()},1e3)}).catch(function(e){console.log(e.stack)})},window.World.sendAction=function(e,t){var n=_.clone(t);n.ts+=this._time_diff,n.p=JSON.stringify(n.p),delete n.vector,this.socket_srv.action({s:e,a:n})};
function StaticLogger(){this._vals={},this.setValue=function(t,i){this._vals[t]=i},this.init=function(){this.cont=$("<div>").css({position:"fixed",top:0,right:0,width:400,bottom:0,"background-color":"rgba(0,200,100,0.7)"}).appendTo("body")},this.redraw=function(){this.cont.find("*").remove();for(var t in this._vals)c=$("<div>").appendTo(this.cont),l=$("<span>").html(t+"&nbsp;: &nbsp;").css("font-weight","bold").appendTo(c),v=$("<span>").text(this._vals[t]).appendTo(c)}}var SL=new StaticLogger;
window.World.addUniformUpdater=function(d,o){this._uniform_updaters[d]=o},window.World.removeUniformUpdater=function(d){delete this._uniform_updaters[d]};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluaXRpYWxpemF0aW9uLmpzIiwicmVuZGVyLmpzIiwic2NlbmVfdXRpbHMuanMiLCJzb2NrZXRzLmpzIiwic3RhdGljTG9nZ2VyLmpzIiwidXRpbHMuanMiXSwibmFtZXMiOlsiV29ybGQiLCJDb25zIiwidGhpcyIsIm5hbWUiLCJ3aW5kb3ciLCJpbml0IiwiYXV0aF9oYXNoIiwiY2xpZW50X2xvZ2luIiwiX192cHgiLCJsb2dpbiIsInAiLCJUSFJFRSIsIlByb2plY3RvciIsInRocmVlX3NjZW5lcyIsInNjZW5lcyIsImZsYXJlcyIsImFjdG9ycyIsImFjdG9yU2NlbmUiLCJjbG9jayIsIkNsb2NrIiwic2ciLCJTcGhlcmVHZW9tZXRyeSIsImN1ciIsIk1lc2giLCJ2cF93aWR0aCIsImRvY3VtZW50IiwiYm9keSIsImNsaWVudFdpZHRoIiwidnBfaGVpZ2h0IiwiX21haW5fdmlld3BvcnQiLCJfYWRkaXRpb25hbF92cHMiLCJzY2VuZUFjdGlvbnMiLCJfaW5wdXRfa2V5bWFwIiwiX3VuaWZvcm1fdXBkYXRlcnMiLCJoMyIsInc0IiwidzM0IiwiX2FkZGl0aW9uYWxfdnBzX2dlb20iLCJsIiwidCIsInciLCJoIiwiX21haW5fdnBfZ2VvbSIsInNreWJveFNjZW5lcyIsInNreUJveGVzIiwic2t5Qm94Q2FtZXJhIiwibW91c2VfcHJvamVjdGlvbl92ZWMiLCJWZWN0b3IzIiwiU0wiLCJzZWxmIiwicGluZ3MiLCJwaW5nc19pbnN0YWJpbGl0eSIsIl90aW1lX2RpZmZzIiwibGF0ZW5jaXRpZXMiLCJyZW5kZXJlciIsIldlYkdMUmVuZGVyZXIiLCJhbnRpYWxpYXMiLCJhbHBoYSIsInNldFNpemUiLCJzZXRDbGVhckNvbG9yIiwiQ29sb3IiLCJhcHBlbmRDaGlsZCIsImRvbUVsZW1lbnQiLCJnYW1tYUlucHV0IiwiZ2FtbWFPdXRwdXQiLCJhdXRvQ2xlYXIiLCJwaHlzaWNhbGx5QmFzZWRTaGFkaW5nIiwiX2NhbWVyYV9yb3RfcSIsIlF1YXRlcm5pb24iLCJhZGRFdmVudExpc3RlbmVyIiwiZSIsIm1vdXNlX3giLCJ4IiwibW91c2VfeSIsInkiLCJJbnB1dHMiLCJpbnB1dCIsImNvZGUiLCJrZXlDb2RlIiwiaW5pdF9zb2NrZXQiLCJzZXRfYWN0aW9ucyIsImFjdGlvbnMiLCJfZGVmYXVsdF9hY3Rpb25zIiwicmVuZGVyIiwidnAiLCJnZW9tIiwicmVkcmF3U3VuIiwic2V0Vmlld3BvcnQiLCJyZWRyYXdTa3kiLCJzY2VuZSIsIl9hY3Rpb25fb25fdGhlX3J1bl92YXIiLCJjb25zb2xlIiwibG9nIiwiX2N1cl9jYW0iLCJ0aHJlZV9jYW1lcmEiLCJtcCIsInBhcmVudCIsIm1hdHJpeCIsImNsb25lIiwibSIsIm11bHRpcGx5IiwibXIiLCJNYXRyaXg0IiwiZXh0cmFjdFJvdGF0aW9uIiwicm90IiwiRXVsZXIiLCJzZXRGcm9tUm90YXRpb25NYXRyaXgiLCJyb3RhdGlvbiIsImNvcHkiLCJnZXRfbWFpbl92aWV3cG9ydCIsIl92aWV3cG9ydHMiLCJfaW5pdF92cHMiLCJtdnAiLCJtYWtlQ2FtZXJhIiwiXyIsImVhY2giLCJVSVMiLCJ1aSIsImNvbnN0cnVjdCIsImFjdG9yIiwic2NlbmVfZ3VpZCIsIkdVSUQiLCJ0b3RhbF9hY3Rpb25zIiwiY29udHJvbCIsIm9iamVjdF9ndWlkIiwid29ya3BvaW50IiwiYWN0aW9uIiwiZGVmYXVsdF9rZXkiLCJhZGQiLCJpbml0U3BhY2UiLCJDb250cm9sbGVyIiwiTG9jYWxJbnB1dEFjdG9yIiwic29ja2V0IiwidnBfbmFtZSIsImkiLCJzZXR1cENhbWVyYXMiLCJfdmlld3BvcnRfYW1vdW50IiwiaXNfZmlyc3QiLCJ3cCIsInZpZXdzIiwiZ2V0X29iamVjdCIsIndvcmtwb2ludHMiLCJtZXNoIiwibWVzaGVzIiwidWlzIiwiZ2V0VUlGb3JXUCIsInZpZXciLCJ2cF9oYXNoIiwicHVzaCIsIlUiLCJjb25jYXQiLCJvYmplY3QiLCJjYW1lcmEiLCJzZWwiLCJnZXRFbGVtZW50QnlJZCIsImlubmVySHRtbCIsImsiLCJvcHQiLCJjcmVhdGVFbGVtZW50IiwidmFsdWUiLCJjcmVhdGVUZXh0Tm9kZSIsInNkIiwiZnJvbUFycmF5IiwibXVsdGlwbHlTY2FsYXIiLCJwb3NpdGlvbiIsIm9iamVjdF9pZCIsInBvcnQiLCJQZXJzcGVjdGl2ZUNhbWVyYSIsInZwX3BvcyIsInZwX3JvdCIsInNldCIsImFwcGx5IiwiY2FtZXJhcyIsImRpcmVjdGlvbiIsImNhbV9iYXNlIiwiYXhpcyIsImNyb3NzVmVjdG9ycyIsImFnIiwiTWF0aCIsImFjb3MiLCJkb3QiLCJsZW5ndGgiLCJlcXVhbHMiLCJQSSIsInJvdGF0ZU9uQXhpcyIsInNldHVwX3NjZW5lIiwibWF0ZXJpYWwiLCJNZXNoQmFzaWNNYXRlcmlhbCIsImNvbG9yIiwid2lyZWZyYW1lIiwic3VuRGlyZWN0aW9uIiwiYW1iaWVudExpZ2h0IiwiQW1iaWVudExpZ2h0IiwibGlnaHQiLCJEaXJlY3Rpb25hbExpZ2h0Iiwic2V0SFNMIiwicmFuZG9tIiwiaW5pdFN1biIsImdldEFjdGlvbnMiLCJiaW5kQ2FtZXJhIiwiZ2V0X2N1cnJlbnRfYWN0b3IiLCJjb250cm9sbGFibGUiLCJzZXRDYW1lcmEiLCJnbyIsIm1ha2VUaWNrcyIsInMiLCJ0aWNrIiwiYW5pbWF0ZSIsImYiLCJyZWZyZXNoIiwidW5wcm9qZWN0VmVjdG9yIiwicmVkcmF3IiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwibG9hZF9zY2VuZSIsInNjZW5lX2pzIiwib25sb2FkIiwiU2NlbmUiLCJzZXRfZnJvbV9qc29uIiwibG9hZCIsImZsYXJlQ29sb3IiLCJzbCIsInRleHR1cmVGbGFyZTAiLCJJbWFnZVV0aWxzIiwibG9hZFRleHR1cmUiLCJ0ZXh0dXJlRmxhcmUyIiwidGV4dHVyZUZsYXJlMyIsImxlbnNGbGFyZSIsIkxlbnNGbGFyZSIsIkFkZGl0aXZlQmxlbmRpbmciLCJsZW5zRmxhcmVVcGRhdGVDYWxsYmFjayIsImZsYXJlIiwiZmwiLCJsZW5zRmxhcmVzIiwidmVjWCIsInBvc2l0aW9uU2NyZWVuIiwidmVjWSIsImRpc3RhbmNlIiwiZGVnVG9SYWQiLCJjdXN0b21VcGRhdGVDYWxsYmFjayIsInBhdGgiLCJmb3JtYXQiLCJ1cmxzIiwidGV4dHVyZUN1YmUiLCJsb2FkVGV4dHVyZUN1YmUiLCJzaGFkZXIiLCJTaGFkZXJMaWIiLCJ1bmlmb3JtcyIsIlNoYWRlck1hdGVyaWFsIiwiZnJhZ21lbnRTaGFkZXIiLCJ2ZXJ0ZXhTaGFkZXIiLCJkZXB0aFdyaXRlIiwic2lkZSIsIkJhY2tTaWRlIiwiQ3ViZUdlb21ldHJ5IiwibWFrZV9tYWluIiwib3B0aW9ucyIsInNlbGVjdGVkSW5kZXgiLCJhZGRfaWNvbiIsImFkZF92cCIsIm1lc2hfZm9yIiwic29ja2V0U2VydmljZSIsImxpc3RlbmVyIiwiZ2V0Q0JJeCIsImN1cmNiaXgiLCJhdXRoSGFzaEYiLCJjYiIsInhociIsIlEiLCJkZWZlciIsIlhNTEh0dHBSZXF1ZXN0Iiwib3BlbiIsInNlbmQiLCJvbnJlYWR5c3RhdGVjaGFuZ2UiLCJyZWFkeVN0YXRlIiwic3RhdHVzIiwianMiLCJKU09OIiwicGFyc2UiLCJyZXNwb25zZVRleHQiLCJpbyIsImNvbm5lY3QiLCJpc19yZWFkeSIsIlF1ZXVlIiwiaXNfYXV0aGVudGljYXRlZCIsIm9uIiwianNvbiIsImVtaXQiLCJhdXRoIiwiaGFzaCIsIm1zZyIsImVyciIsInJlamVjdCIsInJlc29sdmUiLCJwcm9taXNlIiwidGhlbiIsIlQiLCJTIiwiY2JzIiwiUmVxIiwibXQiLCJkIiwiY2JpeCIsIm8iLCJtZXNzYWdlc190b19oZWFyIiwibWVzc2FnZV90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJkYXRhIiwiZ2V0Iiwic3luYyIsInJlcXVlc3QiLCJtZXNzIiwib3JpZ2luIiwibG9jYXRpb24iLCJzb2NrZXRfc3J2IiwidHlwZSIsInVuZGVmaW5lZCIsImFsbWFuYWNoIiwiYWRkTmV0d29ya01lc3NhZ2UiLCJhIiwic2NlbmVzX2luX3Byb2Nlc3MiLCJ1c2VyX2lkIiwiY3R4Iiwic3luY1RpbWUiLCJ0b3RhbF9zY2VuZXMiLCJsb2FkZWRfc2NlbmVzIiwiY29udGV4dHMiLCJzY2VuZV9kZXNjIiwiYWN0b3JfZ3VpZCIsImluZGV4T2YiLCJvYmplY3RzIiwic2NlbmVfYWN0b3JzIiwib3Nwcm9taXNlcyIsIm9ndWlkIiwiaWQiLCJvYmoiLCJzaGlwX3R5cGUiLCJhbGwiLCJvbkxvYWRDYWxsYmFjayIsImFjdCIsImpvaW5fYWN0b3IiLCJqb2luX29iamVjdCIsImNhdGNoIiwic3RhY2siLCJfc3luY190aW1lc3RhbXAiLCJEYXRlIiwiZ2V0VGltZSIsImRpZmZfc3RhdGlzdGljc19sZW5ndGgiLCJyZWN2X3RzIiwicGluZyIsImF2Z19sYXRlbmNpdHkiLCJmbG9vciIsInJlZHVjZSIsImIiLCJfdGltZV9kaWZmIiwidHMiLCJzcGxpY2UiLCJtYXhfcGluZyIsIm1heCIsInNldFRpbWVvdXQiLCJzZW5kQWN0aW9uIiwic3RyaW5naWZ5IiwidmVjdG9yIiwiU3RhdGljTG9nZ2VyIiwiX3ZhbHMiLCJzZXRWYWx1ZSIsInBhcmFtIiwidmFsIiwiY29udCIsIiQiLCJjc3MiLCJ0b3AiLCJyaWdodCIsIndpZHRoIiwiYm90dG9tIiwiYmFja2dyb3VuZC1jb2xvciIsImFwcGVuZFRvIiwiZmluZCIsInJlbW92ZSIsImMiLCJodG1sIiwidiIsInRleHQiLCJhZGRVbmlmb3JtVXBkYXRlciIsInVwZGZ1bmMiLCJyZW1vdmVVbmlmb3JtVXBkYXRlciJdLCJtYXBwaW5ncyI6IkFBQUFBLE1BQVEsV0FDUCxRQUFTQyxLQUNSQyxLQUFLQyxLQUFPLE9BRWIsTUFBT0YsTUFJUkcsT0FBT0osTUFBTUssS0FBTyxTQUFTQyxFQUFXQyxHQUN2Q0wsS0FBS00sTUFBUSxFQUNiTixLQUFLSSxVQUFZQSxFQUNqQkosS0FBS08sTUFBUUYsRUFJYkwsS0FBS1EsRUFBSSxHQUFJQyxPQUFNQyxVQUNuQlYsS0FBS1csZ0JBQ0xYLEtBQUtZLFVBQ0xaLEtBQUthLFVBQ0ZiLEtBQUtjLFVBQ0xkLEtBQUtlLGNBRVJmLEtBQUtnQixNQUFRLEdBQUlQLE9BQU1RLEtB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QUFTRyxHQUM5RUUsRUFBSVosRUFBRSxVQUFVYSxLQUFNM1gsS0FBS3lXLE1BQU1yTyxJQUFLaVAsU0FBU0csSUFLbEQsR0FBSTFVLElBQUssR0FBSTBUO0FDOUJidFcsT0FBT0osTUFBTThYLGtCQUFvQixTQUFTM1gsRUFBTTRYLEdBQzVDN1gsS0FBSytCLGtCQUFrQjlCLEdBQVE0WCxHQUVuQzNYLE9BQU9KLE1BQU1nWSxxQkFBdUIsU0FBUzdYLFNBQ2xDRCxNQUFLK0Isa0JBQWtCOUIiLCJmaWxlIjoiY2xpZW50Lm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIldvcmxkID0gKGZ1bmN0aW9uKCl7XG5cdGZ1bmN0aW9uIENvbnMoKXtcblx0XHR0aGlzLm5hbWUgPSBcIkNvbnNcIjtcblx0fVxuXHRyZXR1cm4gQ29ucztcbn0pKClcblxuXG53aW5kb3cuV29ybGQuaW5pdCA9IGZ1bmN0aW9uKGF1dGhfaGFzaCwgY2xpZW50X2xvZ2luKXtcblx0dGhpcy5fX3ZweCA9IDA7XG5cdHRoaXMuYXV0aF9oYXNoID0gYXV0aF9oYXNoO1xuXHR0aGlzLmxvZ2luID0gY2xpZW50X2xvZ2luO1xuXHRcblx0Ly8gdGhpcy5jYW1lcmEgPSBuZXcgVEhSRUUuUGVyc3BlY3RpdmVDYW1lcmEoNDUsIHdpbmRvdy5pbm5lcldpZHRoIC8gd2luZG93LmlubmVySGVpZ2h0LCAxLCAxMDAwMCk7XG5cdC8vIHRoaXMuY2FtZXJhLnBvc2l0aW9uLnogPSAyNTA7XG5cdHRoaXMucCA9IG5ldyBUSFJFRS5Qcm9qZWN0b3IoKTtcblx0dGhpcy50aHJlZV9zY2VuZXMgPSB7fVxuXHR0aGlzLnNjZW5lcyA9IHt9O1xuXHR0aGlzLmZsYXJlcyA9IHt9O1xuICAgIHRoaXMuYWN0b3JzID0ge307XG4gICAgdGhpcy5hY3RvclNjZW5lID0ge307XG5cdC8vICA9IG5ldyBUSFJFRS5TY2VuZSgpO1xuXHR0aGlzLmNsb2NrID0gbmV3IFRIUkVFLkNsb2NrKCk7XG5cdC8vdGhpcy5nZW9tZXRyeSA9IG5ldyBUSFJFRS5DdWJlR2VvbWV0cnkoMjAwLCAyMDAsIDIwMCk7XG5cdHZhciBzZyA9IG5ldyBUSFJFRS5TcGhlcmVHZW9tZXRyeSg1KTtcblx0Ly8gdmFyIHdpcmVzID0gbmV3IFRIUkVFLk1lc2hCYXNpY01hdGVyaWFsKHt3aXJlZnJhbWU6dHJ1ZX0pXG5cdHRoaXMuY3VyID0gbmV3IFRIUkVFLk1lc2goc2cpIC8vICwgd2lyZXMpO1xuXHR0aGlzLnZwX3dpZHRoID0gZG9jdW1lbnQuYm9keS5jbGllbnRXaWR0aDtcblx0dGhpcy52cF9oZWlnaHQgPSA0MDA7Ly9kb2N1bWVudC5ib2R5LmNsaWVudEhlaWdodDtcblx0dGhpcy5fbWFpbl92aWV3cG9ydCA9IDBcblx0dGhpcy5fYWRkaXRpb25hbF92cHMgPSBbXTtcblx0dGhpcy5zY2VuZUFjdGlvbnMgPSB7fTtcblx0dGhpcy5faW5wdXRfa2V5bWFwID0ge307XG4gICAgdGhpcy5fdW5pZm9ybV91cGRhdGVycyA9IHt9O1xuXHQvLyB2YXIgUHJvdG9CdWYgPSBkY29kZUlPLlByb3RvQnVmO1xuXHQvLyB0aGlzLnByb3RvYnVmQnVpbGRlciA9IFByb3RvQnVmLmxvYWRQcm90b0ZpbGUoIFwiL2pzL2dsL2NsaWVudF9tZXNzYWdlLnByb3RvXCIgKTtcblx0Ly90aGlzLl9tYWluX3ZpZXdwb3J0X2FjdG9ycyA9IFtdO1xuXHR2YXIgaDMgPSB0aGlzLnZwX2hlaWdodC8zXG5cdHZhciB3NCA9IHRoaXMudnBfd2lkdGgvNFxuXHR2YXIgdzM0ID0gdGhpcy52cF93aWR0aC0gdzRcblx0dGhpcy5fYWRkaXRpb25hbF92cHNfZ2VvbSA9IFtcblx0XHR7bDp3MzQsIHQ6aDMqMiwgdzp3NCwgaDpoM30sXG5cdFx0e2w6dzM0LCB0OmgzLCB3Onc0LCBoOmgzfSxcblx0XHR7bDp3MzQsIHQ6MCwgdzp3NCwgaDpoM30sXG5cdFxuXHRdXG5cdHRoaXMuX21haW5fdnBfZ2VvbSA9IHtsOjAsIHQ6MCwgdzp0aGlzLnZwX3dpZHRoLCBoOnRoaXMudnBfaGVpZ2h0fTtcblx0XG5cdHRoaXMuc2t5Ym94U2NlbmVzID0ge307XG5cdHRoaXMuc2t5Qm94ZXMgPSB7fTsgLy9bc2NlbmUuZ3VpZF0gID0gbmV3IFRIUkVFLk1lc2goIG5ldyBUSFJFRS5DdWJlR2VvbWV0cnkoIDkwMDAsIDkwMDAsIDkwMDAgKSwgbWF0ZXJpYWwgKTtcblx0dGhpcy5za3lCb3hDYW1lcmEgPSB7fTsvL1tzY2VuZS5ndWlkXVxuXHR0aGlzLm1vdXNlX3Byb2plY3Rpb25fdmVjID0gbmV3IFRIUkVFLlZlY3RvcjMoKTtcblx0U0wuaW5pdCgpO1xuXHR2YXIgc2VsZiA9IHRoaXM7XG5cdHNlbGYucGluZ3MgPSBbXTtcblx0c2VsZi5waW5nc19pbnN0YWJpbGl0eSA9IFtdO1xuXHRzZWxmLl90aW1lX2RpZmZzID0gW107XG4gICAgc2VsZi5sYXRlbmNpdGllcyA9IFtdO1xuXHRcblxuXHRcbiAgICBcblx0dGhpcy5yZW5kZXJlciA9IG5ldyBUSFJFRS5XZWJHTFJlbmRlcmVyKHthbnRpYWxpYXM6dHJ1ZSwgYWxwaGE6dHJ1ZX0pO1xuXHR0aGlzLnJlbmRlcmVyLnNldFNpemUodGhpcy52cF93aWR0aCwgdGhpcy52cF9oZWlnaHQpO1xuXHR0aGlzLnJlbmRlcmVyLnNldENsZWFyQ29sb3IobmV3IFRIUkVFLkNvbG9yKDB4MDAwMDAwKSk7XG5cdGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodGhpcy5yZW5kZXJlci5kb21FbGVtZW50KTtcblx0XG5cdHRoaXMucmVuZGVyZXIuZ2FtbWFJbnB1dCA9IHRydWU7XG5cdHRoaXMucmVuZGVyZXIuZ2FtbWFPdXRwdXQgPSB0cnVlO1xuXHR0aGlzLnJlbmRlcmVyLmF1dG9DbGVhciA9IGZhbHNlO1xuXHR0aGlzLnJlbmRlcmVyLnBoeXNpY2FsbHlCYXNlZFNoYWRpbmcgPSB0cnVlO1xuXHRcblx0dGhpcy5fY2FtZXJhX3JvdF9xID0gbmV3IFRIUkVFLlF1YXRlcm5pb24oKTtcblx0XG5cdFxuXHRcblx0ZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lciggJ21vdXNlbW92ZScsIGZ1bmN0aW9uKGUpe1xuXHRcdHNlbGYubW91c2VfeCA9IGUueDtcblx0XHRzZWxmLm1vdXNlX3kgPSBlLnk7XG5cdH0sIGZhbHNlICk7XG5cdHRoaXMucmVuZGVyZXIuZG9tRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgZnVuY3Rpb24oZSl7XG5cdFx0Ly8gY29uc29sZS5sb2coZSlcblx0XHQvLyBjb25zb2xlLmxvZyhcIk1PVVNFXCIpO1xuXHRcdHNlbGYuSW5wdXRzLmlucHV0KCAnbG1vdXNlJywgZmFsc2UpXG5cdH0pXG5cdFxuXHR0aGlzLnJlbmRlcmVyLmRvbUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgZnVuY3Rpb24oZSl7XG5cdFx0Ly8gY29uc29sZS5sb2coZSlcblx0XHRzZWxmLklucHV0cy5pbnB1dCggJ2xtb3VzZScsIHRydWUpXG5cdH0pXG5cdGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBmdW5jdGlvbihlKXtcblx0XHR2YXIgY29kZSA9IGUua2V5Q29kZTtcblx0XHQvLyBjb25zb2xlLmxvZyhjb2RlKTtcblx0XHRzZWxmLklucHV0cy5pbnB1dCggY29kZSwgdHJ1ZSlcblx0XHRcblx0XHQvL2lmKGNvZGUgaW4gc2VsZi5hY3Rpb25zKXtcblx0XHQvL1x0dmFyIGFjdGlvbiA9IHNlbGYuYWN0aW9uc1tjb2RlXVxuXHRcdC8vXHRDb250cm9sbGVyc0FjdGlvbk1hcFthY3Rpb24udHlwZV0uYWN0KHNlbGYsIGFjdGlvbiwgdHJ1ZSlcblx0XHQvL31lbHNle1xuXHRcdFx0Ly99XG5cdFx0XG5cdH0sIGZhbHNlKVxuXHRkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXl1cCcsIGZ1bmN0aW9uKGUpe1xuXHRcdHZhciBjb2RlID0gZS5rZXlDb2RlO1xuXHRcdHNlbGYuSW5wdXRzLmlucHV0KGNvZGUsIGZhbHNlKVxuXHRcdC8vaWYoY29kZSBpbiBzZWxmLmFjdGlvbnMpe1xuXHRcdC8vXHR2YXIgYWN0aW9uID0gc2VsZi5hY3Rpb25zW2NvZGVdXG5cdFx0Ly9cdENvbnRyb2xsZXJzQWN0aW9uTWFwW2FjdGlvbi50eXBlXS5hY3Qoc2VsZiwgYWN0aW9uLCBmYWxzZSlcblx0XHQvL31lbHNle1xuXHRcdFx0Ly99XG5cdFx0XG5cdH0sIGZhbHNlKVxuXHRzZWxmLmluaXRfc29ja2V0KClcblx0cmV0dXJuIHNlbGY7XG5cdFxufVxuXG5cbndpbmRvdy5Xb3JsZC5zZXRfYWN0aW9ucyA9IGZ1bmN0aW9uKCl7XG5cdHNlbGYuYWN0aW9ucyA9IHNlbGYuX2RlZmF1bHRfYWN0aW9uc1xufVxuXG4vLyBtb2R1bGUuZXhwb3J0cy5XID0gd2luZG93OyIsIndpbmRvdy5Xb3JsZC5yZW5kZXIgPSBmdW5jdGlvbih2cCxnZW9tKXtcblx0dGhpcy5yZWRyYXdTdW4odnApXG5cdC8vIGNvbnNvbGUubG9nKHZwKVxuXHR0aGlzLnJlbmRlcmVyLnNldFZpZXdwb3J0KGdlb20ubCwgZ2VvbS50LCBnZW9tLncsIGdlb20uaClcblx0Ly9jb25zb2xlLmxvZyhcIkJMQkxCXCIsdGhpcy50aHJlZV9zY2VuZXMsdnAuc2NlbmUpO1xuXHR0aGlzLnJlZHJhd1NreSh2cClcblx0aWYodGhpcy5zY2VuZXNbdnAuc2NlbmVdLl9hY3Rpb25fb25fdGhlX3J1bl92YXIpe1xuXHRcdGNvbnNvbGUubG9nKCdyZW5kZXIgTScpO1xuXHR9XG4gICAgdGhpcy5fY3VyX2NhbSA9IHZwLnRocmVlX2NhbWVyYTtcblx0dGhpcy5yZW5kZXJlci5yZW5kZXIoIHRoaXMudGhyZWVfc2NlbmVzW3ZwLnNjZW5lXSwgdnAudGhyZWVfY2FtZXJhICk7XG5cdFxuICAgIC8vc2VsZi5yZW5kZXJlci5yZW5kZXIoc2VsZi50aHJlZV9zY2VuZSwgc2VsZi5jYW1lcmEpO1xuXHRcblx0XG59XG5cbndpbmRvdy5Xb3JsZC5yZWRyYXdTa3kgPSBmdW5jdGlvbih2cCl7XG5cdC8vdmFyIG0gPSB0aGlzLnNjZW5lc1t2cC5zY2VuZV0ubWVzaGVzW3ZwLm9iamVjdF1cblx0XG5cdC8vLy8gdmFyIEMgPSB0aGlzLnNjZW5lLm1lc2hfZm9yKHRoaXMubG9naW4pO1xuXHQvLyB2YXIgcj0gbS5yb3RhdGlvblxuXHR2YXIgbXAgPSB2cC50aHJlZV9jYW1lcmEucGFyZW50Lm1hdHJpeC5jbG9uZSgpXG5cdHZhciBtID0gdnAudGhyZWVfY2FtZXJhLm1hdHJpeC5jbG9uZSgpXG5cdG1wLm11bHRpcGx5KG0pXG5cdHZhciBtciA9IG5ldyBUSFJFRS5NYXRyaXg0KCkuZXh0cmFjdFJvdGF0aW9uKG1wKVxuXHR2YXIgcm90ID0gbmV3IFRIUkVFLkV1bGVyKCkuc2V0RnJvbVJvdGF0aW9uTWF0cml4KG1yKVxuXHRcblx0Ly8gY29uc29sZS5sb2codnAudGhyZWVfY2FtZXJhKVxuXHR0aGlzLnNreUJveENhbWVyYVt2cC5zY2VuZV0ucm90YXRpb24uY29weSggcm90ICk7XG5cblx0Ly90aGlzLnJlbmRlcmVyLnNldFZpZXdwb3J0KHZwLmdlb20ubCwgdnAuZ2VvbS50LCB2cC5nZW9tLncsIHZwLmdlb20uaCk7XG5cdHRoaXMucmVuZGVyZXIucmVuZGVyKCB0aGlzLnNreWJveFNjZW5lc1t2cC5zY2VuZV0sIHRoaXMuc2t5Qm94Q2FtZXJhW3ZwLnNjZW5lXSApO1xuXHQvLyByZW5kZXJlci5yZW5kZXIoIHNjZW5lLCBjYW1lcmEgKTtcblx0Ly8gY29uc29sZS5sb2codGhpcy5za3lCb3gucG9zaXRpb24pXG5cdFxufVxuXG53aW5kb3cuV29ybGQuZ2V0X21haW5fdmlld3BvcnQgPSBmdW5jdGlvbigpe1xuXHQvL2NvbnNvbGUubG9nKHRoaXMuX21haW5fdmlld3BvcnQpO1xuXHRyZXR1cm4gdGhpcy5fdmlld3BvcnRzW3RoaXMuX21haW5fdmlld3BvcnRdO1xufVxud2luZG93LldvcmxkLl9pbml0X3ZwcyA9IGZ1bmN0aW9uKCl7XG5cdHZhciBtdnAgPSB0aGlzLl92aWV3cG9ydHNbdGhpcy5fbWFpbl92aWV3cG9ydF07XG5cdHZhciBzZWxmID0gdGhpcztcblx0Ly8gY29uc29sZS5sb2cobXZwKTtcblx0bXZwLmdlb20gPSB7dDowLCBsOjAsIHc6dGhpcy52cF93aWR0aCwgaDp0aGlzLnZwX2hlaWdodH07XG5cdG12cC50aHJlZV9jYW1lcmEgPSB0aGlzLm1ha2VDYW1lcmEobXZwKVxuXHRfLmVhY2gobXZwLlVJUywgZnVuY3Rpb24odWkpe1xuXHRcdHVpLmNvbnN0cnVjdCgpO1xuXHR9KVxuXHQvLyB0aGlzLlxuXHRfLmVhY2gobXZwLmFjdG9ycywgZnVuY3Rpb24oYWN0b3Ipe1xuXHRcdC8vIGdldCBhY3Rpb25zIGZvciB0aGlzIGFjdG9yXG5cdFx0Ly8gY29uc29sZS5sb2coc2VsZi5zY2VuZUFjdGlvbnMpO1xuICAgICAgICB2YXIgc2NlbmVfZ3VpZCA9IHNlbGYuYWN0b3JTY2VuZVthY3Rvci5HVUlEXTtcblx0XHR2YXIgdG90YWxfYWN0aW9ucyA9IHNlbGYuc2NlbmVBY3Rpb25zW3NjZW5lX2d1aWRdW2FjdG9yLmNvbnRyb2wub2JqZWN0X2d1aWRdW2FjdG9yLmNvbnRyb2wud29ya3BvaW50XTtcblx0XHRfLmVhY2godG90YWxfYWN0aW9ucywgZnVuY3Rpb24oYWN0aW9uKXtcblx0XHRcdGlmKGFjdGlvbi5kZWZhdWx0X2tleSl7XG5cdFx0XHRcdHNlbGYuX2lucHV0X2tleW1hcFthY3Rpb24uZGVmYXVsdF9rZXldID0gYWN0aW9uO1xuXHRcdFx0fVxuXHRcdH0pXG5cdFx0Ly8gY29uc29sZS5sb2codG90YWxfYWN0aW9ucyk7XG5cdH0pXG5cdFxuXHR0aGlzLnRocmVlX3NjZW5lc1ttdnAuc2NlbmVdLmFkZCh0aGlzLmN1cik7XG5cdHRoaXMuaW5pdFNwYWNlKG12cCk7XG5cdFxuXHRcblx0dmFyIHNlbGYgPSB0aGlzO1xuXHRzZWxmLklucHV0cyA9IG5ldyBDb250cm9sbGVyLkxvY2FsSW5wdXRBY3RvcihzZWxmLCBzZWxmLnNvY2tldClcblx0Ly8gc2VsZi5fY29udHJhbGxhYmxlID0gc2VsZi5jb250cm9sbGFibGUoKTtcblx0XG5cdF8uZWFjaCh0aGlzLl9hZGRpdGlvbmFsX3ZwcywgZnVuY3Rpb24odnBfbmFtZSxpKXtcblx0XHR2YXIgdnAgPSBzZWxmLl92aWV3cG9ydHNbdnBfbmFtZV07XG5cdFx0dnAuZ2VvbSA9IHNlbGYuX2FkZGl0aW9uYWxfdnBzX2dlb21baV1cblx0XHR2cC50aHJlZV9jYW1lcmEgPSBzZWxmLm1ha2VDYW1lcmEodnApXG5cdFx0c2VsZi5pbml0U3BhY2UodnApO1xuXHRcdFxuXHRcdFxuXHR9KVxuXHRcbn1cblxud2luZG93LldvcmxkLnNldHVwQ2FtZXJhcyA9IGZ1bmN0aW9uKCl7XG5cdHZhciBzZWxmID0gdGhpcztcblx0Ly8g0KHQvdCw0YfQsNC70LAg0YHQvtGB0YLQsNCy0LjQvCDRgdC/0LjRgdC+0Log0YPQvdC40LrQsNC70YzQvdGL0YUg0LLRjNGO0L/QvtGA0YLQvtCyIC0g0YHRhtC10L3QsC3QvtCx0YrQtdC60YIt0LrQsNC80LXRgNCwXG5cdHNlbGYuX3ZpZXdwb3J0cyA9IHt9XG5cdHNlbGYuX3ZpZXdwb3J0X2Ftb3VudCA9IDA7XG5cdHZhciBpc19maXJzdCA9IHRydWU7XG5cdC8vIHZhciBjbWFwID0gQ29udHJvbGxlci5Db250cm9sbGVyc0FjdGlvbk1hcCgpO1xuXHRjb25zb2xlLmxvZyhcInNldHRpbmcgdXAgY2FtZXJhcyB3aXRoXCIsIHNlbGYuYWN0b3JzKTtcblx0Xy5lYWNoKHNlbGYuYWN0b3JzLCBmdW5jdGlvbihhY3Rvcil7XG5cdFx0Ly9jb25zb2xlLmxvZyhhY3Rvcilcblx0XHR2YXIgd3AgPSBhY3Rvci5jb250cm9sLndvcmtwb2ludDtcbiAgICAgICAgdmFyIHNjZW5lX2d1aWQgPSBzZWxmLmFjdG9yU2NlbmVbYWN0b3IuR1VJRF07XG5cdFx0Y29uc29sZS5sb2coXCJzY2VuZXNcIiwgc2VsZi5zY2VuZXMsIHNjZW5lX2d1aWQpO1xuXHRcdHZhciB2aWV3cyA9IHNlbGYuc2NlbmVzW3NjZW5lX2d1aWRdLmdldF9vYmplY3QoYWN0b3IuY29udHJvbC5vYmplY3RfZ3VpZCkud29ya3BvaW50c1t3cF0udmlld3Ncblx0XHR2YXIgbWVzaCA9IHNlbGYuc2NlbmVzW3NjZW5lX2d1aWRdLm1lc2hlc1thY3Rvci5jb250cm9sLm9iamVjdF9ndWlkXTtcblx0XHR2YXIgdWlzID0gbWVzaC5nZXRVSUZvcldQKHdwKTtcblx0XHRcblx0XHRfLmVhY2godmlld3MsIGZ1bmN0aW9uKHZpZXcpe1xuXHRcdFx0dmFyIHZwX2hhc2ggPSBzY2VuZV9ndWlkICsgYWN0b3IuY29udHJvbC5vYmplY3RfZ3VpZCArIHZpZXc7XG5cdFx0XHRpZiAoaXNfZmlyc3Qpe1xuXHRcdFx0XHRzZWxmLl9tYWluX3ZpZXdwb3J0ID0gdnBfaGFzaDtcblx0XHRcdH1cblx0XHRcdC8vIGNvbnNvbGUubG9nKFwiIHNob3cgbWUgXCIsIGFjdG9yKTtcblx0XHRcdGlmKCEodnBfaGFzaCBpbiBzZWxmLl92aWV3cG9ydHMpKXtcblx0XHRcdFx0dmFyIHZwID0ge3NjZW5lOnNjZW5lX2d1aWQsIG9iamVjdDphY3Rvci5jb250cm9sLm9iamVjdF9ndWlkLCBjYW1lcmE6IHZpZXcsIGFjdG9yczpbYWN0b3JdLCBVSVM6dWlzfVxuXHRcdFx0XHRzZWxmLl92aWV3cG9ydHNbdnBfaGFzaF0gPSB2cFxuXHRcdFx0XHRzZWxmLl92aWV3cG9ydF9hbW91bnQgKz0xO1xuXHRcdFx0fWVsc2V7XG5cdFx0XHRcdHNlbGYuX3ZpZXdwb3J0c1t2cF9oYXNoXS5hY3RvcnMucHVzaChhY3Rvcik7XG5cdFx0XHRcdHZhciBVID0gc2VsZi5fdmlld3BvcnRzW3ZwX2hhc2hdLlVJUztcbiAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyggVSwgVS5jb25jYXQodWlzKSwgdWlzICkgO1xuXHRcdFx0XHRzZWxmLl92aWV3cG9ydHNbdnBfaGFzaF0uVUlTID0gVS5jb25jYXQodWlzKTtcblx0XHRcdFx0XG5cdFx0XHR9XG5cdFx0fSlcblx0fSlcblx0Ly8gc2VsZi5fbWFpbl92aWV3cG9ydCA9IDA7XG5cdC8vIGNvbnNvbGUubG9nKFwiVlBcIixzZWxmLl92aWV3cG9ydHNbc2VsZi5fbWFpbl92aWV3cG9ydF0pO1xuXHQvL3NlbGYuX3ZpZXdwb3J0c1tzZWxmLl9tYWluX3ZpZXdwb3J0XVxuXHRzZWxmLl9pbml0X3ZwcygpO1xuXHR2YXIgc2VsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3ZpZXdwb3J0cy1zZWxlY3QnKTtcblx0c2VsLmlubmVySHRtbCA9IFwiXCI7XG5cdF8uZWFjaChzZWxmLl92aWV3cG9ydHMsIGZ1bmN0aW9uKHZwLGspe1xuXHRcdHZhciBvcHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdvcHRpb24nKVxuXHRcdG9wdC52YWx1ZSA9IGs7XG5cdFx0b3B0LmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKHZwLmNhbWVyYSkpXG5cdFx0c2VsLmFwcGVuZENoaWxkKG9wdClcblx0fSlcblx0XG5cdFxufVxuXG5cblxud2luZG93LldvcmxkLnJlZHJhd1N1biA9IGZ1bmN0aW9uKHZwKXtcblx0dmFyIG0gPSB0aGlzLnNjZW5lc1t2cC5zY2VuZV0ubWVzaGVzW3ZwLm9iamVjdF1cblx0XG5cdHZhciBzZCA9IG5ldyBUSFJFRS5WZWN0b3IzKCkuZnJvbUFycmF5KFswLDEsMF0pLm11bHRpcGx5U2NhbGFyKDEwKTsgXG5cdC8vY29uc29sZS5sb2coc2QsIHRoaXMuc2NlbmVzW3ZwLnNjZW5lXS5fc2NlbmUuc3VuRGlyZWN0aW9uKTtcblx0XG5cdHRoaXMuZmxhcmVzW3ZwLnNjZW5lXS5wb3NpdGlvbiA9IG0ucG9zaXRpb24uY2xvbmUoKS5hZGQoc2QpXG5cdC8vIGNvbnNvbGUubG9nKHRoaXMuZmxhcmVzW3ZwLnNjZW5lXS5wb3NpdGlvbilcbn1cblxud2luZG93LldvcmxkLm1ha2VDYW1lcmEgPSBmdW5jdGlvbih2cCApe1xuXHR2YXIgc2VsZiA9IHRoaXM7XG5cdC8vdmFyIGFjdG9yID0gc2VsZi5nZXRfY3VycmVudF9hY3RvcigpXG5cdFxuXHQvLyBjb25zb2xlLmxvZyhcIlNFVCBDQU1FUkFcIik7XG5cdC8vIHZhciBjb250cm9sbGFibGUgPSBzZWxmLmNvbnRyb2xsYWJsZSgpXG5cdC8vIHZhciB3cCAgXHRcdCA9IGFjdG9yLmNvbnRyb2wud29ya3BvaW50c1xuXHQvLyB2YXIgdnAgICAgICAgIFx0ID0gYWN0b3IuY29udHJvbC52aWV3cG9ydDtcblx0XG5cdHZhciBzY2VuZSA9IHZwLnNjZW5lXG5cdHZhciBvYmplY3RfaWQgPSB2cC5vYmplY3Rcblx0dmFyIHBvcnQgPSB2cC5jYW1lcmFcblx0dmFyIG1lc2ggPSBzZWxmLnNjZW5lc1tzY2VuZV0ubWVzaGVzW29iamVjdF9pZF1cblx0dmFyIG9iamVjdCA9IHNlbGYuc2NlbmVzW3NjZW5lXS5nZXRfb2JqZWN0KG9iamVjdF9pZClcblx0XG5cdHZhciBjYW1lcmEgPSBuZXcgVEhSRUUuUGVyc3BlY3RpdmVDYW1lcmEoNDUsIHZwLmdlb20udyAvIHZwLmdlb20uaCwgMSwgMTAwMCk7XG5cdFxuXHR2YXIgdnBfcG9zICAgIFx0ID0gbmV3IFRIUkVFLlZlY3RvcjMoKTtcblx0dmFyIHZwX3JvdCAgXHQgPSBuZXcgVEhSRUUuVmVjdG9yMygpO1xuXHQvLyBjb25zb2xlLmxvZyhvYmplY3QsIGNhbWVyYSk7XG5cdHZwX3Bvcy5zZXQuYXBwbHkodnBfcG9zLCBvYmplY3QuY2FtZXJhc1twb3J0XS5wb3NpdGlvbilcblx0dnBfcm90LnNldC5hcHBseSh2cF9yb3QsIG9iamVjdC5jYW1lcmFzW3BvcnRdLmRpcmVjdGlvbilcblx0XG5cdHZhciBjYW1fYmFzZSA9IG5ldyBUSFJFRS5WZWN0b3IzKDAsMCwtMSk7XG5cdHZhciBheGlzID0gbmV3IFRIUkVFLlZlY3RvcjMoKVxuXHRheGlzLmNyb3NzVmVjdG9ycyhjYW1fYmFzZSwgdnBfcm90KVxuXHR2YXIgYWcgPSBNYXRoLmFjb3MoY2FtX2Jhc2UuZG90KHZwX3JvdCkvIGNhbV9iYXNlLmxlbmd0aCgpIC8gdnBfcm90Lmxlbmd0aCgpKVxuXHQgLy9jb25zb2xlLmxvZyhheGlzLmxlbmd0aCgpID09PSAwICYmIGNhbV9iYXNlLmVxdWFscyggdnBfcm90ICkgKVxuXHRpZihheGlzLmxlbmd0aCgpID09PSAwICYmICFjYW1fYmFzZS5lcXVhbHMoIHZwX3JvdCApICl7XG5cdFx0YXhpcyA9IG5ldyBUSFJFRS5WZWN0b3IzKDAsMSwwKVxuXHRcdGFnID0gTWF0aC5QSTtcblx0XHRcblx0fVxuXHQvL2NvbnNvbGUubG9nKGF4aXMsYWcsIHZwX3JvdCk7XG5cdC8vY29uc29sZS5sb2codnBfcm90KVxuXHRjYW1lcmEucm90YXRlT25BeGlzKGF4aXMsIGFnKVxuXHRcblx0Y2FtZXJhLnBvc2l0aW9uID0gdnBfcG9zOyAvLyBjb250cm9sbGFibGUucG9zaXRpb24uY2xvbmUoKS5hZGQodnBfcG9zKVxuXHRtZXNoLmFkZChjYW1lcmEpXG5cdHJldHVybiBjYW1lcmFcblx0XG5cdFxufVxuXG53aW5kb3cuV29ybGQuc2V0dXBfc2NlbmUgPSBmdW5jdGlvbihzY2VuZSl7XG5cdG1hdGVyaWFsID0gbmV3IFRIUkVFLk1lc2hCYXNpY01hdGVyaWFsKHtcblx0ICAgY29sb3I6IDB4ZmYwMDAwLFxuXHQgICB3aXJlZnJhbWU6IHRydWVcblx0fSk7XG5cdC8vIGNvbnNvbGUubG9nKHNjZW5lLl9zY2VuZSlcblx0XG5cdHZhciBzdW5EaXJlY3Rpb24gPSBuZXcgVEhSRUUuVmVjdG9yMygpLmZyb21BcnJheShbMCwxLDBdKSA7XG5cdC8vdGhpcy5zdW5MaWdodENvbG9yID0gWzAuMSwgMC43LCAwLjVdO1xuXHRcblx0dmFyIGFtYmllbnRMaWdodCA9IG5ldyBUSFJFRS5BbWJpZW50TGlnaHQoMHgwMTAxMDEpO1xuXHR0aGlzLnRocmVlX3NjZW5lc1tzY2VuZS5HVUlEXS5hZGQoYW1iaWVudExpZ2h0KTtcblxuXHR2YXIgbGlnaHQgPSBuZXcgVEhSRUUuRGlyZWN0aW9uYWxMaWdodCggMHhGRkZGZWUsIDEgKTtcblx0Ly8gY29uc29sZS5sb2coXCJDT0xPUlwiLHNjZW5lLl9zY2VuZS5zdW5MaWdodENvbG9yKTtcblx0bGlnaHQuY29sb3Iuc2V0SFNMLmFwcGx5KGxpZ2h0LmNvbG9yLCBbTWF0aC5yYW5kb20oKSwgMC44LCAwLjldICk7XG5cdGxpZ2h0LnBvc2l0aW9uID0gc3VuRGlyZWN0aW9uXG5cblx0dGhpcy50aHJlZV9zY2VuZXNbc2NlbmUuR1VJRF0uYWRkKCBsaWdodCApO1xuXHR0aGlzLmluaXRTdW4oc2NlbmUpXG5cdFxuXHR0aGlzLnNjZW5lQWN0aW9uc1tzY2VuZS5HVUlEXSA9IHNjZW5lLmdldEFjdGlvbnMoKTsgLy8g0JfQtNC10YHRjCDQsdGD0LTRg9GCINCy0YHQtSDQsNC60YbQuNC4INC/0L4g0LLRgdC10Lwg0YHRhtC10L3QsNC8XG5cdC8vINCT0LTQtS3RgtC+INC30LTQtdGB0Ywg0LzQvtC20L3QviDQv9GA0LjQstGP0LfQsNGC0Ywg0LrQvtC90YLRgNC+0LvQu9GLXG5cdFxufVxuXG5cbndpbmRvdy5Xb3JsZC5iaW5kQ2FtZXJhID0gZnVuY3Rpb24oKXtcblx0XG5cdHZhciBzZWxmID0gdGhpcztcblx0Ly8gY29uc29sZS5sb2coc2VsZi5hY3RvcnMpO1xuXHR2YXIgYWN0b3IgXHRcdCA9IHNlbGYuZ2V0X2N1cnJlbnRfYWN0b3IoKTtcblx0Ly9jb25zb2xlLmxvZyhhY3Rvci5jb250cm9sKTtcblx0dmFyIGNvbnRyb2xsYWJsZSA9IHNlbGYubWVzaGVzKClbIGFjdG9yLmNvbnRyb2wub2JqZWN0X2d1aWQgXTtcblx0Y29udHJvbGxhYmxlLmFkZCggc2VsZi5jYW1lcmEgKVxuXHRzZWxmLnNldENhbWVyYSgpO1xuXHRcbn1cblxuXG53aW5kb3cuV29ybGQuZ28gPSBmdW5jdGlvbigpe1xuXHR2YXIgc2VsZiA9IHRoaXM7XG5cdHZhciBsYXN0X3RpbWVzdGFtcCA9IGZhbHNlO1xuXHR2YXIgZmlyc3RfbG9vcCA9IHRydWU7XG5cdHZhciB0aW1lX2luYyA9IDBcblx0Ly8gc2VsZi5tb3VzZV9wcm9qZWN0aW9uX3ZlYyA9IG5ldyBUSFJFRS5WZWN0b3IzKCk7XG5cdC8vIHZhciBfM2Rfc2NlbmUgPSBzZWxmLnNldHVwX3NjZW5lKHNlbGYuc2NlbmUuXzNzY2VuZSlcblx0dmFyIF9kID0gZmFsc2Vcblx0c2VsZi5zZXR1cENhbWVyYXMoKTtcblx0XG5cdFxuXHRcblx0Ly8gdmFyIF90aW1lX2ludGVydiA9IFxuXHRcblx0dmFyIG1ha2VUaWNrcyA9IGZ1bmN0aW9uKCl7XG5cdFx0Xy5lYWNoKHNlbGYuc2NlbmVzLCBmdW5jdGlvbihzLCBnKXtcblx0XHRcdC8vY29uc29sZS5sb2coXCJyZWNvdW50IFwiLGcpO1xuXHRcdFx0cy50aWNrKClcblx0XHRcdC8vY29uc29sZS5sb2coXCJpcyBtYWRlIHN5bmN5XCIpOyBcblx0XHR9KVxuXHR9XG5cdFxuXHRcbiAgICB2YXIgYW5pbWF0ZSA9IGZ1bmN0aW9uKCl7XG4gICAgICAgIC8vIGlmIChzZWxmLnRvdGFsX29iamVjdHNfY291bnQgPT09IHNlbGYubG9hZGVkX29iamVjdHNfY291bnQpe1xuICAgICAgICBtYWtlVGlja3MoKTtcbiAgICAgICAgLy9jb25zb2xlLmxvZyhzZWxmLl92aWV3cG9ydHMpXG4gICAgICAgIHZhciBtdnAgPSBzZWxmLmdldF9tYWluX3ZpZXdwb3J0KCk7XG4gICAgICAgIHZhciBnZW9tID0gc2VsZi5fbWFpbl92cF9nZW9tXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKFwiUkVOREVSXCIpO1xuICAgICAgICAvLyBCZWZvcmUgcmVuZGVyaW5nIGxldCdzIHVwZGF0ZSBvdXIgdW5pZm9ybXM7XG4gICAgICAgIF8uZWFjaChzZWxmLl91bmlmb3JtX3VwZGF0ZXJzLCBmdW5jdGlvbihmLCBuYW1lKXtcbiAgICAgICAgICAgIGYoKTtcbiAgICAgICAgfSlcbiAgICAgICAgc2VsZi5yZW5kZXIobXZwLCBnZW9tKTtcbiAgICAgICAgXy5lYWNoKG12cC5VSVMsIGZ1bmN0aW9uKHVpKXtcbiAgICAgICAgXHR1aS5yZWZyZXNoKCk7XG4gICAgICAgIH0pXG4gICAgICAgIHNlbGYubW91c2VfcHJvamVjdGlvbl92ZWMuc2V0KCAoIHNlbGYubW91c2VfeC8gZ2VvbS53ICkgKiAyIC0gMSwgLSAoIHNlbGYubW91c2VfeSAvIGdlb20uaCApICogMiArIDEsIDAuOTkgKTtcblxuICAgICAgICBzZWxmLnAudW5wcm9qZWN0VmVjdG9yKCBzZWxmLm1vdXNlX3Byb2plY3Rpb25fdmVjLCBtdnAudGhyZWVfY2FtZXJhICk7XG5cbiAgICAgICAgc2VsZi5jdXIucG9zaXRpb24uY29weSggc2VsZi5tb3VzZV9wcm9qZWN0aW9uX3ZlYyApO1xuICAgICAgICAvL2NvbnNvbGUubG9nKHNlbGYubW91c2VfcHJvamVjdGlvbl92ZWMpO1xuXG5cbiAgICAgICAgXy5lYWNoKHNlbGYuX2FkZGl0aW9uYWxfdnBzLCBmdW5jdGlvbih2cF9uYW1lLCBpKXtcbiAgICAgICAgICAgIHZhciB2cCA9IHNlbGYuX3ZpZXdwb3J0c1t2cF9uYW1lXTtcbiAgICAgICAgICAgIHNlbGYucmVuZGVyKHZwLCBzZWxmLl9hZGRpdGlvbmFsX3Zwc19nZW9tW2ldKVxuICAgICAgICB9KVxuICAgICAgICAvL31cbiAgICAgICAgICAgIFxuXHRcdFNMLnJlZHJhdygpO1xuICAgIFxuXHRcdHJlcXVlc3RBbmltYXRpb25GcmFtZShhbmltYXRlKVxuICAgIFx0XG4gICAgfVxuXHRyZXF1ZXN0QW5pbWF0aW9uRnJhbWUoYW5pbWF0ZSk7XG5cdFxufSIsIlxud2luZG93LldvcmxkLmxvYWRfc2NlbmUgPSBmdW5jdGlvbiAoc2NlbmVfanMsIG9ubG9hZCl7XG5cdC8vIGNvbnNvbGUubG9nKCd3ZWxsLXdlbGwnLCBzY2VuZS5fc2NlbmUpO1xuXHRcblx0Ly8gdGhpcy5zY2VuZXMgPSB7fVxuXHRcblx0dmFyIHNjZW5lID0gbmV3IFNjZW5lKClcblx0XG5cdHNjZW5lLnNldF9mcm9tX2pzb24oc2NlbmVfanMpXG5cdFxuXHRcblx0dGhpcy5zY2VuZXNbc2NlbmUuR1VJRF0gPSBzY2VuZTtcblx0dGhpcy50aHJlZV9zY2VuZXNbc2NlbmUuR1VJRF0gPSBuZXcgVEhSRUUuU2NlbmUoKTtcblx0Ly8gY29uc29sZS5sb2coXCJXV1dcIiwgb25sb2FkKTtcblx0c2NlbmUubG9hZChvbmxvYWQsIHRoaXMudGhyZWVfc2NlbmVzW3NjZW5lLkdVSURdLCB0aGlzIClcblx0XG5cdC8vIFxuXHQvL2NvbnNvbGUubG9nKFwibG9hZGluZyB0aGlzIHNjZW5lXCIsIHNjZW5lLkdVSUQpO1xuXG59XG5cbndpbmRvdy5Xb3JsZC5pbml0U3VuID0gZnVuY3Rpb24oc2NlbmUpe1xuXHRcblx0dmFyIGZsYXJlQ29sb3IgPSBuZXcgVEhSRUUuQ29sb3IoIDB4ZmZmZmZmICk7XG5cdHZhciBzbCA9IF8uY2xvbmUoW01hdGgucmFuZG9tKCksIDAuOCwgMC45XSk7XG5cdHNsWzJdICs9IDAuNVxuXHRmbGFyZUNvbG9yLnNldEhTTC5hcHBseShmbGFyZUNvbG9yLCBzbCk7XG5cdFxuXHR2YXIgdGV4dHVyZUZsYXJlMCA9IFRIUkVFLkltYWdlVXRpbHMubG9hZFRleHR1cmUoIFwiL3RleHR1cmVzL2xlbnNmbGFyZS9sZW5zZmxhcmUwLnBuZ1wiICk7XG5cdHZhciB0ZXh0dXJlRmxhcmUyID0gVEhSRUUuSW1hZ2VVdGlscy5sb2FkVGV4dHVyZSggXCIvdGV4dHVyZXMvbGVuc2ZsYXJlL2xlbnNmbGFyZTIucG5nXCIgKTtcblx0dmFyIHRleHR1cmVGbGFyZTMgPSBUSFJFRS5JbWFnZVV0aWxzLmxvYWRUZXh0dXJlKCBcIi90ZXh0dXJlcy9sZW5zZmxhcmUvbGVuc2ZsYXJlMy5wbmdcIiApO1xuXHRcblx0dmFyIGxlbnNGbGFyZSA9IG5ldyBUSFJFRS5MZW5zRmxhcmUoIHRleHR1cmVGbGFyZTAsIDcwMCwgMC4wLCBUSFJFRS5BZGRpdGl2ZUJsZW5kaW5nLCBmbGFyZUNvbG9yICk7XG5cblx0bGVuc0ZsYXJlLmFkZCggdGV4dHVyZUZsYXJlMiwgNTEyLCAwLjAsIFRIUkVFLkFkZGl0aXZlQmxlbmRpbmcgKTtcblx0bGVuc0ZsYXJlLmFkZCggdGV4dHVyZUZsYXJlMiwgNTEyLCAwLjAsIFRIUkVFLkFkZGl0aXZlQmxlbmRpbmcgKTtcblx0bGVuc0ZsYXJlLmFkZCggdGV4dHVyZUZsYXJlMiwgNTEyLCAwLjAsIFRIUkVFLkFkZGl0aXZlQmxlbmRpbmcgKTtcblxuXHRsZW5zRmxhcmUuYWRkKCB0ZXh0dXJlRmxhcmUzLCA2MCwgMC42LCBUSFJFRS5BZGRpdGl2ZUJsZW5kaW5nICk7XG5cdGxlbnNGbGFyZS5hZGQoIHRleHR1cmVGbGFyZTMsIDcwLCAwLjcsIFRIUkVFLkFkZGl0aXZlQmxlbmRpbmcgKTtcblx0bGVuc0ZsYXJlLmFkZCggdGV4dHVyZUZsYXJlMywgMTIwLCAwLjksIFRIUkVFLkFkZGl0aXZlQmxlbmRpbmcgKTtcblx0bGVuc0ZsYXJlLmFkZCggdGV4dHVyZUZsYXJlMywgNzAsIDEuMCwgVEhSRUUuQWRkaXRpdmVCbGVuZGluZyApO1xuXHR2YXIgbGVuc0ZsYXJlVXBkYXRlQ2FsbGJhY2sgPSBmdW5jdGlvbiAoIG9iamVjdCApIHtcblxuXHRcdHZhciBmLCBmbCA9IG9iamVjdC5sZW5zRmxhcmVzLmxlbmd0aDtcblx0XHR2YXIgZmxhcmU7XG5cdFx0dmFyIHZlY1ggPSAtb2JqZWN0LnBvc2l0aW9uU2NyZWVuLnggKiAyO1xuXHRcdHZhciB2ZWNZID0gLW9iamVjdC5wb3NpdGlvblNjcmVlbi55ICogMjtcblxuXG5cdFx0Zm9yKCBmID0gMDsgZiA8IGZsOyBmKysgKSB7XG5cblx0XHRcdCAgIGZsYXJlID0gb2JqZWN0LmxlbnNGbGFyZXNbIGYgXTtcblxuXHRcdFx0ICAgZmxhcmUueCA9IG9iamVjdC5wb3NpdGlvblNjcmVlbi54ICsgdmVjWCAqIGZsYXJlLmRpc3RhbmNlO1xuXHRcdFx0ICAgZmxhcmUueSA9IG9iamVjdC5wb3NpdGlvblNjcmVlbi55ICsgdmVjWSAqIGZsYXJlLmRpc3RhbmNlO1xuXG5cdFx0XHQgICBmbGFyZS5yb3RhdGlvbiA9IDA7XG5cblx0XHR9XG5cblx0XHRvYmplY3QubGVuc0ZsYXJlc1sgMiBdLnkgKz0gMC4wMjU7XG5cdFx0b2JqZWN0LmxlbnNGbGFyZXNbIDMgXS5yb3RhdGlvbiA9IG9iamVjdC5wb3NpdGlvblNjcmVlbi54ICogMC41ICsgVEhSRUUuTWF0aC5kZWdUb1JhZCggNDUgKTtcblxuXHR9XG5cdGxlbnNGbGFyZS5jdXN0b21VcGRhdGVDYWxsYmFjayA9IGxlbnNGbGFyZVVwZGF0ZUNhbGxiYWNrO1xuXHRsZW5zRmxhcmUucG9zaXRpb24gPSBuZXcgVEhSRUUuVmVjdG9yMygpLmZyb21BcnJheShbMCwxLDBdKS5tdWx0aXBseVNjYWxhcig1MDApXG5cdFxuXHRcblx0Ly8gdGhpcy5zdW5CaWxsYm9hcmQgPSBuZXcgVEhSRUUuU3ByaXRlKHRleHR1cmVGbGFyZTAgKVxuXHR0aGlzLnRocmVlX3NjZW5lc1tzY2VuZS5HVUlEXS5hZGQobGVuc0ZsYXJlKVxuXHR0aGlzLmZsYXJlc1tzY2VuZS5HVUlEXSA9IGxlbnNGbGFyZTtcbn1cbndpbmRvdy5Xb3JsZC5pbml0U3BhY2UgID0gZnVuY3Rpb24odnApe1xuXG5cdHZhciBwYXRoID0gXCIvdGV4dHVyZXMvc3BhY2UvbTAxX2N1YmVcIjtcblx0dmFyIGZvcm1hdCA9ICdwbmcnO1xuXHR2YXIgdXJscyA9IFtcblx0XHRwYXRoICsgJy5weC4nICsgZm9ybWF0LCBwYXRoICsgJy5ueC4nICsgZm9ybWF0LFxuXHRcdHBhdGggKyAnLnB5LicgKyBmb3JtYXQsIHBhdGggKyAnLm55LicgKyBmb3JtYXQsXG5cdFx0cGF0aCArICcucHouJyArIGZvcm1hdCwgcGF0aCArICcubnouJyArIGZvcm1hdFxuXHRdO1xuXG5cdHZhciB0ZXh0dXJlQ3ViZSA9IFRIUkVFLkltYWdlVXRpbHMubG9hZFRleHR1cmVDdWJlKCB1cmxzICk7XG5cdHZhciBzaGFkZXIgPSBUSFJFRS5TaGFkZXJMaWJbIFwiY3ViZVwiIF07XG5cdHNoYWRlci51bmlmb3Jtc1sgXCJ0Q3ViZVwiIF0udmFsdWUgPSB0ZXh0dXJlQ3ViZTtcblxuXHR2YXIgbWF0ZXJpYWwgPSBuZXcgVEhSRUUuU2hhZGVyTWF0ZXJpYWwoIHtcblxuXHRcdGZyYWdtZW50U2hhZGVyOiBzaGFkZXIuZnJhZ21lbnRTaGFkZXIsXG5cdFx0dmVydGV4U2hhZGVyOiBzaGFkZXIudmVydGV4U2hhZGVyLFxuXHRcdHVuaWZvcm1zOiBzaGFkZXIudW5pZm9ybXMsXG5cdFx0ZGVwdGhXcml0ZTogZmFsc2UsXG5cdFx0c2lkZTogVEhSRUUuQmFja1NpZGVcblxuXHR9ICk7XG5cdHRoaXMuc2t5Ym94U2NlbmVzW3ZwLnNjZW5lXSA9IG5ldyBUSFJFRS5TY2VuZSgpO1xuXHR2YXIgbSA9IG5ldyBUSFJFRS5NZXNoKCBuZXcgVEhSRUUuQ3ViZUdlb21ldHJ5KCA5MDAwLCA5MDAwLCA5MDAwICksIG1hdGVyaWFsICk7XG5cdHRoaXMuc2t5Qm94ZXNbdnAuc2NlbmVdICAgPSBtXG5cdFxuXHR0aGlzLnNreUJveENhbWVyYVt2cC5zY2VuZV0gPSBuZXcgVEhSRUUuUGVyc3BlY3RpdmVDYW1lcmEoNDUsIHZwLmdlb20udyAvIHZwLmdlb20uaCwgMSwgMTAwMDApO1xuXHR0aGlzLnNreWJveFNjZW5lc1t2cC5zY2VuZV0uYWRkKG0pO1xufVxuXG5cbi8vIFZpZXBvcnQgZnVuY3Rpb25zXG53aW5kb3cuV29ybGQubWFrZV9tYWluID0gZnVuY3Rpb24oc2NlbmUpe1xuXHR2YXIgc2VsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3ZpZXdwb3J0cy1zZWxlY3QnKTtcblx0dGhpcy5fbWFpbl92aWV3cG9ydCA9IHNlbC5vcHRpb25zW3NlbC5zZWxlY3RlZEluZGV4XS52YWx1ZTtcblx0dGhpcy5faW5pdF92cHMoKVxufVxud2luZG93LldvcmxkLmFkZF9pY29uID0gZnVuY3Rpb24oc2NlbmUpe1xuXHR2YXIgc2VsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3ZpZXdwb3J0cy1zZWxlY3QnKTtcblx0YWRkX3ZwID0gc2VsLm9wdGlvbnNbc2VsLnNlbGVjdGVkSW5kZXhdLnZhbHVlO1xuXHRpZih0aGlzLl9hZGRpdGlvbmFsX3Zwcy5sZW5ndGggPT0gMyl7XG5cdFx0dGhpcy5fYWRkaXRpb25hbF92cHNbMl0gPT0gYWRkX3ZwO1xuXHRcdFxuXHR9ZWxzZXtcblx0XHR0aGlzLl9hZGRpdGlvbmFsX3Zwcy5wdXNoKGFkZF92cCk7XG5cdH1cblx0dGhpcy5faW5pdF92cHMoKVxuXHRcblx0XG59XG5cbndpbmRvdy5Xb3JsZC5tZXNoZXMgPSBmdW5jdGlvbigpe1xuXHRyZXR1cm4gdGhpcy5zY2VuZS5tZXNoZXNcbn1cblxuXG53aW5kb3cuV29ybGQuY29udHJvbGxhYmxlID0gZnVuY3Rpb24oKXtcblx0dmFyIG12cCA9IHRoaXMuZ2V0X21haW5fdmlld3BvcnQoKTtcblx0Ly8gY29uc29sZS5sb2coXCJNTU1cIiwgbXZwKVxuXHRyZXR1cm4gdGhpcy5zY2VuZXNbbXZwLnNjZW5lXS5tZXNoZXNbbXZwLm9iamVjdF1cbn1cbndpbmRvdy5Xb3JsZC5tZXNoX2ZvciA9IGZ1bmN0aW9uKGFjdG9yKXtcblx0Ly9jb25zb2xlLmxvZyhcIj4+PlwiLHRoaXMubWVzaGVzKClbdGhpcy5zY2VuZS5hY3RvcnNbYWN0b3JdLmNvbnRyb2wub2JqZWN0X2d1aWRdKTtcblx0cmV0dXJuIHRoaXMubWVzaGVzKClbdGhpcy5zY2VuZS5hY3RvcnNbYWN0b3JdLmNvbnRyb2wub2JqZWN0X2d1aWRdXG59XG5cblxud2luZG93LldvcmxkLmdldF9jdXJyZW50X2FjdG9yID0gZnVuY3Rpb24oKXtcblx0dmFyIHNlbGYgPSB0aGlzO1xuXHRyZXR1cm4gc2VsZi5zY2VuZS5hY3RvcnNbc2VsZi5sb2dpbl1cbn0iLCJmdW5jdGlvbiBzb2NrZXRTZXJ2aWNlKGxpc3RlbmVyKXtcbiAgICBcbiAgICB2YXIgYXV0aEhhc2hGID0gZnVuY3Rpb24oY2Ipe1xuICAgICAgICB2YXIgZCA9IFEuZGVmZXIoKTtcbiAgICAgICAgdmFyIHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xuICAgICAgICB4aHIub3BlbignR0VUJywgJy9teS1hdXRoLWhhc2gvJywgdHJ1ZSk7XG4gICAgICAgIHhoci5zZW5kKCk7XG4gICAgICAgIFxuICAgICAgICB4aHIub25yZWFkeXN0YXRlY2hhbmdlID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBpZiAoeGhyLnJlYWR5U3RhdGUgPT0gNCkge1xuICAgICAgICAgICAgICAgICBpZih4aHIuc3RhdHVzID09IDIwMCkge1xuICAgICAgICAgICAgICAgICAgICAgdmFyIGpzID0gSlNPTi5wYXJzZSh4aHIucmVzcG9uc2VUZXh0KTtcbiAgICAgICAgICAgICAgICAgICAgIGNiKGpzKTtcbiAgICAgICAgICAgICAgICAgICAgIC8vYWxlcnQvKHhtbGh0dHAucmVzcG9uc2VUZXh0KTtcbiAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgXG4gICAgfVxuICAgIHZhciBzb2NrZXQgPSBpby5jb25uZWN0KCk7XG4gICAgdmFyIGlzX3JlYWR5ID0gZmFsc2U7XG4gICAgdmFyIFF1ZXVlID0gW107XG4gICAgXG4gICAgaXNfYXV0aGVudGljYXRlZCA9IFEuZGVmZXIoKTtcbiAgICBzb2NrZXQub24oJ2Nvbm5lY3RlZCcsIGZ1bmN0aW9uKCl7XG4gICAgICAgIC8vY29uc29sZS5sb2coXCJyZWNvbm5lY3Rpb25cIik7XG4gICAgICAgIGF1dGhIYXNoRihmdW5jdGlvbihqc29uKXtcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKFwiPj4+XCIsanNvbik7XG4gICAgICAgICAgICBzb2NrZXQuZW1pdChcImF1dGhfaGFzaFwiLCB7YXV0aDoganNvbi5oYXNofSk7XG4gICAgICAgIH0pXG4gICAgfSlcbiAgICBzb2NrZXQub24oXCJhdXRoX2NvbXBsZXRlZFwiLCBmdW5jdGlvbihtc2cpe1xuICAgICAgICBpZihtc2cuZXJyKXtcbiAgICAgICAgICAgIGlzX2F1dGhlbnRpY2F0ZWQucmVqZWN0KG1zZy5lcnIpO1xuICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgIC8vY29uc29sZS5sb2coXCI+PlwiKTtcbiAgICAgICAgICAgIGlzX2F1dGhlbnRpY2F0ZWQucmVzb2x2ZSh0cnVlKTtcbiAgICAgICAgICAgIC8vJHJvb3RTY29wZS4kYXBwbHkoZnVuY3Rpb24oKXtpc19hdXRoZW50aWNhdGVkLnJlc29sdmUodHJ1ZSl9KVxuICAgICAgICB9XG4gICAgICAgIFxuICAgIH0pXG4gICAgLy8gY29uc29sZS5sb2coaXNfYXV0aGVudGljYXRlZCk7XG4gICAgaXNfYXV0aGVudGljYXRlZC5wcm9taXNlLnRoZW4oZnVuY3Rpb24ocyxlKXtcbiAgICAgICAgLy8gY29uc29sZS5sb2coaXNfYXV0aGVudGljYXRlZCwgcyxlKTtcbiAgICAgICAgaXNfcmVhZHkgPSB0cnVlO1xuICAgICAgICBmb3IodmFyIGkgPTA7aSA8UXVldWUubGVuZ3RoOyBpKyspe1xuICAgICAgICAgICAgc29ja2V0LmVtaXQoUXVldWVbaV0uVCwgUXVldWVbaV0ucCk7XG4gICAgICAgIH1cbiAgICB9KVxuICAgIFxuICAgIHZhciBTID0ge307XG4gICAgdmFyIGNicyA9IHt9O1xuICAgIHZhciBjdXJjYml4ID0gMDtcbiAgICBmdW5jdGlvbiBnZXRDQkl4KCl7XG4gICAgICAgIGN1cmNiaXgrPTE7XG4gICAgICAgIHJldHVybiBjdXJjYml4ICUgMTAwMDA7XG4gICAgfTtcbiAgICBcbiAgICB2YXIgUmVxID0gZnVuY3Rpb24obXQsIHQsIHApe1xuICAgICAgICB2YXIgZCA9IFEuZGVmZXIoKSxcbiAgICAgICAgY2JpeCA9ICBnZXRDQkl4KCk7XG4gICAgICAgIGNic1tjYml4XSA9IHtcbiAgICAgICAgICAgIGNiOiBkXG4gICAgICAgIH1cbiAgICAgICAgdmFyIG8gPSB7cDpwfTtcbiAgICAgICAgby5jYml4ID0gY2JpeDtcbiAgICAgICAgby5UID0gdDtcbiAgICAgICAgaWYoIWlzX3JlYWR5KXtcbiAgICAgICAgICAgIFF1ZXVlLnB1c2goe1Q6bXQscDpvfSk7XG4gICAgICAgICAgICBcbiAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICBzb2NrZXQuZW1pdChtdCwgbyk7XG4gICAgICAgICAgICBcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBkLnByb21pc2U7XG4gICAgfVxuICAgIFxuICAgIHZhciBtZXNzYWdlc190b19oZWFyID0gW1wiUVwiLCBcIlJcIiwgJ1MnXTtcbiAgICBfLmVhY2gobWVzc2FnZXNfdG9faGVhciwgZnVuY3Rpb24obWVzc2FnZV90eXBlKXtcbiAgICAgICAgc29ja2V0Lm9uKG1lc3NhZ2VfdHlwZSwgZnVuY3Rpb24obXNnKXtcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKFwiUj4+PlwiLCBtc2cpO1xuICAgICAgICAgICAgdmFyIGNiaXggPSBtc2cuY2JpeDtcbiAgICAgICAgICAgIGlmKGNicy5oYXNPd25Qcm9wZXJ0eShjYml4KSkge1xuICAgICAgICAgICAgICAgIGNic1tjYml4XS5jYi5yZXNvbHZlKG1zZy5kKVxuICAgICAgICAgICAgICAgIGRlbGV0ZSBjYnNbY2JpeF07XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgICAgIFxuICAgIH0pXG4gICAgXG4gICAgc29ja2V0Lm9uKCdGJywgZnVuY3Rpb24oZGF0YSl7XG4gICAgICAgIGxpc3RlbmVyKFwiRlwiLCBkYXRhKTtcbiAgICB9ICk7XG4gICAgc29ja2V0Lm9uKFwiQUxNXCIsIGZ1bmN0aW9uKGRhdGEpe1xuICAgICAgICBsaXN0ZW5lcihcIkFMTVwiLCBkYXRhKTtcblxuICAgIH0pXG4gICAgXG4gICAgUy5nZXQgPSBmdW5jdGlvbih0LHApe1xuICAgICAgICByZXR1cm4gUmVxKFwiUVwiLCB0LHApXG4gICAgfVxuICAgIFMuc3luYyA9IGZ1bmN0aW9uKCl7XG4gICAgICAgIHJldHVybiBSZXEoXCJTXCIsJycse30pXG4gICAgfVxuICAgIFMucmVxdWVzdCA9IGZ1bmN0aW9uKHQscCl7XG4gICAgICAgIHJldHVybiBSZXEoXCJSXCIsIHQscClcbiAgICB9XG4gICAgUy5hY3Rpb24gPWZ1bmN0aW9uKG1lc3Mpe1xuICAgICAgICBzb2NrZXQuZW1pdChcIkFcIixtZXNzKVxuICAgIH1cbiAgICByZXR1cm4gUztcbn1cblxud2luZG93LldvcmxkLmluaXRfc29ja2V0ID0gZnVuY3Rpb24oKXtcblx0Ly8gY29uc29sZS5sb2coXCJpbml0IHNvY2tldFwiKTtcblx0dmFyIG9yaWdpbiA9IHdpbmRvdy5sb2NhdGlvbi5vcmlnaW5cblx0Ly9jb25zb2xlLmxvZyhcIldoYXQgaWYgSSB0cnkgdG8gZG8gaXQgdHdpY2VcIik7XG5cdHZhciBzb2NrZXQgPSBpby5jb25uZWN0KG9yaWdpbik7XG5cdHRoaXMuc29ja2V0ID0gc29ja2V0O1xuXHR2YXIgc2VsZiA9IHRoaXM7XG4gICAgLy8gY29uc29sZS5sb2coXCJCXCIpO1xuICAgIFxuICAgIHRoaXMuc29ja2V0X3NydiA9IHNvY2tldFNlcnZpY2UoZnVuY3Rpb24odHlwZSwgZGF0YSl7XG4gICAgICAgIHN3aXRjaCh0eXBlKXtcbiAgICAgICAgY2FzZSBcIkFMTVwiOlxuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coZGF0YS5hbG1hbmFjaCk7XG4gICAgICAgICAgICBpZihzZWxmLnNjZW5lc1tkYXRhLnNjZW5lXSAhPT0gdW5kZWZpbmVkKXtcbiAgICAgICAgICAgICAgICBzZWxmLnNjZW5lc1tkYXRhLnNjZW5lXS5zeW5jKGRhdGEuYWxtYW5hY2gpO1xuICAgICAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcIkZcIjpcbiAgICAgICAgICAgIHNlbGYuc2NlbmVzW2RhdGEuc10uYWRkTmV0d29ya01lc3NhZ2UoZGF0YS5hKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgKTtcbiAgICAvLyBjb25zb2xlLmxvZyhcIkFcIik7XG4gICAgXG4gICAgdmFyIHNjZW5lc19pbl9wcm9jZXNzID0gW107XG4gICAgXG4gICAgdGhpcy5zb2NrZXRfc3J2LnJlcXVlc3QoXCJDVFhcIix7dXNlcl9pZDp0cnVlfSlcbiAgICAudGhlbihmdW5jdGlvbihjdHgpe1xuICAgICAgICAvLyBjb25zb2xlLmxvZyhcImN0eCByZWNlaXZlZFwiLCBjdHgpO1xuICAgICAgICBzZWxmLnN5bmNUaW1lKClcbiAgICAgICAgXG4gICAgICAgIHZhciB0b3RhbF9zY2VuZXMgID0gMDtcbiAgICAgICAgdmFyIGxvYWRlZF9zY2VuZXMgPSAwO1xuICAgICAgICBfLmVhY2goY3R4LmNvbnRleHRzLCBmdW5jdGlvbihzY2VuZV9kZXNjLCBhY3Rvcl9ndWlkKXtcbiAgICAgICAgICAgIHZhciBzY2VuZV9ndWlkID0gc2NlbmVfZGVzYy5HVUlEO1xuICAgICAgICAgICAgaWYoc2NlbmVzX2luX3Byb2Nlc3MuaW5kZXhPZiggc2NlbmVfZ3VpZCAgKSAhPT0gLTEpe1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgICAgIHNjZW5lc19pbl9wcm9jZXNzLnB1c2goc2NlbmVfZ3VpZCk7XG4gICAgICAgICAgICAgICAgdG90YWxfc2NlbmVzICs9IDE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgb2JqZWN0cyA9IHNjZW5lX2Rlc2Mub2JqZWN0cztcbiAgICAgICAgICAgIHZhciBzY2VuZV9hY3RvcnMgPSBzY2VuZV9kZXNjLmFjdG9ycztcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgdmFyIG9zcHJvbWlzZXMgPSBbXTtcbiAgICAgICAgICAgIC8vY29uc29sZS5sb2coXCJTRFwiLCBzY2VuZV9kZXNjKTtcbiAgICAgICAgICAgIF8uZWFjaChvYmplY3RzLCBmdW5jdGlvbihvZ3VpZCl7XG4gICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhcIm9cIiwgb2d1aWQpO1xuICAgICAgICAgICAgICAgIHZhciBwID0gc2VsZi5zb2NrZXRfc3J2LmdldChcIkFcIiwge2lkOm9ndWlkfSApIFxuICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKG9iail7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBzZWxmLnNvY2tldF9zcnYuZ2V0KFwiVFwiLCB7dHlwZTogb2JqLnNoaXBfdHlwZX0pXG4gICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKHQpe1xuICAgICAgICAgICAgICAgICAgICAgICAgb2JqLnNoaXBfdHlwZSA9IHQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKFwiVFwiLCBvYmouc2hpcF90eXBlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBvYmo7XG4gICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIG9zcHJvbWlzZXMucHVzaChwKTtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICBRLmFsbChvc3Byb21pc2VzKS50aGVuKGZ1bmN0aW9uKG9iamVjdHMpe1xuICAgICAgICAgICAgICAgIHZhciBhY3RvcnNfbG9hZGVkID0gZmFsc2UgXG4gICAgICAgICAgICBcdHNlbGYudGhyZWVfc2NlbmVzW3NjZW5lX2d1aWRdID0gbmV3IFRIUkVFLlNjZW5lKCk7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICBcdHZhciBzY2VuZSA9IG5ldyBTY2VuZShzZWxmLnRocmVlX3NjZW5lc1tzY2VuZV9ndWlkXSwgc2VsZilcbiAgICAgICAgICAgICAgICBzY2VuZS5HVUlEID0gc2NlbmVfZ3VpZDtcbiAgICAgICAgICAgICAgICBzY2VuZS5vbkxvYWRDYWxsYmFjayA9IGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwib25sb2FkXCIpO1xuICAgICAgICAgICAgICAgICAgICBzZWxmLnNldHVwX3NjZW5lKHNjZW5lKTtcbiAgICAgICAgICAgICAgICAgICAgbG9hZGVkX3NjZW5lcyArPTE7XG4gICAgICAgICAgICAgICAgICAgIGlmKGxvYWRlZF9zY2VuZXMgPT09IHRvdGFsX3NjZW5lcyApe1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJhbGxfbG9hZGVkXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5nbygpXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICBcdHNlbGYuc2NlbmVzW3NjZW5lX2d1aWRdID0gc2NlbmU7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJjcmVhdGluZyBteSBhY3RvcnNcIiwgc2NlbmVfYWN0b3JzLCBhY3Rvcl9ndWlkKVxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIF8uZWFjaChzY2VuZV9hY3RvcnMsIGZ1bmN0aW9uKGFjdCl7XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBpZiAoYWN0LkdVSUQgPT09ICBhY3Rvcl9ndWlkKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuYWN0b3JzW2FjdG9yX2d1aWRdID0gYWN0O1xuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5hY3RvclNjZW5lW2FjdG9yX2d1aWRdID0gc2NlbmVfZ3VpZDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBzY2VuZS5qb2luX2FjdG9yKGFjdCk7XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBfLmVhY2gob2JqZWN0cywgZnVuY3Rpb24ob2JqKXtcbiAgICAgICAgICAgICAgICAgICAgc2NlbmUuam9pbl9vYmplY3Qob2JqLCBvYmouR1VJRCk7XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uKGVycil7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyLnN0YWNrKTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH0pXG4gICAgfSlcbiAgICAvKlxuXHR0aGlzLnNvY2tldC5vbignY29ubmVjdGVkJywgZnVuY3Rpb24oZCl7XG5cdFx0Ly9jb25zb2xlLmxvZyhcIj4+XCIpXG5cdFx0XG5cdFx0c2VsZi5zb2NrZXQuZW1pdChcImF1dGhfaGFzaFwiLCB7YXV0aDpzZWxmLmF1dGhfaGFzaH0pXG5cdFx0XG5cdFx0Ly8gXG5cdFx0XG5cdFx0XG5cdH0pXG5cdHRoaXMuc29ja2V0Lm9uKCdzZXJ2ZXJfZmF1bHQnLCBmdW5jdGlvbigpe1xuXHRcdC8vIHdpbmRvdy5sb2NhdGlvbiA9IFwiL2NvbnNvbGUvXCJcblx0XHQvLyBjb25zb2xlLmxvZyhcIkFBQVwiKTtcblx0fSlcblx0dGhpcy5zb2NrZXQub24oJ2NvbnRleHRzJywgZnVuY3Rpb24oZGF0YSl7XG5cdFx0Ly8g0JfQtNC10YHRjCDQvNGLINC/0L7Qu9GD0YfQsNC10Lwg0LLRgdC10YUg0LDQutGC0L7RgNC+0LIsINC60L7RgtC+0YDRi9C1INC/0YDQuNGB0YPRidC4INC00LvRjyDRjdGC0L7Qs9C+INC70L7Qs9C40L3QsCAtINC40YUg0LzQvtC20LXRgiDQvtC60LDQt9Cw0YLRjNGB0Y8g0L3QtdGB0LrQvtC70YzQutC+INC4INC00LvRjyDQvdC40YUg0LzQvtCz0YPRgiDQsdGL0YLRjCDRgNCw0LfQvdGL0LUg0YHRhtC10L3Ri1xuICAgICAgICBcbiAgICAgICAgY29uc29sZS5sb2coXCJyZWNpZXZlZCBkYXRhIFwiLCBkYXRhKTtcblx0XHQvL3ZhciBhY3RvcnMgPSBkYXRhLmFjdG9ycztcblx0XHQvL3NlbGYuYWN0b3JzID0gYWN0b3JzIC8vINCX0LTQtdGB0Ywg0YHQv9C40YHQvtC6INCy0YHQtdGFINCw0LrRgtC+0YDQvtCyLCDQutC+0YLQvtGA0YvQtSDRgtCw0Log0LjQu9C4INC40L3QsNGH0LUg0YHQstGP0LfQsNC90Ysg0YEg0L3QsNGI0LjQvCDQu9C+0LPQuNC90L7QvFxuXHRcdC8vY29uc29sZS5sb2coJ2FjdG9ycycsIGFjdG9ycyk7XG5cdFx0c2VsZi5zeW5jVGltZSgpXG5cdFx0XG5cdFx0Ly92YXIgc2NlbmVzID0gXy5tYXAoc2VsZi5hY3RvcnMsIGZ1bmN0aW9uKGFjdG9yKXtcblx0XHQvL1x0cmV0dXJuIGFjdG9yLnNjZW5lXG5cdFx0XHRcblx0XHQvLyB9KVxuXHRcdC8vINCX0LDQv9GA0LDRiNC40LLQsNC10Lwg0LfQsNCz0YDRg9C30LrRgyDQstGB0LXRhSDRgdGG0LXQvSDQtNC70Y8g0Y3RgtC+0LPQviDQsNC60YLQvtGA0LAgLSDQv9C+INC40LTQtdC90YLQuNGE0LjQutCw0YLQvtGA0LDQvCDRgdGG0LXQvVxuXHRcdFxuXHRcdC8vIGNvbnNvbGUubG9nKFwiUmVxIHNjZW5lc1wiLCBfLnVuaXEoc2NlbmVzKSlcblx0XHQvLyBzZWxmLnNvY2tldC5lbWl0KFwicmVxdWVzdF9zY2VuZXNcIiwge3NjZW5lczpfLnVuaXEoc2NlbmVzKX0pXG5cdFx0XG5cdFx0Ly8gY29uc29sZS5sb2coXCJSZWN2IEFjdG9yc1wiLGFjdG9ycylcblx0XHRzZWxmLl9wbGF5ZXJfdmlld3BvcnRzID0gXy5rZXlzKGRhdGEuY29udGV4dCkubGVuZ3RoO1xuXHRcdC8vIHNlbGYuZ28oKSAvLyDQv9C+0YHQu9C1INC30LDQs9GA0YPQt9C60Lgg0LDQutGC0L7RgNC+0LIg0L/QvtC/0YDQvtCx0YPQtdC8INC30LDQv9GD0YHRgtC40YLRjCDRjdC80YPQu9GP0YbQuNGOXG4gICAgICAgIGxvYWRlZF9zY2VuZXMgPSBbXTtcbiAgICAgICAgXy5lYWNoKGRhdGEuY29udGV4dHMsIGZ1bmN0aW9uKHNjZW5lX2N0eCwgYWN0b3JfZ3VpZCl7XG4gICAgICAgICAgICBpZiAoc2NlbmVfY3R4IGluIGxvYWRlZF9zY2VuZXMpe1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBhY3RvcnNfaW5fc2NlbmUgPSBzY2VuZV9jdHguYWN0b3JzO1xuICAgICAgICAgICAgdmFyIGxvY2F0aW9uID0gc2NlbmVfY3R4LmxvY2F0aW9uO1xuICAgICAgICAgICAgdmFyIG9iamVjdF9ndWlkcyA9IHNjZW5lX2N0eC5vYmplY3RzO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBhc3luY1JlcSA9IGZ1bmN0aW9uKHEpe1xuICAgICAgICAgICAgICAgIHZhciBkID0gcS5kZWZlcigpO1xuICAgICAgICAgICAgICAgIHNvY2tldC5lbWl0KHEudHlwZSwgcS5kYXRhKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgXy5lYWNoKG9iamVjdF9ndWlkcyxmdW5jdGlvbihvR1VJRCl7XG4gICAgICAgICAgICAgICAgb0dVSURcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KVxuICAgICAgICBcbiAgICAgICAgXG5cdH0pXG5cdFxuXHR0aGlzLnNvY2tldC5vbignc2NlbmVzJywgZnVuY3Rpb24oZGF0YSl7XG5cdFx0Ly9jb25zb2xlLmxvZygnc2NlbmVzJywgZGF0YS5zY2VuZXMpO1xuXHRcdHZhciBndWlkcyA9IF8ua2V5cyhkYXRhLnNjZW5lcylcblx0XHR2YXIgX3RvdGFscyA9IDBcblx0XHR2YXIgYWxsX2xvYWRlZCA9IGZ1bmN0aW9uKCl7XG5cdFx0XHRzZWxmLmdvKCk7XHRcblx0XHRcdC8vIGNvbnNvbGUubG9nKFwicmVjdiBzY2VuZXNcIiwgc2VsZi5zY2VuZXMpXG5cdFx0XHRzZWxmLm5ldHdvcmtfYWN0b3IgPSBuZXcgQ29udHJvbGxlci5OZXR3b3JrQWN0b3IoIGZ1bmN0aW9uKCl7fSwgc2VsZilcblx0XHR9XG5cdFx0dmFyIG9ubG9hZCA9IGZ1bmN0aW9uKHNjZW5lKXtcblx0XHRcdC8vIGNvbnNvbGUubG9nKCdsb2FkZWQnKTtcblx0XHRcdHZhciBvbkFjdCA9IGZ1bmN0aW9uKCl7XG5cdFx0XHRcdC8vY29uc29sZS5sb2coJ2FjdCBvbiBjbGllbnQnKVxuXHRcdFx0fVxuXHRcdFx0X3RvdGFscyArPTFcblx0XHRcdHNlbGYuc2V0dXBfc2NlbmUoc2NlbmUpO1xuXHRcdFx0Xy5lYWNoKHNlbGYuYWN0b3JzLCBmdW5jdGlvbihhKXtcblx0XHRcdFx0aWYgKGEuR1VJRCBpbiBzY2VuZS5hY3RvcnMpe1xuXHRcdFx0XHRcdHNlbGYuc29ja2V0LmVtaXQoXCJhY3Rvci1qb2luZWRcIix7YTphLCBzOnNjZW5lLkdVSUR9IClcblx0XHRcdFx0XHQvL2NvbnNvbGUubG9nKFwidGhpcyBhY3RvciBpcyBmb3IgbWVcIiwgYS5HVUlELCBzY2VuZS5HVUlEKVxuXHRcdFx0XHR9XG5cdFx0XHRcdFxuXHRcdFx0fSlcblx0XHRcdC8vIHNlbGYuc29ja2V0LmVtaXQoXCJwbGF5ZXItam9pbmVkXCIsIHtzY2VuZTpzY2VuZS5HVUlELCB9KVxuXHRcdFx0XG5cdFx0XHQvLyBjb25zb2xlLmxvZyhcIldBVFwiLF90b3RhbHMsIGd1aWRzLmxlbmd0aClcblx0XHRcdGlmKF90b3RhbHMgPT0gZ3VpZHMubGVuZ3RoKXtcblx0XHRcdFx0YWxsX2xvYWRlZCgpXG5cdFx0XHR9XG5cdFx0XHQvLyBcblx0XHRcdC8vIFxuXHRcdH1cblx0XHRfLmVhY2goZGF0YS5zY2VuZXMsIGZ1bmN0aW9uKHNjZW5lLCBndWlkKXtcblx0XHRcdC8vIGNvbnNvbGUubG9nKCd3ZWxsJywgc2NlbmUpO1xuXHRcdFx0c2VsZi5sb2FkX3NjZW5lKHNjZW5lICwgb25sb2FkKVxuXHRcdFx0Ly9jb25zb2xlLmxvZygnd2VsbCcsIHNjZW5lLl9zY2VuZSk7XG5cdFx0XHRcblx0XHR9KVxuXHRcdFxuXHR9KVxuXHR0aGlzLnNvY2tldC5vbignYWN0b3Itam9pbmVkJywgZnVuY3Rpb24oZGF0YSl7XG5cdFx0Ly8gY29uc29sZS5sb2coJ2pvaW5pbmcgYWN0b3InLCBkYXRhKTtcblx0XHQvLyBjb25zb2xlLmxvZyhzZWxmLmFjdG9ycylcblx0XHQvLyDQkNC60YLQvtGAINC80L7QttC10YIg0LTQttC+0LnQvdC40YLRjCDRg9C20LUg0YHRg9GJ0LXRgdGC0LLRg9GO0YnQuNC5INCyINGB0YbQtdC90LUgLSDQvdCw0LTQviDQv9C10YDQtdC00LXQu9GL0LLQsNGC0Ywg0LLRjNGO0L/QvtGA0YLRi1xuXHRcdGlmIChkYXRhLkdVSUQgaW4gc2VsZi5zY2VuZXNbZGF0YS5zY2VuZV0uYWN0b3JzKXtcblx0XHRcdC8vY29uc29sZS5sb2coXCJhY3RvciBhbHJlYWR5IGV4aXN0LCBmaXJzdCBjb21lcj9cIilcblx0XHR9ZWxzZXtcblx0XHRcdHNlbGYuc2NlbmVzW2RhdGEuc2NlbmVdLmpvaW5fYWN0b3IoZGF0YSk7XG5cdFx0fVxuXHR9KVxuXHR0aGlzLnNvY2tldC5vbignc2NlbmVfc3luYycsIGZ1bmN0aW9uKGRhdGEpe1xuXHRcdFxuXHRcdC8vIGNvbnNvbGUubG9nKGRhdGEuYWxtYW5hY2gpO1xuXHRcdGlmKHNlbGYuc2NlbmVzW2RhdGEuc2NlbmVdICE9PSB1bmRlZmluZWQpe1xuXHRcdFx0c2VsZi5zY2VuZXNbZGF0YS5zY2VuZV0uc3luYyhkYXRhLmFsbWFuYWNoKTtcblx0XHR9XG5cdH0pXG5cdHRoaXMuc29ja2V0Lm9uKCdwbGF5ZXItaW5wdXRzJywgZnVuY3Rpb24oZGF0YSl7XG5cdFx0Y29uc29sZS5sb2coXCJSUlwiLCBkYXRhKTtcblx0XHRzZWxmLnNjZW5lc1tkYXRhLnNdLmFkZE5ldHdvcmtNZXNzYWdlKGRhdGEuYSk7XG5cdH0pXG4gICAgKi9cblx0XG5cblx0XG59XG5cbndpbmRvdy5Xb3JsZC5zeW5jVGltZSA9IGZ1bmN0aW9uKCl7XG5cdHRoaXMuX3N5bmNfdGltZXN0YW1wID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7XG5cdHZhciBzZWxmID0gdGhpcztcblx0Ly8gdmFyIEFjdGlvbnMgPSB0aGlzLnByb3RvYnVmQnVpbGRlci5idWlsZChcIkFjdGlvbnNcIik7XG5cdFxuXHR2YXIgbWVzc2FnZXMgPSB7fTtcblx0dmFyIGRpZmZfc3RhdGlzdGljc19sZW5ndGggPSA1MFxuXG5cdC8vIGNvbnNvbGUubG9nKFwiUlVOIFNZTkNcIik7XG4gICAgdGhpcy5zb2NrZXRfc3J2LnN5bmMoKS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xuICAgICAgICAvL2NvbnNvbGUubG9nKFwiU1NcIiwgZGF0YSk7XG5cdFx0dmFyIHJlY3ZfdHMgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcblx0XHR2YXIgcGluZyA9IHJlY3ZfdHMgLSBzZWxmLl9zeW5jX3RpbWVzdGFtcFxuICAgICAgICBcbiAgICAgICAgXG5cdFx0Y29uc29sZS5sb2coXCJQXCIsIHBpbmcpO1xuXHRcdHNlbGYubGF0ZW5jaXRpZXMucHVzaChwaW5nLzIpO1xuXHRcdFxuXHRcdC8vaWYgKHNlbGYucGluZ3MubGVuZ3RoID4gcGluZ19zdGF0aXN0aWNzX2xlbmd0aCApe3NlbGYucGluZ3Muc3BsaWNlKDAsMSl9O1xuXHRcdC8vdmFyIGF2Z19waW5nID0gXy5yZWR1Y2Uoc2VsZi5waW5ncywgZnVuY3Rpb24oYSxiKXtyZXR1cm4gYStifSwwKS8gc2VsZi5waW5ncy5sZW5ndGg7XG5cdFx0Ly9zZWxmLnBpbmdzX2luc3RhYmlsaXR5LnB1c2goTWF0aC5hYnMoYXZnX3BpbmcgLSBwaW5nKSlcblx0XHQvL2lmIChzZWxmLnBpbmdzX2luc3RhYmlsaXR5Lmxlbmd0aCA+IHBpbmdfc3RhdGlzdGljc19sZW5ndGgpe3NlbGYucGluZ3NfaW5zdGFiaWxpdHkuc3BsaWNlKDAsMSl9O1xuXHRcdC8vdmFyIGF2Z19waW5nX2luc3RhYiA9IF8ucmVkdWNlKHNlbGYucGluZ3NfaW5zdGFiaWxpdHksIGZ1bmN0aW9uKGEsYil7cmV0dXJuIGE+PWI/YTpifSwwKVxuXHRcdFxuXHRcdC8vdmFyIGxhdCA9IHBpbmcgLyAyO1xuICAgICAgICBzZWxmLmF2Z19sYXRlbmNpdHkgPSBNYXRoLmZsb29yKF8ucmVkdWNlKHNlbGYubGF0ZW5jaXRpZXMsIGZ1bmN0aW9uKGEsYil7cmV0dXJuIGErYn0sMCkvc2VsZi5sYXRlbmNpdGllcy5sZW5ndGgpXG4gICAgICAgIFxuXHRcdHZhciBfdGltZV9kaWZmID0gZGF0YS50cyAtIHNlbGYuX3N5bmNfdGltZXN0YW1wOyAvLyAtIGxhdFxuXHRcdHNlbGYuX3RpbWVfZGlmZnMucHVzaChfdGltZV9kaWZmKVxuXHRcdGlmKHNlbGYuX3RpbWVfZGlmZnMubGVuZ3RoID4gZGlmZl9zdGF0aXN0aWNzX2xlbmd0aCl7c2VsZi5fdGltZV9kaWZmcy5zcGxpY2UoMCwxKSB9XG5cdFx0c2VsZi5fdGltZV9kaWZmID0gTWF0aC5mbG9vcihfLnJlZHVjZShzZWxmLl90aW1lX2RpZmZzLCBmdW5jdGlvbihhLGIpe3JldHVybiBhK2J9LDApL3NlbGYuX3RpbWVfZGlmZnMubGVuZ3RoKVxuICAgICAgICBjb25zb2xlLmxvZyhcIlNcIiwgc2VsZi5hdmdfbGF0ZW5jaXR5LCBzZWxmLl90aW1lX2RpZmYpO1xuXHRcdC8vaWYoc2VsZi5fdGltZV9kaWZmIDwgMCl7XG5cdFx0Ly9cdHNlbGYuX3RpbWVfZGlmZiA9IDA7XG5cdFx0Ly99XG5cdFx0Ly8gc2VsZi5hdmVyYWdlX3BpbmdfaW5zdGFiaWxpdHkgPSBhdmdfcGluZ19pbnN0YWI7XG5cdFx0c2VsZi5tYXhfcGluZyA9IF8ubWF4KHNlbGYucGluZ3MpO1xuXHRcdFxuXHRcdC8vIGNvbnNvbGUubG9nKFwiVFwiLCBzZWxmLl90aW1lX2RpZmYpXG5cdFx0Ly9jb25zb2xlLmxvZyhcIlRJTUVTXCIsIHNlbGYuX3RpbWVfZGlmZiwgZGF0YS50cyAtIHNlbGYuX3N5bmNfdGltZXN0YW1wLCBsYXQpXG5cdFx0XG5cdFx0Ly8gdmFyIHRvID0gMTAwIC8gKGF2Z19waW5nLzEwMDApXG5cdFx0Ly8gdmFyIGluc3RhYl9wZXIgID0gIGF2Z19waW5nX2luc3RhYiAvIGF2Z19waW5nICogMTAwO1xuXHRcdC8vY29uc29sZS5sb2coXCJJTlNUVlwiLHRvLCBhdmdfcGluZywgYXZnX3BpbmdfaW5zdGFiLCBpbnN0YWJfcGVyKTtcblx0XHQvLyBjb25zb2xlLmxvZyhcIkhlaD9cIik7XG5cdFx0c2V0VGltZW91dChmdW5jdGlvbigpe1xuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coXCJUT1wiKTtcbiAgICAgICAgICAgIHNlbGYuc3luY1RpbWUoKVxuICAgICAgICB9LCAxMDAwKTtcbiAgICAgICAgXG4gICAgfSkuY2F0Y2goZnVuY3Rpb24oZXJyKXtcbiAgICAgICAgY29uc29sZS5sb2coZXJyLnN0YWNrKTtcbiAgICB9KVxuXHRcblx0Ly9jb25zb2xlLmxvZyhcIj4+Pj5cIiwgdGhpcy5zb2NrZXQuZW1pdCk7XG4gICAgLypcblx0dmFyIGRpZmZfc3RhdGlzdGljc19sZW5ndGggPSA1MFxuXHRpZighIHRoaXMuX3N5bmNfbWVzc2FnZV9zZXR1cCApe1xuXHRcdHRoaXMuc29ja2V0Lm9uKFwiY2xvY2tfcmVzcG9uc2VcIiwgZnVuY3Rpb24oZGF0YSl7XG5cdFx0XHR2YXIgcmVjdl90cyA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xuXHRcdFx0dmFyIHBpbmcgPSByZWN2X3RzIC0gc2VsZi5fc3luY190aW1lc3RhbXBcblx0XHRcdFxuXHRcdFx0c2VsZi5waW5ncy5wdXNoKHBpbmcpXG5cdFx0XHRcblx0XHRcdC8vaWYgKHNlbGYucGluZ3MubGVuZ3RoID4gcGluZ19zdGF0aXN0aWNzX2xlbmd0aCApe3NlbGYucGluZ3Muc3BsaWNlKDAsMSl9O1xuXHRcdFx0Ly92YXIgYXZnX3BpbmcgPSBfLnJlZHVjZShzZWxmLnBpbmdzLCBmdW5jdGlvbihhLGIpe3JldHVybiBhK2J9LDApLyBzZWxmLnBpbmdzLmxlbmd0aDtcblx0XHRcdC8vc2VsZi5waW5nc19pbnN0YWJpbGl0eS5wdXNoKE1hdGguYWJzKGF2Z19waW5nIC0gcGluZykpXG5cdFx0XHQvL2lmIChzZWxmLnBpbmdzX2luc3RhYmlsaXR5Lmxlbmd0aCA+IHBpbmdfc3RhdGlzdGljc19sZW5ndGgpe3NlbGYucGluZ3NfaW5zdGFiaWxpdHkuc3BsaWNlKDAsMSl9O1xuXHRcdFx0Ly92YXIgYXZnX3BpbmdfaW5zdGFiID0gXy5yZWR1Y2Uoc2VsZi5waW5nc19pbnN0YWJpbGl0eSwgZnVuY3Rpb24oYSxiKXtyZXR1cm4gYT49Yj9hOmJ9LDApXG5cdFx0XHRcblx0XHRcdHZhciBsYXQgPSBwaW5nIC8gMlxuXHRcdFx0dmFyIF90aW1lX2RpZmYgPSBkYXRhLnRzIC0gc2VsZi5fc3luY190aW1lc3RhbXAgLSBsYXRcblx0XHRcdHNlbGYuX3RpbWVfZGlmZnMucHVzaChfdGltZV9kaWZmKVxuXHRcdFx0aWYoc2VsZi5fdGltZV9kaWZmcy5sZW5ndGggPiBkaWZmX3N0YXRpc3RpY3NfbGVuZ3RoKXtzZWxmLl90aW1lX2RpZmZzLnNwbGljZSgwLDEpIH1cblx0XHRcdHNlbGYuX3RpbWVfZGlmZiA9IE1hdGguZmxvb3IoXy5yZWR1Y2Uoc2VsZi5fdGltZV9kaWZmcywgZnVuY3Rpb24oYSxiKXtyZXR1cm4gYStifSwwKS9zZWxmLl90aW1lX2RpZmZzLmxlbmd0aClcblx0XHRcdC8vaWYoc2VsZi5fdGltZV9kaWZmIDwgMCl7XG5cdFx0XHQvL1x0c2VsZi5fdGltZV9kaWZmID0gMDtcblx0XHRcdC8vfVxuXHRcdFx0Ly8gc2VsZi5hdmVyYWdlX3BpbmdfaW5zdGFiaWxpdHkgPSBhdmdfcGluZ19pbnN0YWI7XG5cdFx0XHRzZWxmLm1heF9waW5nID0gXy5tYXgoc2VsZi5waW5ncylcblx0XHRcdFxuXHRcdFx0Ly8gY29uc29sZS5sb2coXCJUXCIsIHNlbGYuX3RpbWVfZGlmZilcblx0XHRcdC8vY29uc29sZS5sb2coXCJUSU1FU1wiLCBzZWxmLl90aW1lX2RpZmYsIGRhdGEudHMgLSBzZWxmLl9zeW5jX3RpbWVzdGFtcCwgbGF0KVxuXHRcdFx0XG5cdFx0XHQvLyB2YXIgdG8gPSAxMDAgLyAoYXZnX3BpbmcvMTAwMClcblx0XHRcdC8vIHZhciBpbnN0YWJfcGVyICA9ICBhdmdfcGluZ19pbnN0YWIgLyBhdmdfcGluZyAqIDEwMDtcblx0XHRcdC8vY29uc29sZS5sb2coXCJJTlNUVlwiLHRvLCBhdmdfcGluZywgYXZnX3BpbmdfaW5zdGFiLCBpbnN0YWJfcGVyKTtcblx0XHRcdFxuXHRcdFx0c2V0VGltZW91dChmdW5jdGlvbigpe3NlbGYuc3luY1RpbWUoKX0sIDEwMDApO1xuXHRcdFx0XG5cdFx0fSlcblx0XHR0aGlzLl9zeW5jX21lc3NhZ2Vfc2V0dXAgPSB0cnVlXG5cdFx0XG5cdH1cbiAgICAqL1xufTtcblxud2luZG93LldvcmxkLnNlbmRBY3Rpb249ZnVuY3Rpb24oc2NlbmUsIGFjdGlvbil7XG5cdHZhciBhY3QgPSBfLmNsb25lKGFjdGlvbilcblx0YWN0LnRzICs9IHRoaXMuX3RpbWVfZGlmZjsgXG5cdGFjdC5wID0gSlNPTi5zdHJpbmdpZnkoYWN0LnApO1xuXHQvLyBjb25zb2xlLmxvZyhcImFjdCBiZWZvcmUgc2VuZGluZ1wiLCBhY3QuaWRlbnQpXG5cdFxuXHRkZWxldGUgYWN0LnZlY3RvcjtcblxuXHR0aGlzLnNvY2tldF9zcnYuYWN0aW9uKHtzOnNjZW5lLGE6YWN0fSlcbn07IiwiZnVuY3Rpb24gU3RhdGljTG9nZ2VyKCl7XG5cdHRoaXMuX3ZhbHMgPSB7fVxuXHR0aGlzLnNldFZhbHVlID0gZnVuY3Rpb24ocGFyYW0sIHZhbCl7XG5cdFx0Ly8gY29uc29sZS5sb2cocGFyYW0sIHZhbCk7XG5cdFx0dGhpcy5fdmFsc1twYXJhbV0gPSB2YWw7XG5cdH1cblx0dGhpcy5pbml0ID0gZnVuY3Rpb24oKXtcblx0XHR0aGlzLmNvbnQgPSAkKFwiPGRpdj5cIikuY3NzKHtcblx0XHRcdCdwb3NpdGlvbic6J2ZpeGVkJyxcblx0XHRcdCd0b3AnOjAsXG5cdFx0XHQncmlnaHQnOjAsXG5cdFx0XHQnd2lkdGgnOjQwMCxcblx0XHRcdCdib3R0b20nOjAsXG5cdFx0XHQnYmFja2dyb3VuZC1jb2xvcic6XCJyZ2JhKDAsMjAwLDEwMCwwLjcpXCJcblx0XHR9KS5hcHBlbmRUbygnYm9keScpO1xuXHQvLyBcdGNvbnNvbGUubG9nKHRoaXMuY29udCk7XG5cdFx0XG5cdH1cblx0dGhpcy5yZWRyYXcgPSBmdW5jdGlvbigpe1xuXHRcdHRoaXMuY29udC5maW5kKCcqJykucmVtb3ZlKCk7XG5cdFx0Ly9jb25zb2xlLmxvZyh0aGlzLl92YWxzKTtcblx0XHRmb3IodmFyIGkgaW4gdGhpcy5fdmFscyl7XG5cdFx0XHQvL2NvbnNvbGUubG9nKCdhc2RhJyk7XG5cdFx0XHRjID0gJCgnPGRpdj4nKS5hcHBlbmRUbyh0aGlzLmNvbnQpXG5cdFx0XHRsID0gJCgnPHNwYW4+JykuaHRtbChpICsgXCImbmJzcDs6ICZuYnNwO1wiKS5jc3MoJ2ZvbnQtd2VpZ2h0JywnYm9sZCcpLmFwcGVuZFRvKGMpO1xuXHRcdFx0diA9ICQoJzxzcGFuPicpLnRleHQoIHRoaXMuX3ZhbHNbaV0gKS5hcHBlbmRUbyhjKTtcblx0XHR9XG5cdH1cbn1cblxudmFyIFNMID0gbmV3IFN0YXRpY0xvZ2dlcigpOyIsIndpbmRvdy5Xb3JsZC5hZGRVbmlmb3JtVXBkYXRlciA9IGZ1bmN0aW9uKG5hbWUsIHVwZGZ1bmMpe1xuICAgIHRoaXMuX3VuaWZvcm1fdXBkYXRlcnNbbmFtZV0gPSB1cGRmdW5jO1xufVxud2luZG93LldvcmxkLnJlbW92ZVVuaWZvcm1VcGRhdGVyID0gZnVuY3Rpb24obmFtZSl7XG4gICAgZGVsZXRlIHRoaXMuX3VuaWZvcm1fdXBkYXRlcnNbbmFtZV07XG59XG5cbiJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==