World=function(){function e(){this.name="Cons"}return e}(),window.World.init=function(e,t){this.__vpx=0,this.auth_hash=e,this.login=t,this.p=new THREE.Projector,this.three_scenes={},this.scenes={},this.flares={},this.actors={},this.actorScene={},this.clock=new THREE.Clock;var i=new THREE.SphereGeometry(5);this.cur=new THREE.Mesh(i),this.vp_width=document.body.clientWidth,this.vp_height=400,this._main_viewport=0,this._additional_vps=[],this.sceneActions={},this._input_keymap={},this._uniform_updaters={};var n=this.vp_height/3,s=this.vp_width/4,h=this.vp_width-s;this._additional_vps_geom=[{l:h,t:2*n,w:s,h:n},{l:h,t:n,w:s,h:n},{l:h,t:0,w:s,h:n}],this._main_vp_geom={l:0,t:0,w:this.vp_width,h:this.vp_height},this.skyboxScenes={},this.skyBoxes={},this.skyBoxCamera={},this.mouse_projection_vec=new THREE.Vector3,SL.init();var r=this;return r.pings=[],r.pings_instability=[],r._time_diffs=[],r.latencities=[],this.renderer=new THREE.WebGLRenderer({antialias:!0,alpha:!0}),this.renderer.setSize(this.vp_width,this.vp_height),this.renderer.setClearColor(new THREE.Color(0)),document.body.appendChild(this.renderer.domElement),this.renderer.gammaInput=!0,this.renderer.gammaOutput=!0,this.renderer.autoClear=!1,this.renderer.physicallyBasedShading=!0,this._camera_rot_q=new THREE.Quaternion,document.addEventListener("mousemove",function(e){r.mouse_x=e.x,r.mouse_y=e.y},!1),this.renderer.domElement.addEventListener("mouseup",function(){r.Inputs.input("lmouse",!1)}),this.renderer.domElement.addEventListener("mousedown",function(){r.Inputs.input("lmouse",!0)}),document.addEventListener("keydown",function(e){var t=e.keyCode;r.Inputs.input(t,!0)},!1),document.addEventListener("keyup",function(e){var t=e.keyCode;r.Inputs.input(t,!1)},!1),r.init_socket(),r},window.World.set_actions=function(){self.actions=self._default_actions};
window.World.render=function(e,t){this.redrawSun(e),this.renderer.setViewport(t.l,t.t,t.w,t.h),this.redrawSky(e),this.scenes[e.scene]._action_on_the_run_var&&console.log("render M"),this._cur_cam=e.three_camera,this.renderer.render(this.three_scenes[e.scene],e.three_camera)},window.World.redrawSky=function(e){var t=e.three_camera.parent.matrix.clone(),o=e.three_camera.matrix.clone();t.multiply(o);var r=(new THREE.Matrix4).extractRotation(t),n=(new THREE.Euler).setFromRotationMatrix(r);this.skyBoxCamera[e.scene].rotation.copy(n),this.renderer.render(this.skyboxScenes[e.scene],this.skyBoxCamera[e.scene])},window.World.get_main_viewport=function(){return this._viewports[this._main_viewport]},window.World._init_vps=function(){var e=this._viewports[this._main_viewport],t=this;e.geom={t:0,l:0,w:this.vp_width,h:this.vp_height},e.three_camera=this.makeCamera(e),_.each(e.UIS,function(e){e.construct()}),_.each(e.actors,function(e){var o=t.actorScene[e.GUID],r=t.sceneActions[o][e.control.object_guid][e.control.workpoint];_.each(r,function(e){e.default_key&&(t._input_keymap[e.default_key]=e)})}),this.three_scenes[e.scene].add(this.cur),this.initSpace(e);var t=this;t.Inputs=new Controller.LocalInputActor(t,t.socket),_.each(this._additional_vps,function(e,o){var r=t._viewports[e];r.geom=t._additional_vps_geom[o],r.three_camera=t.makeCamera(r),t.initSpace(r)})},window.World.setupCameras=function(){var e=this;e._viewports={},e._viewport_amount=0;var t=!0;console.log("setting up cameras with",e.actors),_.each(e.actors,function(o){var r=o.control.workpoint,n=e.actorScene[o.GUID];console.log("scenes",e.scenes,n);var i=e.scenes[n].get_object(o.control.object_guid).workpoints[r].views,a=e.scenes[n].meshes[o.control.object_guid],c=a.getUIForWP(r);_.each(i,function(r){var i=n+o.control.object_guid+r;if(t&&(e._main_viewport=i),i in e._viewports){e._viewports[i].actors.push(o);var a=e._viewports[i].UIS;e._viewports[i].UIS=a.concat(c)}else{var s={scene:n,object:o.control.object_guid,camera:r,actors:[o],UIS:c};e._viewports[i]=s,e._viewport_amount+=1}})}),e._init_vps();var o=document.getElementById("viewports-select");o.innerHtml="",_.each(e._viewports,function(e,t){var r=document.createElement("option");r.value=t,r.appendChild(document.createTextNode(e.camera)),o.appendChild(r)})},window.World.redrawSun=function(e){var t=this.scenes[e.scene].meshes[e.object],o=(new THREE.Vector3).fromArray([0,1,0]).multiplyScalar(10);this.flares[e.scene].position=t.position.clone().add(o)},window.World.makeCamera=function(e){var t=this,o=e.scene,r=e.object,n=e.camera,i=t.scenes[o].meshes[r],a=t.scenes[o].get_object(r),c=new THREE.PerspectiveCamera(45,e.geom.w/e.geom.h,1,1e3),s=new THREE.Vector3,_=new THREE.Vector3;s.set.apply(s,a.cameras[n].position),_.set.apply(_,a.cameras[n].direction);var h=new THREE.Vector3(0,0,-1),d=new THREE.Vector3;d.crossVectors(h,_);var m=Math.acos(h.dot(_)/h.length()/_.length());return 0!==d.length()||h.equals(_)||(d=new THREE.Vector3(0,1,0),m=Math.PI),c.rotateOnAxis(d,m),c.position=s,i.add(c),c},window.World.setup_scene=function(e){material=new THREE.MeshBasicMaterial({color:16711680,wireframe:!0});var t=(new THREE.Vector3).fromArray([0,1,0]),o=new THREE.AmbientLight(65793);this.three_scenes[e.GUID].add(o);var r=new THREE.DirectionalLight(16777198,1);r.color.setHSL.apply(r.color,[Math.random(),.8,.9]),r.position=t,this.three_scenes[e.GUID].add(r),this.initSun(e),this.sceneActions[e.GUID]=e.getActions()},window.World.bindCamera=function(){var e=this,t=e.get_current_actor(),o=e.meshes()[t.control.object_guid];o.add(e.camera),e.setCamera()},window.World.go=function(){var e=this;e.setupCameras();var t=function(){_.each(e.scenes,function(e){e.tick()})},o=function(){t();var r=e.get_main_viewport(),n=e._main_vp_geom;_.each(e._uniform_updaters,function(e){e()}),e.mouse_projection_vec.set(e.mouse_x/n.w*2-1,2*-(e.mouse_y/n.h)+1,.99),e.render(r,n),_.each(r.UIS,function(e){e.refresh()}),e.p.unprojectVector(e.mouse_projection_vec,r.three_camera),e.cur.position.copy(e.mouse_projection_vec),_.each(e._additional_vps,function(t,o){var r=e._viewports[t];e.render(r,e._additional_vps_geom[o])}),SL.redraw(),requestAnimationFrame(o)};requestAnimationFrame(o)};
window.World.load_scene=function(e,n){var t=new Scene;t.set_from_json(e),this.scenes[t.GUID]=t,this.three_scenes[t.GUID]=new THREE.Scene,t.load(n,this.three_scenes[t.GUID],this)},window.World.initSun=function(e){var n=new THREE.Color(16777215),t=_.clone([Math.random(),.8,.9]);t[2]+=.5,n.setHSL.apply(n,t);var i=THREE.ImageUtils.loadTexture("/textures/lensflare/lensflare0.png"),s=THREE.ImageUtils.loadTexture("/textures/lensflare/lensflare2.png"),d=THREE.ImageUtils.loadTexture("/textures/lensflare/lensflare3.png"),r=new THREE.LensFlare(i,700,0,THREE.AdditiveBlending,n);r.add(s,512,0,THREE.AdditiveBlending),r.add(s,512,0,THREE.AdditiveBlending),r.add(s,512,0,THREE.AdditiveBlending),r.add(d,60,.6,THREE.AdditiveBlending),r.add(d,70,.7,THREE.AdditiveBlending),r.add(d,120,.9,THREE.AdditiveBlending),r.add(d,70,1,THREE.AdditiveBlending);var a=function(e){var n,t,i=e.lensFlares.length,s=2*-e.positionScreen.x,d=2*-e.positionScreen.y;for(n=0;i>n;n++)t=e.lensFlares[n],t.x=e.positionScreen.x+s*t.distance,t.y=e.positionScreen.y+d*t.distance,t.rotation=0;e.lensFlares[2].y+=.025,e.lensFlares[3].rotation=.5*e.positionScreen.x+THREE.Math.degToRad(45)};r.customUpdateCallback=a,r.position=(new THREE.Vector3).fromArray([0,1,0]).multiplyScalar(500),this.three_scenes[e.GUID].add(r),this.flares[e.GUID]=r},window.World.initSpace=function(e){var n="/textures/space/m01_cube",t="png",i=[n+".px."+t,n+".nx."+t,n+".py."+t,n+".ny."+t,n+".pz."+t,n+".nz."+t],s=THREE.ImageUtils.loadTextureCube(i),d=THREE.ShaderLib.cube;d.uniforms.tCube.value=s;var r=new THREE.ShaderMaterial({fragmentShader:d.fragmentShader,vertexShader:d.vertexShader,uniforms:d.uniforms,depthWrite:!1,side:THREE.BackSide});this.skyboxScenes[e.scene]=new THREE.Scene;var a=new THREE.Mesh(new THREE.CubeGeometry(9e3,9e3,9e3),r);this.skyBoxes[e.scene]=a,this.skyBoxCamera[e.scene]=new THREE.PerspectiveCamera(45,e.geom.w/e.geom.h,1,1e4),this.skyboxScenes[e.scene].add(a)},window.World.make_main=function(){var e=document.getElementById("viewports-select");this._main_viewport=e.options[e.selectedIndex].value,this._init_vps()},window.World.add_icon=function(){var e=document.getElementById("viewports-select");add_vp=e.options[e.selectedIndex].value,3==this._additional_vps.length?this._additional_vps[2]==add_vp:this._additional_vps.push(add_vp),this._init_vps()},window.World.meshes=function(){return this.scene.meshes},window.World.controllable=function(){var e=this.get_main_viewport();return this.scenes[e.scene].meshes[e.object]},window.World.mesh_for=function(e){return this.meshes()[this.scene.actors[e].control.object_guid]},window.World.get_current_actor=function(){var e=this;return e.scene.actors[e.login]};
function socketService(e){function t(){return a+=1,a%1e4}var n=function(e){var t=(Q.defer(),new XMLHttpRequest);t.open("GET","/my-auth-hash/",!0),t.send(),t.onreadystatechange=function(){if(4==t.readyState&&200==t.status){var n=JSON.parse(t.responseText);e(n)}}},c=io.connect(),i=!1,s=[];is_authenticated=Q.defer(),c.on("connected",function(){n(function(e){c.emit("auth_hash",{auth:e.hash})})}),c.on("auth_completed",function(e){e.err?is_authenticated.reject(e.err):is_authenticated.resolve(!0)}),is_authenticated.promise.then(function(){i=!0;for(var e=0;e<s.length;e++)c.emit(s[e].T,s[e].p)});var o={},r={},a=0,u=function(e,n,o){var a=Q.defer(),u=t();r[u]={cb:a};var f={p:o};return f.cbix=u,f.T=n,i?c.emit(e,f):s.push({T:e,p:f}),a.promise},f=["Q","R","S"];return _.each(f,function(e){c.on(e,function(e){var t=e.cbix;r.hasOwnProperty(t)&&(r[t].cb.resolve(e.d),delete r[t])})}),c.on("F",function(t){e("F",t)}),c.on("ALM",function(t){e("ALM",t)}),o.get=function(e,t){return u("Q",e,t)},o.sync=function(){return u("S","",{})},o.request=function(e,t){return u("R",e,t)},o.action=function(e){c.emit("A",e)},o}window.World.init_socket=function(){var e=window.location.origin,t=io.connect(e);this.socket=t;var n=this;this.socket_srv=socketService(function(e,t){switch(e){case"ALM":void 0!==n.scenes[t.scene]&&n.scenes[t.scene].sync(t.almanach);break;case"F":n.scenes[t.s].addNetworkMessage(t.a)}});var c=[];this.socket_srv.request("CTX",{user_id:!0}).then(function(e){n.syncTime();var t=0,i=0;_.each(e.contexts,function(e,s){var o=e.GUID;if(-1===c.indexOf(o)){c.push(o),t+=1;var r=e.objects,a=e.actors,u=[];console.log("Ok?",e),e.location.g.orbit&&u.push(n.socket_srv.get("celectial-recursive",{GUID:e.location.g.orbit.C})),_.each(r,function(e){var t=n.socket_srv.get("A",{id:e}).then(function(e){return n.socket_srv.get("T",{type:e.ship_type}).then(function(t){return e.ship_type=t,e})});u.push(t)}),Q.all(u).then(function(e){n.celestials={},_.each(e[0],function(e){n.celestials[e.GUID]=e}),e.splice(0,1);n.three_scenes[o]=new THREE.Scene;var c=new Scene(n.three_scenes[o],n);c.GUID=o,c.onLoadCallback=function(){n.setup_scene(c),i+=1,i===t&&(console.info("all_loaded"),n.go())},n.scenes[o]=c,_.each(a,function(e){e.GUID===s&&(n.actors[s]=e,n.actorScene[s]=o),c.join_actor(e)}),_.each(e,function(e){c.join_object(e,e.GUID)})}).catch(function(e){console.error(e.stack)})}})})},window.World.syncTime=function(){this._sync_timestamp=(new Date).getTime();var e=this,t=50;this.socket_srv.sync().then(function(n){var c=(new Date).getTime(),i=c-e._sync_timestamp;e.latencities.push(i/2),e.avg_latencity=Math.floor(_.reduce(e.latencities,function(e,t){return e+t},0)/e.latencities.length);var s=n.ts-e._sync_timestamp;e._time_diffs.push(s),e._time_diffs.length>t&&e._time_diffs.splice(0,1),e._time_diff=_.reduce(e._time_diffs,function(e,t){return e+t},0)/e._time_diffs.length,e.max_ping=_.max(e.pings),setTimeout(function(){e.syncTime()},1e3)}).catch(function(e){console.log(e.stack)})},window.World.sendAction=function(e,t){var n=_.clone(t);n.ts+=this._time_diff,n.p=JSON.stringify(n.p),delete n.vector,this.socket_srv.action({s:e,a:n})};
function StaticLogger(){this._vals={},this.setValue=function(t,i){this._vals[t]=i},this.init=function(){this.cont=$("<div>").css({position:"fixed",top:0,right:0,width:400,bottom:0,"background-color":"rgba(0,200,100,0.7)"}).appendTo("body")},this.redraw=function(){this.cont.find("*").remove();for(var t in this._vals)c=$("<div>").appendTo(this.cont),l=$("<span>").html(t+"&nbsp;: &nbsp;").css("font-weight","bold").appendTo(c),v=$("<span>").text(this._vals[t]).appendTo(c)}}var SL=new StaticLogger;
window.World.addUniformUpdater=function(d,o){this._uniform_updaters[d]=o},window.World.removeUniformUpdater=function(d){delete this._uniform_updaters[d]};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluaXRpYWxpemF0aW9uLmpzIiwicmVuZGVyLmpzIiwic2NlbmVfdXRpbHMuanMiLCJzb2NrZXRzLmpzIiwic3RhdGljTG9nZ2VyLmpzIiwidXRpbHMuanMiXSwibmFtZXMiOlsiV29ybGQiLCJDb25zIiwidGhpcyIsIm5hbWUiLCJ3aW5kb3ciLCJpbml0IiwiYXV0aF9oYXNoIiwiY2xpZW50X2xvZ2luIiwiX192cHgiLCJsb2dpbiIsInAiLCJUSFJFRSIsIlByb2plY3RvciIsInRocmVlX3NjZW5lcyIsInNjZW5lcyIsImZsYXJlcyIsImFjdG9ycyIsImFjdG9yU2NlbmUiLCJjbG9jayIsIkNsb2NrIiwic2ciLCJTcGhlcmVHZW9tZXRyeSIsImN1ciIsIk1lc2giLCJ2cF93aWR0aCIsImRvY3VtZW50IiwiYm9keSIsImNsaWVudFdpZHRoIiwidnBfaGVpZ2h0IiwiX21haW5fdmlld3BvcnQiLCJfYWRkaXRpb25hbF92cHMiLCJzY2VuZUFjdGlvbnMiLCJfaW5wdXRfa2V5bWFwIiwiX3VuaWZvcm1fdXBkYXRlcnMiLCJoMyIsInc0IiwidzM0IiwiX2FkZGl0aW9uYWxfdnBzX2dlb20iLCJsIiwidCIsInciLCJoIiwiX21haW5fdnBfZ2VvbSIsInNreWJveFNjZW5lcyIsInNreUJveGVzIiwic2t5Qm94Q2FtZXJhIiwibW91c2VfcHJvamVjdGlvbl92ZWMiLCJWZWN0b3IzIiwiU0wiLCJzZWxmIiwicGluZ3MiLCJwaW5nc19pbnN0YWJpbGl0eSIsIl90aW1lX2RpZmZzIiwibGF0ZW5jaXRpZXMiLCJyZW5kZXJlciIsIldlYkdMUmVuZGVyZXIiLCJhbnRpYWxpYXMiLCJhbHBoYSIsInNldFNpemUiLCJzZXRDbGVhckNvbG9yIiwiQ29sb3IiLCJhcHBlbmRDaGlsZCIsImRvbUVsZW1lbnQiLCJnYW1tYUlucHV0IiwiZ2FtbWFPdXRwdXQiLCJhdXRvQ2xlYXIiLCJwaHlzaWNhbGx5QmFzZWRTaGFkaW5nIiwiX2NhbWVyYV9yb3RfcSIsIlF1YXRlcm5pb24iLCJhZGRFdmVudExpc3RlbmVyIiwiZSIsIm1vdXNlX3giLCJ4IiwibW91c2VfeSIsInkiLCJJbnB1dHMiLCJpbnB1dCIsImNvZGUiLCJrZXlDb2RlIiwiaW5pdF9zb2NrZXQiLCJzZXRfYWN0aW9ucyIsImFjdGlvbnMiLCJfZGVmYXVsdF9hY3Rpb25zIiwicmVuZGVyIiwidnAiLCJnZW9tIiwicmVkcmF3U3VuIiwic2V0Vmlld3BvcnQiLCJyZWRyYXdTa3kiLCJzY2VuZSIsIl9hY3Rpb25fb25fdGhlX3J1bl92YXIiLCJjb25zb2xlIiwibG9nIiwiX2N1cl9jYW0iLCJ0aHJlZV9jYW1lcmEiLCJtcCIsInBhcmVudCIsIm1hdHJpeCIsImNsb25lIiwibSIsIm11bHRpcGx5IiwibXIiLCJNYXRyaXg0IiwiZXh0cmFjdFJvdGF0aW9uIiwicm90IiwiRXVsZXIiLCJzZXRGcm9tUm90YXRpb25NYXRyaXgiLCJyb3RhdGlvbiIsImNvcHkiLCJnZXRfbWFpbl92aWV3cG9ydCIsIl92aWV3cG9ydHMiLCJfaW5pdF92cHMiLCJtdnAiLCJtYWtlQ2FtZXJhIiwiXyIsImVhY2giLCJVSVMiLCJ1aSIsImNvbnN0cnVjdCIsImFjdG9yIiwic2NlbmVfZ3VpZCIsIkdVSUQiLCJ0b3RhbF9hY3Rpb25zIiwiY29udHJvbCIsIm9iamVjdF9ndWlkIiwid29ya3BvaW50IiwiYWN0aW9uIiwiZGVmYXVsdF9rZXkiLCJhZGQiLCJpbml0U3BhY2UiLCJDb250cm9sbGVyIiwiTG9jYWxJbnB1dEFjdG9yIiwic29ja2V0IiwidnBfbmFtZSIsImkiLCJzZXR1cENhbWVyYXMiLCJfdmlld3BvcnRfYW1vdW50IiwiaXNfZmlyc3QiLCJ3cCIsInZpZXdzIiwiZ2V0X29iamVjdCIsIndvcmtwb2ludHMiLCJtZXNoIiwibWVzaGVzIiwidWlzIiwiZ2V0VUlGb3JXUCIsInZpZXciLCJ2cF9oYXNoIiwicHVzaCIsIlUiLCJjb25jYXQiLCJvYmplY3QiLCJjYW1lcmEiLCJzZWwiLCJnZXRFbGVtZW50QnlJZCIsImlubmVySHRtbCIsImsiLCJvcHQiLCJjcmVhdGVFbGVtZW50IiwidmFsdWUiLCJjcmVhdGVUZXh0Tm9kZSIsInNkIiwiZnJvbUFycmF5IiwibXVsdGlwbHlTY2FsYXIiLCJwb3NpdGlvbiIsIm9iamVjdF9pZCIsInBvcnQiLCJQZXJzcGVjdGl2ZUNhbWVyYSIsInZwX3BvcyIsInZwX3JvdCIsInNldCIsImFwcGx5IiwiY2FtZXJhcyIsImRpcmVjdGlvbiIsImNhbV9iYXNlIiwiYXhpcyIsImNyb3NzVmVjdG9ycyIsImFnIiwiTWF0aCIsImFjb3MiLCJkb3QiLCJsZW5ndGgiLCJlcXVhbHMiLCJQSSIsInJvdGF0ZU9uQXhpcyIsInNldHVwX3NjZW5lIiwibWF0ZXJpYWwiLCJNZXNoQmFzaWNNYXRlcmlhbCIsImNvbG9yIiwid2lyZWZyYW1lIiwic3VuRGlyZWN0aW9uIiwiYW1iaWVudExpZ2h0IiwiQW1iaWVudExpZ2h0IiwibGlnaHQiLCJEaXJlY3Rpb25hbExpZ2h0Iiwic2V0SFNMIiwicmFuZG9tIiwiaW5pdFN1biIsImdldEFjdGlvbnMiLCJiaW5kQ2FtZXJhIiwiZ2V0X2N1cnJlbnRfYWN0b3IiLCJjb250cm9sbGFibGUiLCJzZXRDYW1lcmEiLCJnbyIsIm1ha2VUaWNrcyIsInMiLCJ0aWNrIiwiYW5pbWF0ZSIsImYiLCJyZWZyZXNoIiwidW5wcm9qZWN0VmVjdG9yIiwicmVkcmF3IiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwibG9hZF9zY2VuZSIsInNjZW5lX2pzIiwib25sb2FkIiwiU2NlbmUiLCJzZXRfZnJvbV9qc29uIiwibG9hZCIsImZsYXJlQ29sb3IiLCJzbCIsInRleHR1cmVGbGFyZTAiLCJJbWFnZVV0aWxzIiwibG9hZFRleHR1cmUiLCJ0ZXh0dXJlRmxhcmUyIiwidGV4dHVyZUZsYXJlMyIsImxlbnNGbGFyZSIsIkxlbnNGbGFyZSIsIkFkZGl0aXZlQmxlbmRpbmciLCJsZW5zRmxhcmVVcGRhdGVDYWxsYmFjayIsImZsYXJlIiwiZmwiLCJsZW5zRmxhcmVzIiwidmVjWCIsInBvc2l0aW9uU2NyZWVuIiwidmVjWSIsImRpc3RhbmNlIiwiZGVnVG9SYWQiLCJjdXN0b21VcGRhdGVDYWxsYmFjayIsInBhdGgiLCJmb3JtYXQiLCJ1cmxzIiwidGV4dHVyZUN1YmUiLCJsb2FkVGV4dHVyZUN1YmUiLCJzaGFkZXIiLCJTaGFkZXJMaWIiLCJ1bmlmb3JtcyIsIlNoYWRlck1hdGVyaWFsIiwiZnJhZ21lbnRTaGFkZXIiLCJ2ZXJ0ZXhTaGFkZXIiLCJkZXB0aFdyaXRlIiwic2lkZSIsIkJhY2tTaWRlIiwiQ3ViZUdlb21ldHJ5IiwibWFrZV9tYWluIiwib3B0aW9ucyIsInNlbGVjdGVkSW5kZXgiLCJhZGRfaWNvbiIsImFkZF92cCIsIm1lc2hfZm9yIiwic29ja2V0U2VydmljZSIsImxpc3RlbmVyIiwiZ2V0Q0JJeCIsImN1cmNiaXgiLCJhdXRoSGFzaEYiLCJjYiIsInhociIsIlEiLCJkZWZlciIsIlhNTEh0dHBSZXF1ZXN0Iiwib3BlbiIsInNlbmQiLCJvbnJlYWR5c3RhdGVjaGFuZ2UiLCJyZWFkeVN0YXRlIiwic3RhdHVzIiwianMiLCJKU09OIiwicGFyc2UiLCJyZXNwb25zZVRleHQiLCJpbyIsImNvbm5lY3QiLCJpc19yZWFkeSIsIlF1ZXVlIiwiaXNfYXV0aGVudGljYXRlZCIsIm9uIiwianNvbiIsImVtaXQiLCJhdXRoIiwiaGFzaCIsIm1zZyIsImVyciIsInJlamVjdCIsInJlc29sdmUiLCJwcm9taXNlIiwidGhlbiIsIlQiLCJTIiwiY2JzIiwiUmVxIiwibXQiLCJkIiwiY2JpeCIsIm8iLCJtZXNzYWdlc190b19oZWFyIiwibWVzc2FnZV90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJkYXRhIiwiZ2V0Iiwic3luYyIsInJlcXVlc3QiLCJtZXNzIiwib3JpZ2luIiwibG9jYXRpb24iLCJzb2NrZXRfc3J2IiwidHlwZSIsInVuZGVmaW5lZCIsImFsbWFuYWNoIiwiYWRkTmV0d29ya01lc3NhZ2UiLCJhIiwic2NlbmVzX2luX3Byb2Nlc3MiLCJ1c2VyX2lkIiwiY3R4Iiwic3luY1RpbWUiLCJ0b3RhbF9zY2VuZXMiLCJsb2FkZWRfc2NlbmVzIiwiY29udGV4dHMiLCJzY2VuZV9kZXNjIiwiYWN0b3JfZ3VpZCIsImluZGV4T2YiLCJvYmplY3RzIiwic2NlbmVfYWN0b3JzIiwib3Nwcm9taXNlcyIsImciLCJvcmJpdCIsIkMiLCJvZ3VpZCIsImlkIiwib2JqIiwic2hpcF90eXBlIiwiYWxsIiwiY2VsZXN0aWFscyIsInNwbGljZSIsIm9uTG9hZENhbGxiYWNrIiwiaW5mbyIsImFjdCIsImpvaW5fYWN0b3IiLCJqb2luX29iamVjdCIsImNhdGNoIiwiZXJyb3IiLCJzdGFjayIsIl9zeW5jX3RpbWVzdGFtcCIsIkRhdGUiLCJnZXRUaW1lIiwiZGlmZl9zdGF0aXN0aWNzX2xlbmd0aCIsInJlY3ZfdHMiLCJwaW5nIiwiYXZnX2xhdGVuY2l0eSIsImZsb29yIiwicmVkdWNlIiwiYiIsIl90aW1lX2RpZmYiLCJ0cyIsIm1heF9waW5nIiwibWF4Iiwic2V0VGltZW91dCIsInNlbmRBY3Rpb24iLCJzdHJpbmdpZnkiLCJ2ZWN0b3IiLCJTdGF0aWNMb2dnZXIiLCJfdmFscyIsInNldFZhbHVlIiwicGFyYW0iLCJ2YWwiLCJjb250IiwiJCIsImNzcyIsInRvcCIsInJpZ2h0Iiwid2lkdGgiLCJib3R0b20iLCJiYWNrZ3JvdW5kLWNvbG9yIiwiYXBwZW5kVG8iLCJmaW5kIiwicmVtb3ZlIiwiYyIsImh0bWwiLCJ2IiwidGV4dCIsImFkZFVuaWZvcm1VcGRhdGVyIiwidXBkZnVuYyIsInJlbW92ZVVuaWZvcm1VcGRhdGVyIl0sIm1hcHBpbmdzIjoiQUFBQUEsTUFBUSxXQUNQLFFBQVNDLEtBQ1JDLEtBQUtDLEtBQU8sT0FFYixNQUFPRixNQUlSRyxPQUFPSixNQUFNSyxLQUFPLFNBQVNDLEVBQVdDLEdBQ3ZDTCxLQUFLTSxNQUFRLEVBQ2JOLEtBQUtJLFVBQVlBLEVBQ2pCSixLQUFLTyxNQUFRRixFQUdWTCxLQUFLUSxFQUFJLEdBQUlDLE9BQU1DLFVBQ3RCVixLQUFLVyxnQkFDTFgsS0FBS1ksVUFDTFosS0FBS2EsVUFDRmIsS0FBS2MsVUFDTGQsS0FBS2UsY0FFTGYsS0FBS2dCLE1BQVEsR0FBSVAsT0FBTVEsS0FFdkIsSUFBSUMsR0FBSyxHQUFJVCxPQUFNVSxlQUFlLEVBRWxDbkIsTUFBS29CLElBQU0sR0FBSVgsT0FBTVksS0FBS0gsR0FDN0JsQixLQUFLc0IsU0FBV0MsU0FBU0MsS0FBS0MsWUFDOUJ6QixLQUFLMEIsVUFBWSxJQUNqQjFCLEtBQUsyQixlQUFpQixFQUN0QjNCLEtBQUs0QixtQkFDTDVCLEtBQUs2QixnQkFDTDdCLEtBQUs4QixpQkFDRjlCLEtBQUsrQixvQkFFTCxJQUFJQyxHQUFLaEMsS0FBSzBCLFVBQVUsRUFDdkJPLEVBQUtqQyxLQUFLc0IsU0FBUyxFQUNuQlksRUFBTWxDLEtBQUtzQixTQUFVVyxDQUN6QmpDLE1BQUttQyx1QkFDSEMsRUFBRUYsRUFBS0csRUFBSyxFQUFITCxFQUFNTSxFQUFFTCxFQUFJTSxFQUFFUCxJQUN2QkksRUFBRUYsRUFBS0csRUFBRUwsRUFBSU0sRUFBRUwsRUFBSU0sRUFBRVAsSUFDckJJLEVBQUVGLEVBQUtHLEVBQUUsRUFBR0MsRUFBRUwsRUFBSU0sRUFBRVAsSUFHdEJoQyxLQUFLd0MsZUFBaUJKLEVBQUUsRUFBR0MsRUFBRSxFQUFHQyxFQUFFdEMsS0FBS3NCLFNBQVVpQixFQUFFdkMsS0FBSzBCLFdBRXhEMUIsS0FBS3lDLGdCQUNMekMsS0FBSzBDLFlBQ0wxQyxLQUFLMkMsZ0JBQ0wzQyxLQUFLNEMscUJBQXVCLEdBQUluQyxPQUFNb0MsUUFDdENDLEdBQUczQyxNQUNILElBQUk0QyxHQUFPL0MsSUFtRFgsT0FsREErQyxHQUFLQyxTQUNMRCxFQUFLRSxxQkFDTEYsRUFBS0csZUFDRkgsRUFBS0ksZUFLUm5ELEtBQUtvRCxTQUFXLEdBQUkzQyxPQUFNNEMsZUFBZUMsV0FBVSxFQUFNQyxPQUFNLElBQy9EdkQsS0FBS29ELFNBQVNJLFFBQVF4RCxLQUFLc0IsU0FBVXRCLEtBQUswQixXQUMxQzFCLEtBQUtvRCxTQUFTSyxjQUFjLEdBQUloRCxPQUFNaUQsTUFBTSxJQUM1Q25DLFNBQVNDLEtBQUttQyxZQUFZM0QsS0FBS29ELFNBQVNRLFlBRXhDNUQsS0FBS29ELFNBQVNTLFlBQWEsRUFDM0I3RCxLQUFLb0QsU0FBU1UsYUFBYyxFQUM1QjlELEtBQUtvRCxTQUFTVyxXQUFZLEVBQzFCL0QsS0FBS29ELFNBQVNZLHdCQUF5QixFQUV2Q2hFLEtBQUtpRSxjQUFnQixHQUFJeEQsT0FBTXlELFdBSS9CM0MsU0FBUzRDLGlCQUFrQixZQUFhLFNBQVNDLEdBQ2hEckIsRUFBS3NCLFFBQVVELEVBQUVFLEVBQ2pCdkIsRUFBS3dCLFFBQVVILEVBQUVJLElBQ2YsR0FDSHhFLEtBQUtvRCxTQUFTUSxXQUFXTyxpQkFBaUIsVUFBVyxXQUVwRHBCLEVBQUswQixPQUFPQyxNQUFPLFVBQVUsS0FHOUIxRSxLQUFLb0QsU0FBU1EsV0FBV08saUJBQWlCLFlBQWEsV0FFdERwQixFQUFLMEIsT0FBT0MsTUFBTyxVQUFVLEtBRTlCbkQsU0FBUzRDLGlCQUFpQixVQUFXLFNBQVNDLEdBQzdDLEdBQUlPLEdBQU9QLEVBQUVRLE9BRWI3QixHQUFLMEIsT0FBT0MsTUFBT0MsR0FBTSxLQUl2QixHQUNIcEQsU0FBUzRDLGlCQUFpQixRQUFTLFNBQVNDLEdBQzNDLEdBQUlPLEdBQU9QLEVBQUVRLE9BQ2I3QixHQUFLMEIsT0FBT0MsTUFBTUMsR0FBTSxLQUd0QixHQUNINUIsRUFBSzhCLGNBQ0U5QixHQUtSN0MsT0FBT0osTUFBTWdGLFlBQWMsV0FDMUIvQixLQUFLZ0MsUUFBVWhDLEtBQUtpQztBQzNHckI5RSxPQUFPSixNQUFNbUYsT0FBUyxTQUFTQyxFQUFHQyxHQUNqQ25GLEtBQUtvRixVQUFVRixHQUVmbEYsS0FBS29ELFNBQVNpQyxZQUFZRixFQUFLL0MsRUFBRytDLEVBQUs5QyxFQUFHOEMsRUFBSzdDLEVBQUc2QyxFQUFLNUMsR0FFdkR2QyxLQUFLc0YsVUFBVUosR0FDWmxGLEtBQUtZLE9BQU9zRSxFQUFHSyxPQUFPQyx3QkFDeEJDLFFBQVFDLElBQUksWUFFVjFGLEtBQUsyRixTQUFXVCxFQUFHVSxhQU9uQjVGLEtBQUtvRCxTQUFTNkIsT0FBT2pGLEtBQUtXLGFBQWF1RSxFQUFHSyxPQUFRTCxFQUFHVSxlQUt6RDFGLE9BQU9KLE1BQU13RixVQUFZLFNBQVNKLEdBRzlCLEdBQUlXLEdBQUtYLEVBQUdVLGFBQWFFLE9BQU9DLE9BQU9DLFFBQ3RDQyxFQUFJZixFQUFHVSxhQUFhRyxPQUFPQyxPQUMvQkgsR0FBR0ssU0FBU0QsRUFDWixJQUFJRSxJQUFLLEdBQUkxRixPQUFNMkYsU0FBVUMsZ0JBQWdCUixHQUN6Q1MsR0FBTSxHQUFJN0YsT0FBTThGLE9BQVFDLHNCQUFzQkwsRUFHbERuRyxNQUFLMkMsYUFBYXVDLEVBQUdLLE9BQU9rQixTQUFTQyxLQUFNSixHQU14Q3RHLEtBQUtvRCxTQUFTNkIsT0FBUWpGLEtBQUt5QyxhQUFheUMsRUFBR0ssT0FBUXZGLEtBQUsyQyxhQUFhdUMsRUFBR0ssU0FNNUVyRixPQUFPSixNQUFNNkcsa0JBQW9CLFdBRWhDLE1BQU8zRyxNQUFLNEcsV0FBVzVHLEtBQUsyQixpQkFFN0J6QixPQUFPSixNQUFNK0csVUFBWSxXQUN4QixHQUFJQyxHQUFNOUcsS0FBSzRHLFdBQVc1RyxLQUFLMkIsZ0JBQzNCb0IsRUFBTy9DLElBRVg4RyxHQUFJM0IsTUFBUTlDLEVBQUUsRUFBR0QsRUFBRSxFQUFHRSxFQUFFdEMsS0FBS3NCLFNBQVVpQixFQUFFdkMsS0FBSzBCLFdBQzlDb0YsRUFBSWxCLGFBQWU1RixLQUFLK0csV0FBV0QsR0FDbkNFLEVBQUVDLEtBQUtILEVBQUlJLElBQUssU0FBU0MsR0FDeEJBLEVBQUdDLGNBR0pKLEVBQUVDLEtBQUtILEVBQUloRyxPQUFRLFNBQVN1RyxHQUdyQixHQUFJQyxHQUFhdkUsRUFBS2hDLFdBQVdzRyxFQUFNRSxNQUN6Q0MsRUFBZ0J6RSxFQUFLbEIsYUFBYXlGLEdBQVlELEVBQU1JLFFBQVFDLGFBQWFMLEVBQU1JLFFBQVFFLFVBQzNGWCxHQUFFQyxLQUFLTyxFQUFlLFNBQVNJLEdBQzNCQSxFQUFPQyxjQUNUOUUsRUFBS2pCLGNBQWM4RixFQUFPQyxhQUFlRCxPQU01QzVILEtBQUtXLGFBQWFtRyxFQUFJdkIsT0FBT3VDLElBQUk5SCxLQUFLb0IsS0FDdENwQixLQUFLK0gsVUFBVWpCLEVBR2YsSUFBSS9ELEdBQU8vQyxJQUNYK0MsR0FBSzBCLE9BQVMsR0FBSXVELFlBQVdDLGdCQUFnQmxGLEVBQU1BLEVBQUttRixRQUd4RGxCLEVBQUVDLEtBQUtqSCxLQUFLNEIsZ0JBQWlCLFNBQVN1RyxFQUFRQyxHQUM3QyxHQUFJbEQsR0FBS25DLEVBQUs2RCxXQUFXdUIsRUFDekJqRCxHQUFHQyxLQUFPcEMsRUFBS1oscUJBQXFCaUcsR0FDcENsRCxFQUFHVSxhQUFlN0MsRUFBS2dFLFdBQVc3QixHQUNsQ25DLEVBQUtnRixVQUFVN0MsTUFPakJoRixPQUFPSixNQUFNdUksYUFBZSxXQUMzQixHQUFJdEYsR0FBTy9DLElBRVgrQyxHQUFLNkQsY0FDTDdELEVBQUt1RixpQkFBbUIsQ0FDeEIsSUFBSUMsSUFBVyxDQUVmOUMsU0FBUUMsSUFBSSwwQkFBMkIzQyxFQUFLakMsUUFDNUNrRyxFQUFFQyxLQUFLbEUsRUFBS2pDLE9BQVEsU0FBU3VHLEdBRTVCLEdBQUltQixHQUFLbkIsRUFBTUksUUFBUUUsVUFDYkwsRUFBYXZFLEVBQUtoQyxXQUFXc0csRUFBTUUsS0FDN0M5QixTQUFRQyxJQUFJLFNBQVUzQyxFQUFLbkMsT0FBUTBHLEVBQ25DLElBQUltQixHQUFRMUYsRUFBS25DLE9BQU8wRyxHQUFZb0IsV0FBV3JCLEVBQU1JLFFBQVFDLGFBQWFpQixXQUFXSCxHQUFJQyxNQUNyRkcsRUFBTzdGLEVBQUtuQyxPQUFPMEcsR0FBWXVCLE9BQU94QixFQUFNSSxRQUFRQyxhQUNwRG9CLEVBQU1GLEVBQUtHLFdBQVdQLEVBRTFCeEIsR0FBRUMsS0FBS3dCLEVBQU8sU0FBU08sR0FDdEIsR0FBSUMsR0FBVTNCLEVBQWFELEVBQU1JLFFBQVFDLFlBQWNzQixDQUt2RCxJQUpJVCxJQUNIeEYsRUFBS3BCLGVBQWlCc0gsR0FHbEJBLElBQVdsRyxHQUFLNkQsV0FJaEIsQ0FDSjdELEVBQUs2RCxXQUFXcUMsR0FBU25JLE9BQU9vSSxLQUFLN0IsRUFDckMsSUFBSThCLEdBQUlwRyxFQUFLNkQsV0FBV3FDLEdBQVMvQixHQUVqQ25FLEdBQUs2RCxXQUFXcUMsR0FBUy9CLElBQU1pQyxFQUFFQyxPQUFPTixPQVJSLENBQ2hDLEdBQUk1RCxJQUFNSyxNQUFNK0IsRUFBWStCLE9BQU9oQyxFQUFNSSxRQUFRQyxZQUFhNEIsT0FBUU4sRUFBTWxJLFFBQVF1RyxHQUFRSCxJQUFJNEIsRUFDaEcvRixHQUFLNkQsV0FBV3FDLEdBQVcvRCxFQUMzQm5DLEVBQUt1RixrQkFBbUIsT0FhM0J2RixFQUFLOEQsV0FDTCxJQUFJMEMsR0FBTWhJLFNBQVNpSSxlQUFlLG1CQUNsQ0QsR0FBSUUsVUFBWSxHQUNoQnpDLEVBQUVDLEtBQUtsRSxFQUFLNkQsV0FBWSxTQUFTMUIsRUFBR3dFLEdBQ25DLEdBQUlDLEdBQU1wSSxTQUFTcUksY0FBYyxTQUNqQ0QsR0FBSUUsTUFBUUgsRUFDWkMsRUFBSWhHLFlBQVlwQyxTQUFTdUksZUFBZTVFLEVBQUdvRSxTQUMzQ0MsRUFBSTVGLFlBQVlnRyxNQVFsQnpKLE9BQU9KLE1BQU1zRixVQUFZLFNBQVNGLEdBQ2pDLEdBQUllLEdBQUlqRyxLQUFLWSxPQUFPc0UsRUFBR0ssT0FBT3NELE9BQU8zRCxFQUFHbUUsUUFFcENVLEdBQUssR0FBSXRKLE9BQU1vQyxTQUFVbUgsV0FBVyxFQUFFLEVBQUUsSUFBSUMsZUFBZSxHQUcvRGpLLE1BQUthLE9BQU9xRSxFQUFHSyxPQUFPMkUsU0FBV2pFLEVBQUVpRSxTQUFTbEUsUUFBUThCLElBQUlpQyxJQUl6RDdKLE9BQU9KLE1BQU1pSCxXQUFhLFNBQVM3QixHQUNsQyxHQUFJbkMsR0FBTy9DLEtBUVB1RixFQUFRTCxFQUFHSyxNQUNYNEUsRUFBWWpGLEVBQUdtRSxPQUNmZSxFQUFPbEYsRUFBR29FLE9BQ1ZWLEVBQU83RixFQUFLbkMsT0FBTzJFLEdBQU9zRCxPQUFPc0IsR0FDakNkLEVBQVN0RyxFQUFLbkMsT0FBTzJFLEdBQU9tRCxXQUFXeUIsR0FFdkNiLEVBQVMsR0FBSTdJLE9BQU00SixrQkFBa0IsR0FBSW5GLEVBQUdDLEtBQUs3QyxFQUFJNEMsRUFBR0MsS0FBSzVDLEVBQUcsRUFBRyxLQUVuRStILEVBQWMsR0FBSTdKLE9BQU1vQyxRQUN4QjBILEVBQVksR0FBSTlKLE9BQU1vQyxPQUUxQnlILEdBQU9FLElBQUlDLE1BQU1ILEVBQVFqQixFQUFPcUIsUUFBUU4sR0FBTUYsVUFDOUNLLEVBQU9DLElBQUlDLE1BQU1GLEVBQVFsQixFQUFPcUIsUUFBUU4sR0FBTU8sVUFFOUMsSUFBSUMsR0FBVyxHQUFJbkssT0FBTW9DLFFBQVEsRUFBRSxFQUFFLElBQ2pDZ0ksRUFBTyxHQUFJcEssT0FBTW9DLE9BQ3JCZ0ksR0FBS0MsYUFBYUYsRUFBVUwsRUFDNUIsSUFBSVEsR0FBS0MsS0FBS0MsS0FBS0wsRUFBU00sSUFBSVgsR0FBU0ssRUFBU08sU0FBV1osRUFBT1ksU0FhcEUsT0FYcUIsS0FBbEJOLEVBQUtNLFVBQW1CUCxFQUFTUSxPQUFRYixLQUMzQ00sRUFBTyxHQUFJcEssT0FBTW9DLFFBQVEsRUFBRSxFQUFFLEdBQzdCa0ksRUFBS0MsS0FBS0ssSUFLWC9CLEVBQU9nQyxhQUFhVCxFQUFNRSxHQUUxQnpCLEVBQU9ZLFNBQVdJLEVBQ2xCMUIsRUFBS2QsSUFBSXdCLEdBQ0ZBLEdBS1JwSixPQUFPSixNQUFNeUwsWUFBYyxTQUFTaEcsR0FDbkNpRyxTQUFXLEdBQUkvSyxPQUFNZ0wsbUJBQ2xCQyxNQUFPLFNBQ1BDLFdBQVcsR0FLZCxJQUFJQyxJQUFlLEdBQUluTCxPQUFNb0MsU0FBVW1ILFdBQVcsRUFBRSxFQUFFLElBR2xENkIsRUFBZSxHQUFJcEwsT0FBTXFMLGFBQWEsTUFDMUM5TCxNQUFLVyxhQUFhNEUsRUFBTWdDLE1BQU1PLElBQUkrRCxFQUVsQyxJQUFJRSxHQUFRLEdBQUl0TCxPQUFNdUwsaUJBQWtCLFNBQVUsRUFFbERELEdBQU1MLE1BQU1PLE9BQU94QixNQUFNc0IsRUFBTUwsT0FBUVYsS0FBS2tCLFNBQVUsR0FBSyxLQUMzREgsRUFBTTdCLFNBQVcwQixFQUVqQjVMLEtBQUtXLGFBQWE0RSxFQUFNZ0MsTUFBTU8sSUFBS2lFLEdBQ25DL0wsS0FBS21NLFFBQVE1RyxHQUVidkYsS0FBSzZCLGFBQWEwRCxFQUFNZ0MsTUFBUWhDLEVBQU02RyxjQU12Q2xNLE9BQU9KLE1BQU11TSxXQUFhLFdBRXpCLEdBQUl0SixHQUFPL0MsS0FFUHFILEVBQVd0RSxFQUFLdUosb0JBRWhCQyxFQUFleEosRUFBSzhGLFNBQVV4QixFQUFNSSxRQUFRQyxZQUNoRDZFLEdBQWF6RSxJQUFLL0UsRUFBS3VHLFFBQ3ZCdkcsRUFBS3lKLGFBS050TSxPQUFPSixNQUFNMk0sR0FBSyxXQUNqQixHQUFJMUosR0FBTy9DLElBT1grQyxHQUFLc0YsY0FNTCxJQUFJcUUsR0FBWSxXQUNmMUYsRUFBRUMsS0FBS2xFLEVBQUtuQyxPQUFRLFNBQVMrTCxHQUM1QkEsRUFBRUMsVUFLR0MsRUFBVSxXQUNWSCxHQUVBLElBQUk1RixHQUFNL0QsRUFBSzRELG9CQUNYeEIsRUFBT3BDLEVBQUtQLGFBRWhCd0UsR0FBRUMsS0FBS2xFLEVBQUtoQixrQkFBbUIsU0FBUytLLEdBQ3BDQSxNQUVKL0osRUFBS0gscUJBQXFCNEgsSUFBT3pILEVBQUtzQixRQUFTYyxFQUFLN0MsRUFBTSxFQUFJLEVBQWlDLElBQTFCUyxFQUFLd0IsUUFBVVksRUFBSzVDLEdBQVUsRUFBRyxLQUV0R1EsRUFBS2tDLE9BQU82QixFQUFLM0IsR0FDakI2QixFQUFFQyxLQUFLSCxFQUFJSSxJQUFLLFNBQVNDLEdBQ3hCQSxFQUFHNEYsWUFHSmhLLEVBQUt2QyxFQUFFd00sZ0JBQWlCakssRUFBS0gscUJBQXNCa0UsRUFBSWxCLGNBRXZEN0MsRUFBSzNCLElBQUk4SSxTQUFTeEQsS0FBTTNELEVBQUtILHNCQUk3Qm9FLEVBQUVDLEtBQUtsRSxFQUFLbkIsZ0JBQWlCLFNBQVN1RyxFQUFTQyxHQUMzQyxHQUFJbEQsR0FBS25DLEVBQUs2RCxXQUFXdUIsRUFDekJwRixHQUFLa0MsT0FBT0MsRUFBSW5DLEVBQUtaLHFCQUFxQmlHLE1BSXBEdEYsR0FBR21LLFNBRUhDLHNCQUFzQkwsR0FHdkJLLHVCQUFzQkw7QUNuU3ZCM00sT0FBT0osTUFBTXFOLFdBQWEsU0FBVUMsRUFBVUMsR0FLN0MsR0FBSTlILEdBQVEsR0FBSStILE1BRWhCL0gsR0FBTWdJLGNBQWNILEdBR3BCcE4sS0FBS1ksT0FBTzJFLEVBQU1nQyxNQUFRaEMsRUFDMUJ2RixLQUFLVyxhQUFhNEUsRUFBTWdDLE1BQVEsR0FBSTlHLE9BQU02TSxNQUUxQy9ILEVBQU1pSSxLQUFLSCxFQUFRck4sS0FBS1csYUFBYTRFLEVBQU1nQyxNQUFPdkgsT0FPbkRFLE9BQU9KLE1BQU1xTSxRQUFVLFNBQVM1RyxHQUUvQixHQUFJa0ksR0FBYSxHQUFJaE4sT0FBTWlELE1BQU8sVUFDOUJnSyxFQUFLMUcsRUFBRWhCLE9BQU9nRixLQUFLa0IsU0FBVSxHQUFLLElBQ3RDd0IsR0FBRyxJQUFNLEdBQ1RELEVBQVd4QixPQUFPeEIsTUFBTWdELEVBQVlDLEVBRXBDLElBQUlDLEdBQWdCbE4sTUFBTW1OLFdBQVdDLFlBQWEsc0NBQzlDQyxFQUFnQnJOLE1BQU1tTixXQUFXQyxZQUFhLHNDQUM5Q0UsRUFBZ0J0TixNQUFNbU4sV0FBV0MsWUFBYSxzQ0FFOUNHLEVBQVksR0FBSXZOLE9BQU13TixVQUFXTixFQUFlLElBQUssRUFBS2xOLE1BQU15TixpQkFBa0JULEVBRXRGTyxHQUFVbEcsSUFBS2dHLEVBQWUsSUFBSyxFQUFLck4sTUFBTXlOLGtCQUM5Q0YsRUFBVWxHLElBQUtnRyxFQUFlLElBQUssRUFBS3JOLE1BQU15TixrQkFDOUNGLEVBQVVsRyxJQUFLZ0csRUFBZSxJQUFLLEVBQUtyTixNQUFNeU4sa0JBRTlDRixFQUFVbEcsSUFBS2lHLEVBQWUsR0FBSSxHQUFLdE4sTUFBTXlOLGtCQUM3Q0YsRUFBVWxHLElBQUtpRyxFQUFlLEdBQUksR0FBS3ROLE1BQU15TixrQkFDN0NGLEVBQVVsRyxJQUFLaUcsRUFBZSxJQUFLLEdBQUt0TixNQUFNeU4sa0JBQzlDRixFQUFVbEcsSUFBS2lHLEVBQWUsR0FBSSxFQUFLdE4sTUFBTXlOLGlCQUM3QyxJQUFJQyxHQUEwQixTQUFXOUUsR0FFeEMsR0FBSXlELEdBQ0FzQixFQURHQyxFQUFLaEYsRUFBT2lGLFdBQVduRCxPQUUxQm9ELEVBQWtDLEdBQTFCbEYsRUFBT21GLGVBQWVsSyxFQUM5Qm1LLEVBQWtDLEdBQTFCcEYsRUFBT21GLGVBQWVoSyxDQUdsQyxLQUFLc0ksRUFBSSxFQUFPdUIsRUFBSnZCLEVBQVFBLElBRWhCc0IsRUFBUS9FLEVBQU9pRixXQUFZeEIsR0FFM0JzQixFQUFNOUosRUFBSStFLEVBQU9tRixlQUFlbEssRUFBSWlLLEVBQU9ILEVBQU1NLFNBQ2pETixFQUFNNUosRUFBSTZFLEVBQU9tRixlQUFlaEssRUFBSWlLLEVBQU9MLEVBQU1NLFNBRWpETixFQUFNM0gsU0FBVyxDQUlyQjRDLEdBQU9pRixXQUFZLEdBQUk5SixHQUFLLEtBQzVCNkUsRUFBT2lGLFdBQVksR0FBSTdILFNBQXFDLEdBQTFCNEMsRUFBT21GLGVBQWVsSyxFQUFVN0QsTUFBTXVLLEtBQUsyRCxTQUFVLElBR3hGWCxHQUFVWSxxQkFBdUJULEVBQ2pDSCxFQUFVOUQsVUFBVyxHQUFJekosT0FBTW9DLFNBQVVtSCxXQUFXLEVBQUUsRUFBRSxJQUFJQyxlQUFlLEtBSTNFakssS0FBS1csYUFBYTRFLEVBQU1nQyxNQUFNTyxJQUFJa0csR0FDbENoTyxLQUFLYSxPQUFPMEUsRUFBTWdDLE1BQVF5RyxHQUUzQjlOLE9BQU9KLE1BQU1pSSxVQUFhLFNBQVM3QyxHQUVsQyxHQUFJMkosR0FBTywyQkFDUEMsRUFBUyxNQUNUQyxHQUNIRixFQUFPLE9BQVNDLEVBQVFELEVBQU8sT0FBU0MsRUFDeENELEVBQU8sT0FBU0MsRUFBUUQsRUFBTyxPQUFTQyxFQUN4Q0QsRUFBTyxPQUFTQyxFQUFRRCxFQUFPLE9BQVNDLEdBR3JDRSxFQUFjdk8sTUFBTW1OLFdBQVdxQixnQkFBaUJGLEdBQ2hERyxFQUFTek8sTUFBTTBPLFVBQWtCLElBQ3JDRCxHQUFPRSxTQUFrQixNQUFFdkYsTUFBUW1GLENBRW5DLElBQUl4RCxHQUFXLEdBQUkvSyxPQUFNNE8sZ0JBRXhCQyxlQUFnQkosRUFBT0ksZUFDdkJDLGFBQWNMLEVBQU9LLGFBQ3JCSCxTQUFVRixFQUFPRSxTQUNqQkksWUFBWSxFQUNaQyxLQUFNaFAsTUFBTWlQLFVBR2IxUCxNQUFLeUMsYUFBYXlDLEVBQUdLLE9BQVMsR0FBSTlFLE9BQU02TSxLQUN4QyxJQUFJckgsR0FBSSxHQUFJeEYsT0FBTVksS0FBTSxHQUFJWixPQUFNa1AsYUFBYyxJQUFNLElBQU0sS0FBUW5FLEVBQ3BFeEwsTUFBSzBDLFNBQVN3QyxFQUFHSyxPQUFXVSxFQUU1QmpHLEtBQUsyQyxhQUFhdUMsRUFBR0ssT0FBUyxHQUFJOUUsT0FBTTRKLGtCQUFrQixHQUFJbkYsRUFBR0MsS0FBSzdDLEVBQUk0QyxFQUFHQyxLQUFLNUMsRUFBRyxFQUFHLEtBQ3hGdkMsS0FBS3lDLGFBQWF5QyxFQUFHSyxPQUFPdUMsSUFBSTdCLElBS2pDL0YsT0FBT0osTUFBTThQLFVBQVksV0FDeEIsR0FBSXJHLEdBQU1oSSxTQUFTaUksZUFBZSxtQkFDbEN4SixNQUFLMkIsZUFBaUI0SCxFQUFJc0csUUFBUXRHLEVBQUl1RyxlQUFlakcsTUFDckQ3SixLQUFLNkcsYUFFTjNHLE9BQU9KLE1BQU1pUSxTQUFXLFdBQ3ZCLEdBQUl4RyxHQUFNaEksU0FBU2lJLGVBQWUsbUJBQ2xDd0csUUFBU3pHLEVBQUlzRyxRQUFRdEcsRUFBSXVHLGVBQWVqRyxNQUNOLEdBQS9CN0osS0FBSzRCLGdCQUFnQnVKLE9BQ3ZCbkwsS0FBSzRCLGdCQUFnQixJQUFNb08sT0FHM0JoUSxLQUFLNEIsZ0JBQWdCc0gsS0FBSzhHLFFBRTNCaFEsS0FBSzZHLGFBS04zRyxPQUFPSixNQUFNK0ksT0FBUyxXQUNyQixNQUFPN0ksTUFBS3VGLE1BQU1zRCxRQUluQjNJLE9BQU9KLE1BQU15TSxhQUFlLFdBQzNCLEdBQUl6RixHQUFNOUcsS0FBSzJHLG1CQUVmLE9BQU8zRyxNQUFLWSxPQUFPa0csRUFBSXZCLE9BQU9zRCxPQUFPL0IsRUFBSXVDLFNBRTFDbkosT0FBT0osTUFBTW1RLFNBQVcsU0FBUzVJLEdBRWhDLE1BQU9ySCxNQUFLNkksU0FBUzdJLEtBQUt1RixNQUFNekUsT0FBT3VHLEdBQU9JLFFBQVFDLGNBSXZEeEgsT0FBT0osTUFBTXdNLGtCQUFvQixXQUNoQyxHQUFJdkosR0FBTy9DLElBQ1gsT0FBTytDLEdBQUt3QyxNQUFNekUsT0FBT2lDLEVBQUt4QztBQy9JL0IsUUFBUzJQLGVBQWNDLEdBcURuQixRQUFTQyxLQUVMLE1BREFDLElBQVMsRUFDRkEsRUFBVSxJQXJEckIsR0FBSUMsR0FBWSxTQUFTQyxHQUNyQixHQUNJQyxJQURJQyxFQUFFQyxRQUNBLEdBQUlDLGdCQUNkSCxHQUFJSSxLQUFLLE1BQU8sa0JBQWtCLEdBQ2xDSixFQUFJSyxPQUVKTCxFQUFJTSxtQkFBcUIsV0FDckIsR0FBc0IsR0FBbEJOLEVBQUlPLFlBQ2MsS0FBZFAsRUFBSVEsT0FBZSxDQUNsQixHQUFJQyxHQUFLQyxLQUFLQyxNQUFNWCxFQUFJWSxhQUN4QmIsR0FBR1UsTUFPaEIvSSxFQUFTbUosR0FBR0MsVUFDWkMsR0FBVyxFQUNYQyxJQUVKQyxrQkFBbUJoQixFQUFFQyxRQUNyQnhJLEVBQU93SixHQUFHLFlBQWEsV0FFbkJwQixFQUFVLFNBQVNxQixHQUVmekosRUFBTzBKLEtBQUssYUFBY0MsS0FBTUYsRUFBS0csV0FHN0M1SixFQUFPd0osR0FBRyxpQkFBa0IsU0FBU0ssR0FDOUJBLEVBQUlDLElBQ0hQLGlCQUFpQlEsT0FBT0YsRUFBSUMsS0FHNUJQLGlCQUFpQlMsU0FBUSxLQU1qQ1QsaUJBQWlCVSxRQUFRQyxLQUFLLFdBRTFCYixHQUFXLENBQ1gsS0FBSSxHQUFJbkosR0FBRyxFQUFFQSxFQUFHb0osRUFBTXJHLE9BQVEvQyxJQUMxQkYsRUFBTzBKLEtBQUtKLEVBQU1wSixHQUFHaUssRUFBR2IsRUFBTXBKLEdBQUc1SCxJQUl6QyxJQUFJOFIsTUFDQUMsS0FDQWxDLEVBQVUsRUFNVm1DLEVBQU0sU0FBU0MsRUFBSXBRLEVBQUc3QixHQUN0QixHQUFJa1MsR0FBSWpDLEVBQUVDLFFBQ1ZpQyxFQUFRdkMsR0FDUm1DLEdBQUlJLElBQ0FwQyxHQUFJbUMsRUFFUixJQUFJRSxJQUFLcFMsRUFBRUEsRUFXWCxPQVZBb1MsR0FBRUQsS0FBT0EsRUFDVEMsRUFBRVAsRUFBSWhRLEVBQ0ZrUCxFQUlBckosRUFBTzBKLEtBQUthLEVBQUlHLEdBSGhCcEIsRUFBTXRJLE1BQU1tSixFQUFFSSxFQUFHalMsRUFBRW9TLElBT2hCRixFQUFFUCxTQUdUVSxHQUFvQixJQUFLLElBQUssSUFpQ2xDLE9BaENBN0wsR0FBRUMsS0FBSzRMLEVBQWtCLFNBQVNDLEdBQzlCNUssRUFBT3dKLEdBQUdvQixFQUFjLFNBQVNmLEdBRTdCLEdBQUlZLEdBQU9aLEVBQUlZLElBQ1pKLEdBQUlRLGVBQWVKLEtBQ2xCSixFQUFJSSxHQUFNcEMsR0FBRzJCLFFBQVFILEVBQUlXLFNBQ2xCSCxHQUFJSSxRQU12QnpLLEVBQU93SixHQUFHLElBQUssU0FBU3NCLEdBQ3BCN0MsRUFBUyxJQUFLNkMsS0FFbEI5SyxFQUFPd0osR0FBRyxNQUFPLFNBQVNzQixHQUN0QjdDLEVBQVMsTUFBTzZDLEtBSXBCVixFQUFFVyxJQUFNLFNBQVM1USxFQUFFN0IsR0FDZixNQUFPZ1MsR0FBSSxJQUFLblEsRUFBRTdCLElBRXRCOFIsRUFBRVksS0FBTyxXQUNMLE1BQU9WLEdBQUksSUFBSSxRQUVuQkYsRUFBRWEsUUFBVSxTQUFTOVEsRUFBRTdCLEdBQ25CLE1BQU9nUyxHQUFJLElBQUtuUSxFQUFFN0IsSUFFdEI4UixFQUFFMUssT0FBUSxTQUFTd0wsR0FDZmxMLEVBQU8wSixLQUFLLElBQUl3QixJQUViZCxFQUdYcFMsT0FBT0osTUFBTStFLFlBQWMsV0FFdkIsR0FBSXdPLEdBQVNuVCxPQUFPb1QsU0FBU0QsT0FFekJuTCxFQUFTbUosR0FBR0MsUUFBUStCLEVBQzNCclQsTUFBS2tJLE9BQVNBLENBQ2QsSUFBSW5GLEdBQU8vQyxJQUVSQSxNQUFLdVQsV0FBYXJELGNBQWMsU0FBU3NELEVBQU1SLEdBQzNDLE9BQU9RLEdBQ1AsSUFBSyxNQUU4QkMsU0FBNUIxUSxFQUFLbkMsT0FBT29TLEVBQUt6TixRQUNoQnhDLEVBQUtuQyxPQUFPb1MsRUFBS3pOLE9BQU8yTixLQUFLRixFQUFLVSxTQUUxQyxNQUNBLEtBQUssSUFDRDNRLEVBQUtuQyxPQUFPb1MsRUFBS3JHLEdBQUdnSCxrQkFBa0JYLEVBQUtZLEtBT25ELElBQUlDLEtBRUo3VCxNQUFLdVQsV0FBV0osUUFBUSxPQUFPVyxTQUFRLElBQ3RDMUIsS0FBSyxTQUFTMkIsR0FFWGhSLEVBQUtpUixVQUVMLElBQUlDLEdBQWdCLEVBQ2hCQyxFQUFnQixDQUNwQmxOLEdBQUVDLEtBQUs4TSxFQUFJSSxTQUFVLFNBQVNDLEVBQVlDLEdBRXRDLEdBQUkvTSxHQUFhOE0sRUFBVzdNLElBQzVCLElBQWdELEtBQTdDc00sRUFBa0JTLFFBQVNoTixHQUE5QixDQUdJdU0sRUFBa0IzSyxLQUFLNUIsR0FDdkIyTSxHQUFnQixDQUVwQixJQUFJTSxHQUFVSCxFQUFXRyxRQUVyQkMsRUFBZUosRUFBV3RULE9BRTFCMlQsSUFFSmhQLFNBQVFDLElBQUksTUFBTTBPLEdBQ2ZBLEVBQVdkLFNBQVNvQixFQUFFQyxPQUNyQkYsRUFBV3ZMLEtBQUtuRyxFQUFLd1EsV0FBV04sSUFBSSx1QkFBd0IxTCxLQUFNNk0sRUFBV2QsU0FBU29CLEVBQUVDLE1BQU1DLEtBSWxHNU4sRUFBRUMsS0FBS3NOLEVBQVMsU0FBU00sR0FFckIsR0FBSXJVLEdBQUl1QyxFQUFLd1EsV0FBV04sSUFBSSxLQUFNNkIsR0FBR0QsSUFDcEN6QyxLQUFLLFNBQVMyQyxHQUNYLE1BQU9oUyxHQUFLd1EsV0FBV04sSUFBSSxLQUFNTyxLQUFNdUIsRUFBSUMsWUFDMUM1QyxLQUFLLFNBQVMvUCxHQUdYLE1BRkEwUyxHQUFJQyxVQUFZM1MsRUFFVDBTLEtBSWZOLEdBQVd2TCxLQUFLMUksS0FLcEJpUSxFQUFFd0UsSUFBSVIsR0FBWXJDLEtBQUssU0FBU21DLEdBRzVCeFIsRUFBS21TLGNBQ0xsTyxFQUFFQyxLQUFLc04sRUFBUSxHQUFJLFNBQVNLLEdBQ3hCN1IsRUFBS21TLFdBQVdOLEVBQUVyTixNQUFRcU4sSUFFOUJMLEVBQVFZLE9BQU8sRUFBRSxFQUdwQnBTLEdBQUtwQyxhQUFhMkcsR0FBYyxHQUFJN0csT0FBTTZNLEtBSTFDLElBQUkvSCxHQUFRLEdBQUkrSCxPQUFNdkssRUFBS3BDLGFBQWEyRyxHQUFhdkUsRUFDbER3QyxHQUFNZ0MsS0FBT0QsRUFDYi9CLEVBQU02UCxlQUFpQixXQUVuQnJTLEVBQUt3SSxZQUFZaEcsR0FDakIyTyxHQUFnQixFQUNiQSxJQUFrQkQsSUFDakJ4TyxRQUFRNFAsS0FBSyxjQUNidFMsRUFBSzBKLE9BSWhCMUosRUFBS25DLE9BQU8wRyxHQUFjL0IsRUFHdkJ5QixFQUFFQyxLQUFLdU4sRUFBYyxTQUFTYyxHQUV0QkEsRUFBSS9OLE9BQVU4TSxJQUNkdFIsRUFBS2pDLE9BQU91VCxHQUFjaUIsRUFDMUJ2UyxFQUFLaEMsV0FBV3NULEdBQWMvTSxHQUVsQy9CLEVBQU1nUSxXQUFXRCxLQUlyQnRPLEVBQUVDLEtBQUtzTixFQUFTLFNBQVNRLEdBQ3JCeFAsRUFBTWlRLFlBQVlULEVBQUtBLEVBQUl4TixVQUloQ2tPLE1BQU0sU0FBU3pELEdBQ2R2TSxRQUFRaVEsTUFBTTFELEVBQUkyRCxlQVVsQ3pWLE9BQU9KLE1BQU1rVSxTQUFXLFdBQ3ZCaFUsS0FBSzRWLGlCQUFrQixHQUFJQyxPQUFPQyxTQUNsQyxJQUFJL1MsR0FBTy9DLEtBSVArVixFQUF5QixFQUcxQi9WLE1BQUt1VCxXQUFXTCxPQUFPZCxLQUFLLFNBQVNZLEdBQ3BDLEdBQUlnRCxJQUFVLEdBQUlILE9BQU9DLFVBQ3hCRyxFQUFPRCxFQUFValQsRUFBSzZTLGVBRTFCN1MsR0FBS0ksWUFBWStGLEtBQUsrTSxFQUFLLEdBRTNCbFQsRUFBS21ULGNBQWdCbEwsS0FBS21MLE1BQU1uUCxFQUFFb1AsT0FBT3JULEVBQUtJLFlBQWEsU0FBU3lRLEVBQUV5QyxHQUFHLE1BQU96QyxHQUFFeUMsR0FBRyxHQUFHdFQsRUFBS0ksWUFBWWdJLE9BRXpHLElBQUltTCxHQUFhdEQsRUFBS3VELEdBQUt4VCxFQUFLNlMsZUFDaEM3UyxHQUFLRyxZQUFZZ0csS0FBS29OLEdBQ25CdlQsRUFBS0csWUFBWWlJLE9BQVM0SyxHQUF3QmhULEVBQUtHLFlBQVlpUyxPQUFPLEVBQUUsR0FDL0VwUyxFQUFLdVQsV0FBYXRQLEVBQUVvUCxPQUFPclQsRUFBS0csWUFBYSxTQUFTMFEsRUFBRXlDLEdBQUcsTUFBT3pDLEdBQUV5QyxHQUFHLEdBQUd0VCxFQUFLRyxZQUFZaUksT0FHM0ZwSSxFQUFLeVQsU0FBV3hQLEVBQUV5UCxJQUFJMVQsRUFBS0MsT0FFM0IwVCxXQUFXLFdBRUQzVCxFQUFLaVIsWUFDTixPQUVKeUIsTUFBTSxTQUFTekQsR0FDZHZNLFFBQVFDLElBQUlzTSxFQUFJMkQsVUFNeEJ6VixPQUFPSixNQUFNNlcsV0FBVyxTQUFTcFIsRUFBT3FDLEdBQ3ZDLEdBQUkwTixHQUFNdE8sRUFBRWhCLE1BQU00QixFQUNsQjBOLEdBQUlpQixJQUFNdlcsS0FBS3NXLFdBQ2ZoQixFQUFJOVUsRUFBSTBRLEtBQUswRixVQUFVdEIsRUFBSTlVLFNBR3BCOFUsR0FBSXVCLE9BRVg3VyxLQUFLdVQsV0FBVzNMLFFBQVErRSxFQUFFcEgsRUFBTXFPLEVBQUUwQjtBQzdSbkMsUUFBU3dCLGdCQUNSOVcsS0FBSytXLFNBQ0wvVyxLQUFLZ1gsU0FBVyxTQUFTQyxFQUFPQyxHQUUvQmxYLEtBQUsrVyxNQUFNRSxHQUFTQyxHQUVyQmxYLEtBQUtHLEtBQU8sV0FDWEgsS0FBS21YLEtBQU9DLEVBQUUsU0FBU0MsS0FDdEJuTixTQUFXLFFBQ1hvTixJQUFNLEVBQ05DLE1BQVEsRUFDUkMsTUFBUSxJQUNSQyxPQUFTLEVBQ1RDLG1CQUFtQix3QkFDakJDLFNBQVMsU0FJYjNYLEtBQUtpTixPQUFTLFdBQ2JqTixLQUFLbVgsS0FBS1MsS0FBSyxLQUFLQyxRQUVwQixLQUFJLEdBQUl6UCxLQUFLcEksTUFBSytXLE1BRWpCZSxFQUFJVixFQUFFLFNBQVNPLFNBQVMzWCxLQUFLbVgsTUFDN0IvVSxFQUFJZ1YsRUFBRSxVQUFVVyxLQUFLM1AsRUFBSSxrQkFBa0JpUCxJQUFJLGNBQWMsUUFBUU0sU0FBU0csR0FDOUVFLEVBQUlaLEVBQUUsVUFBVWEsS0FBTWpZLEtBQUsrVyxNQUFNM08sSUFBS3VQLFNBQVNHLElBS2xELEdBQUloVixJQUFLLEdBQUlnVTtBQzlCYjVXLE9BQU9KLE1BQU1vWSxrQkFBb0IsU0FBU2pZLEVBQU1rWSxHQUM1Q25ZLEtBQUsrQixrQkFBa0I5QixHQUFRa1ksR0FFbkNqWSxPQUFPSixNQUFNc1kscUJBQXVCLFNBQVNuWSxTQUNsQ0QsTUFBSytCLGtCQUFrQjlCIiwiZmlsZSI6ImNsaWVudC5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJXb3JsZCA9IChmdW5jdGlvbigpe1xuXHRmdW5jdGlvbiBDb25zKCl7XG5cdFx0dGhpcy5uYW1lID0gXCJDb25zXCI7XG5cdH1cblx0cmV0dXJuIENvbnM7XG59KSgpXG5cblxud2luZG93LldvcmxkLmluaXQgPSBmdW5jdGlvbihhdXRoX2hhc2gsIGNsaWVudF9sb2dpbil7XG5cdHRoaXMuX192cHggPSAwO1xuXHR0aGlzLmF1dGhfaGFzaCA9IGF1dGhfaGFzaDtcblx0dGhpcy5sb2dpbiA9IGNsaWVudF9sb2dpbjtcblx0XG5cbiAgICB0aGlzLnAgPSBuZXcgVEhSRUUuUHJvamVjdG9yKCk7XG5cdHRoaXMudGhyZWVfc2NlbmVzID0ge31cblx0dGhpcy5zY2VuZXMgPSB7fTtcblx0dGhpcy5mbGFyZXMgPSB7fTtcbiAgICB0aGlzLmFjdG9ycyA9IHt9O1xuICAgIHRoaXMuYWN0b3JTY2VuZSA9IHt9O1xuXG4gICAgdGhpcy5jbG9jayA9IG5ldyBUSFJFRS5DbG9jaygpO1xuXG4gICAgdmFyIHNnID0gbmV3IFRIUkVFLlNwaGVyZUdlb21ldHJ5KDUpO1xuXG4gICAgdGhpcy5jdXIgPSBuZXcgVEhSRUUuTWVzaChzZykgLy8gLCB3aXJlcyk7XG5cdHRoaXMudnBfd2lkdGggPSBkb2N1bWVudC5ib2R5LmNsaWVudFdpZHRoO1xuXHR0aGlzLnZwX2hlaWdodCA9IDQwMDsvL2RvY3VtZW50LmJvZHkuY2xpZW50SGVpZ2h0O1xuXHR0aGlzLl9tYWluX3ZpZXdwb3J0ID0gMFxuXHR0aGlzLl9hZGRpdGlvbmFsX3ZwcyA9IFtdO1xuXHR0aGlzLnNjZW5lQWN0aW9ucyA9IHt9O1xuXHR0aGlzLl9pbnB1dF9rZXltYXAgPSB7fTtcbiAgICB0aGlzLl91bmlmb3JtX3VwZGF0ZXJzID0ge307XG5cbiAgICB2YXIgaDMgPSB0aGlzLnZwX2hlaWdodC8zXG5cdHZhciB3NCA9IHRoaXMudnBfd2lkdGgvNFxuXHR2YXIgdzM0ID0gdGhpcy52cF93aWR0aC0gdzRcblx0dGhpcy5fYWRkaXRpb25hbF92cHNfZ2VvbSA9IFtcblx0XHR7bDp3MzQsIHQ6aDMqMiwgdzp3NCwgaDpoM30sXG5cdFx0e2w6dzM0LCB0OmgzLCB3Onc0LCBoOmgzfSxcblx0XHR7bDp3MzQsIHQ6MCwgdzp3NCwgaDpoM31cblx0XG5cdF1cblx0dGhpcy5fbWFpbl92cF9nZW9tID0ge2w6MCwgdDowLCB3OnRoaXMudnBfd2lkdGgsIGg6dGhpcy52cF9oZWlnaHR9O1xuXHRcblx0dGhpcy5za3lib3hTY2VuZXMgPSB7fTtcblx0dGhpcy5za3lCb3hlcyA9IHt9OyAvL1tzY2VuZS5ndWlkXSAgPSBuZXcgVEhSRUUuTWVzaCggbmV3IFRIUkVFLkN1YmVHZW9tZXRyeSggOTAwMCwgOTAwMCwgOTAwMCApLCBtYXRlcmlhbCApO1xuXHR0aGlzLnNreUJveENhbWVyYSA9IHt9Oy8vW3NjZW5lLmd1aWRdXG5cdHRoaXMubW91c2VfcHJvamVjdGlvbl92ZWMgPSBuZXcgVEhSRUUuVmVjdG9yMygpO1xuXHRTTC5pbml0KCk7XG5cdHZhciBzZWxmID0gdGhpcztcblx0c2VsZi5waW5ncyA9IFtdO1xuXHRzZWxmLnBpbmdzX2luc3RhYmlsaXR5ID0gW107XG5cdHNlbGYuX3RpbWVfZGlmZnMgPSBbXTtcbiAgICBzZWxmLmxhdGVuY2l0aWVzID0gW107XG5cdFxuXG5cdFxuICAgIFxuXHR0aGlzLnJlbmRlcmVyID0gbmV3IFRIUkVFLldlYkdMUmVuZGVyZXIoe2FudGlhbGlhczp0cnVlLCBhbHBoYTp0cnVlfSk7XG5cdHRoaXMucmVuZGVyZXIuc2V0U2l6ZSh0aGlzLnZwX3dpZHRoLCB0aGlzLnZwX2hlaWdodCk7XG5cdHRoaXMucmVuZGVyZXIuc2V0Q2xlYXJDb2xvcihuZXcgVEhSRUUuQ29sb3IoMHgwMDAwMDApKTtcblx0ZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh0aGlzLnJlbmRlcmVyLmRvbUVsZW1lbnQpO1xuXHRcblx0dGhpcy5yZW5kZXJlci5nYW1tYUlucHV0ID0gdHJ1ZTtcblx0dGhpcy5yZW5kZXJlci5nYW1tYU91dHB1dCA9IHRydWU7XG5cdHRoaXMucmVuZGVyZXIuYXV0b0NsZWFyID0gZmFsc2U7XG5cdHRoaXMucmVuZGVyZXIucGh5c2ljYWxseUJhc2VkU2hhZGluZyA9IHRydWU7XG5cdFxuXHR0aGlzLl9jYW1lcmFfcm90X3EgPSBuZXcgVEhSRUUuUXVhdGVybmlvbigpO1xuXHRcblx0XG5cdFxuXHRkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCAnbW91c2Vtb3ZlJywgZnVuY3Rpb24oZSl7XG5cdFx0c2VsZi5tb3VzZV94ID0gZS54O1xuXHRcdHNlbGYubW91c2VfeSA9IGUueTtcblx0fSwgZmFsc2UgKTtcblx0dGhpcy5yZW5kZXJlci5kb21FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCBmdW5jdGlvbihlKXtcblxuXHRcdHNlbGYuSW5wdXRzLmlucHV0KCAnbG1vdXNlJywgZmFsc2UpXG5cdH0pXG5cdFxuXHR0aGlzLnJlbmRlcmVyLmRvbUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgZnVuY3Rpb24oZSl7XG5cblx0XHRzZWxmLklucHV0cy5pbnB1dCggJ2xtb3VzZScsIHRydWUpXG5cdH0pXG5cdGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBmdW5jdGlvbihlKXtcblx0XHR2YXIgY29kZSA9IGUua2V5Q29kZTtcblxuXHRcdHNlbGYuSW5wdXRzLmlucHV0KCBjb2RlLCB0cnVlKVxuXHRcdFxuXG5cdFx0XG5cdH0sIGZhbHNlKVxuXHRkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXl1cCcsIGZ1bmN0aW9uKGUpe1xuXHRcdHZhciBjb2RlID0gZS5rZXlDb2RlO1xuXHRcdHNlbGYuSW5wdXRzLmlucHV0KGNvZGUsIGZhbHNlKVxuXG5cdFx0XG5cdH0sIGZhbHNlKVxuXHRzZWxmLmluaXRfc29ja2V0KClcblx0cmV0dXJuIHNlbGY7XG5cdFxufVxuXG5cbndpbmRvdy5Xb3JsZC5zZXRfYWN0aW9ucyA9IGZ1bmN0aW9uKCl7XG5cdHNlbGYuYWN0aW9ucyA9IHNlbGYuX2RlZmF1bHRfYWN0aW9uc1xufVxuIiwid2luZG93LldvcmxkLnJlbmRlciA9IGZ1bmN0aW9uKHZwLGdlb20pe1xuXHR0aGlzLnJlZHJhd1N1bih2cClcblx0Ly8gY29uc29sZS5sb2codnApXG5cdHRoaXMucmVuZGVyZXIuc2V0Vmlld3BvcnQoZ2VvbS5sLCBnZW9tLnQsIGdlb20udywgZ2VvbS5oKVxuXHQvL2NvbnNvbGUubG9nKFwiQkxCTEJcIix0aGlzLnRocmVlX3NjZW5lcyx2cC5zY2VuZSk7XG5cdHRoaXMucmVkcmF3U2t5KHZwKVxuXHRpZih0aGlzLnNjZW5lc1t2cC5zY2VuZV0uX2FjdGlvbl9vbl90aGVfcnVuX3Zhcil7XG5cdFx0Y29uc29sZS5sb2coJ3JlbmRlciBNJyk7XG5cdH1cbiAgICB0aGlzLl9jdXJfY2FtID0gdnAudGhyZWVfY2FtZXJhO1xuXHQvL3RoaXMuMjc2XG5cdC8vIGVyLjI3NlxuXHQvLyAoIHRoaXMudGhyZWVfc2NlbmVzW3ZwLnNjZW5lXSwgdnAudGhyZWVfY2FtZXJhICk7XG5cblxuXHRcbiAgICB0aGlzLnJlbmRlcmVyLnJlbmRlcih0aGlzLnRocmVlX3NjZW5lc1t2cC5zY2VuZV0sIHZwLnRocmVlX2NhbWVyYSk7XG5cdFxuXHRcbn1cblxud2luZG93LldvcmxkLnJlZHJhd1NreSA9IGZ1bmN0aW9uKHZwKXtcblxuXG4gICAgdmFyIG1wID0gdnAudGhyZWVfY2FtZXJhLnBhcmVudC5tYXRyaXguY2xvbmUoKVxuXHR2YXIgbSA9IHZwLnRocmVlX2NhbWVyYS5tYXRyaXguY2xvbmUoKVxuXHRtcC5tdWx0aXBseShtKVxuXHR2YXIgbXIgPSBuZXcgVEhSRUUuTWF0cml4NCgpLmV4dHJhY3RSb3RhdGlvbihtcClcblx0dmFyIHJvdCA9IG5ldyBUSFJFRS5FdWxlcigpLnNldEZyb21Sb3RhdGlvbk1hdHJpeChtcilcblx0XG5cdC8vIGNvbnNvbGUubG9nKHZwLnRocmVlX2NhbWVyYSlcblx0dGhpcy5za3lCb3hDYW1lcmFbdnAuc2NlbmVdLnJvdGF0aW9uLmNvcHkoIHJvdCApO1xuXG5cblx0Ly90aGlzLnJlbmRlcmVyLnNldFZpZXdwb3J0KHZwLmdlb20ubCwgdnAuZ2VvbS50LCB2cC5nZW9tLncsIHZwLmdlb20uaCk7XG5cblxuICAgIHRoaXMucmVuZGVyZXIucmVuZGVyKCB0aGlzLnNreWJveFNjZW5lc1t2cC5zY2VuZV0sIHRoaXMuc2t5Qm94Q2FtZXJhW3ZwLnNjZW5lXSApO1xuXHQvLyByZW5kZXJlci5yZW5kZXIoIHNjZW5lLCBjYW1lcmEgKTtcblx0Ly8gY29uc29sZS5sb2codGhpcy5za3lCb3gucG9zaXRpb24pXG5cdFxufVxuXG53aW5kb3cuV29ybGQuZ2V0X21haW5fdmlld3BvcnQgPSBmdW5jdGlvbigpe1xuXHQvL2NvbnNvbGUubG9nKHRoaXMuX21haW5fdmlld3BvcnQpO1xuXHRyZXR1cm4gdGhpcy5fdmlld3BvcnRzW3RoaXMuX21haW5fdmlld3BvcnRdO1xufVxud2luZG93LldvcmxkLl9pbml0X3ZwcyA9IGZ1bmN0aW9uKCl7XG5cdHZhciBtdnAgPSB0aGlzLl92aWV3cG9ydHNbdGhpcy5fbWFpbl92aWV3cG9ydF07XG5cdHZhciBzZWxmID0gdGhpcztcblx0Ly8gY29uc29sZS5sb2cobXZwKTtcblx0bXZwLmdlb20gPSB7dDowLCBsOjAsIHc6dGhpcy52cF93aWR0aCwgaDp0aGlzLnZwX2hlaWdodH07XG5cdG12cC50aHJlZV9jYW1lcmEgPSB0aGlzLm1ha2VDYW1lcmEobXZwKVxuXHRfLmVhY2gobXZwLlVJUywgZnVuY3Rpb24odWkpe1xuXHRcdHVpLmNvbnN0cnVjdCgpO1xuXHR9KVxuXHQvLyB0aGlzLlxuXHRfLmVhY2gobXZwLmFjdG9ycywgZnVuY3Rpb24oYWN0b3Ipe1xuXHRcdC8vIGdldCBhY3Rpb25zIGZvciB0aGlzIGFjdG9yXG5cdFx0Ly8gY29uc29sZS5sb2coc2VsZi5zY2VuZUFjdGlvbnMpO1xuICAgICAgICB2YXIgc2NlbmVfZ3VpZCA9IHNlbGYuYWN0b3JTY2VuZVthY3Rvci5HVUlEXTtcblx0XHR2YXIgdG90YWxfYWN0aW9ucyA9IHNlbGYuc2NlbmVBY3Rpb25zW3NjZW5lX2d1aWRdW2FjdG9yLmNvbnRyb2wub2JqZWN0X2d1aWRdW2FjdG9yLmNvbnRyb2wud29ya3BvaW50XTtcblx0XHRfLmVhY2godG90YWxfYWN0aW9ucywgZnVuY3Rpb24oYWN0aW9uKXtcblx0XHRcdGlmKGFjdGlvbi5kZWZhdWx0X2tleSl7XG5cdFx0XHRcdHNlbGYuX2lucHV0X2tleW1hcFthY3Rpb24uZGVmYXVsdF9rZXldID0gYWN0aW9uO1xuXHRcdFx0fVxuXHRcdH0pXG5cdFx0Ly8gY29uc29sZS5sb2codG90YWxfYWN0aW9ucyk7XG5cdH0pXG5cdFxuXHR0aGlzLnRocmVlX3NjZW5lc1ttdnAuc2NlbmVdLmFkZCh0aGlzLmN1cik7XG5cdHRoaXMuaW5pdFNwYWNlKG12cCk7XG5cdFxuXHRcblx0dmFyIHNlbGYgPSB0aGlzO1xuXHRzZWxmLklucHV0cyA9IG5ldyBDb250cm9sbGVyLkxvY2FsSW5wdXRBY3RvcihzZWxmLCBzZWxmLnNvY2tldClcblx0Ly8gc2VsZi5fY29udHJhbGxhYmxlID0gc2VsZi5jb250cm9sbGFibGUoKTtcblx0XG5cdF8uZWFjaCh0aGlzLl9hZGRpdGlvbmFsX3ZwcywgZnVuY3Rpb24odnBfbmFtZSxpKXtcblx0XHR2YXIgdnAgPSBzZWxmLl92aWV3cG9ydHNbdnBfbmFtZV07XG5cdFx0dnAuZ2VvbSA9IHNlbGYuX2FkZGl0aW9uYWxfdnBzX2dlb21baV1cblx0XHR2cC50aHJlZV9jYW1lcmEgPSBzZWxmLm1ha2VDYW1lcmEodnApXG5cdFx0c2VsZi5pbml0U3BhY2UodnApO1xuXHRcdFxuXHRcdFxuXHR9KVxuXHRcbn1cblxud2luZG93LldvcmxkLnNldHVwQ2FtZXJhcyA9IGZ1bmN0aW9uKCl7XG5cdHZhciBzZWxmID0gdGhpcztcblx0Ly8g0KHQvdCw0YfQsNC70LAg0YHQvtGB0YLQsNCy0LjQvCDRgdC/0LjRgdC+0Log0YPQvdC40LrQsNC70YzQvdGL0YUg0LLRjNGO0L/QvtGA0YLQvtCyIC0g0YHRhtC10L3QsC3QvtCx0YrQtdC60YIt0LrQsNC80LXRgNCwXG5cdHNlbGYuX3ZpZXdwb3J0cyA9IHt9XG5cdHNlbGYuX3ZpZXdwb3J0X2Ftb3VudCA9IDA7XG5cdHZhciBpc19maXJzdCA9IHRydWU7XG5cdC8vIHZhciBjbWFwID0gQ29udHJvbGxlci5Db250cm9sbGVyc0FjdGlvbk1hcCgpO1xuXHRjb25zb2xlLmxvZyhcInNldHRpbmcgdXAgY2FtZXJhcyB3aXRoXCIsIHNlbGYuYWN0b3JzKTtcblx0Xy5lYWNoKHNlbGYuYWN0b3JzLCBmdW5jdGlvbihhY3Rvcil7XG5cdFx0Ly9jb25zb2xlLmxvZyhhY3Rvcilcblx0XHR2YXIgd3AgPSBhY3Rvci5jb250cm9sLndvcmtwb2ludDtcbiAgICAgICAgdmFyIHNjZW5lX2d1aWQgPSBzZWxmLmFjdG9yU2NlbmVbYWN0b3IuR1VJRF07XG5cdFx0Y29uc29sZS5sb2coXCJzY2VuZXNcIiwgc2VsZi5zY2VuZXMsIHNjZW5lX2d1aWQpO1xuXHRcdHZhciB2aWV3cyA9IHNlbGYuc2NlbmVzW3NjZW5lX2d1aWRdLmdldF9vYmplY3QoYWN0b3IuY29udHJvbC5vYmplY3RfZ3VpZCkud29ya3BvaW50c1t3cF0udmlld3Ncblx0XHR2YXIgbWVzaCA9IHNlbGYuc2NlbmVzW3NjZW5lX2d1aWRdLm1lc2hlc1thY3Rvci5jb250cm9sLm9iamVjdF9ndWlkXTtcblx0XHR2YXIgdWlzID0gbWVzaC5nZXRVSUZvcldQKHdwKTtcblx0XHRcblx0XHRfLmVhY2godmlld3MsIGZ1bmN0aW9uKHZpZXcpe1xuXHRcdFx0dmFyIHZwX2hhc2ggPSBzY2VuZV9ndWlkICsgYWN0b3IuY29udHJvbC5vYmplY3RfZ3VpZCArIHZpZXc7XG5cdFx0XHRpZiAoaXNfZmlyc3Qpe1xuXHRcdFx0XHRzZWxmLl9tYWluX3ZpZXdwb3J0ID0gdnBfaGFzaDtcblx0XHRcdH1cblx0XHRcdC8vIGNvbnNvbGUubG9nKFwiIHNob3cgbWUgXCIsIGFjdG9yKTtcblx0XHRcdGlmKCEodnBfaGFzaCBpbiBzZWxmLl92aWV3cG9ydHMpKXtcblx0XHRcdFx0dmFyIHZwID0ge3NjZW5lOnNjZW5lX2d1aWQsIG9iamVjdDphY3Rvci5jb250cm9sLm9iamVjdF9ndWlkLCBjYW1lcmE6IHZpZXcsIGFjdG9yczpbYWN0b3JdLCBVSVM6dWlzfVxuXHRcdFx0XHRzZWxmLl92aWV3cG9ydHNbdnBfaGFzaF0gPSB2cFxuXHRcdFx0XHRzZWxmLl92aWV3cG9ydF9hbW91bnQgKz0xO1xuXHRcdFx0fWVsc2V7XG5cdFx0XHRcdHNlbGYuX3ZpZXdwb3J0c1t2cF9oYXNoXS5hY3RvcnMucHVzaChhY3Rvcik7XG5cdFx0XHRcdHZhciBVID0gc2VsZi5fdmlld3BvcnRzW3ZwX2hhc2hdLlVJUztcbiAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyggVSwgVS5jb25jYXQodWlzKSwgdWlzICkgO1xuXHRcdFx0XHRzZWxmLl92aWV3cG9ydHNbdnBfaGFzaF0uVUlTID0gVS5jb25jYXQodWlzKTtcblx0XHRcdFx0XG5cdFx0XHR9XG5cdFx0fSlcblx0fSlcblx0Ly8gc2VsZi5fbWFpbl92aWV3cG9ydCA9IDA7XG5cdC8vIGNvbnNvbGUubG9nKFwiVlBcIixzZWxmLl92aWV3cG9ydHNbc2VsZi5fbWFpbl92aWV3cG9ydF0pO1xuXHQvL3NlbGYuX3ZpZXdwb3J0c1tzZWxmLl9tYWluX3ZpZXdwb3J0XVxuXHRzZWxmLl9pbml0X3ZwcygpO1xuXHR2YXIgc2VsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3ZpZXdwb3J0cy1zZWxlY3QnKTtcblx0c2VsLmlubmVySHRtbCA9IFwiXCI7XG5cdF8uZWFjaChzZWxmLl92aWV3cG9ydHMsIGZ1bmN0aW9uKHZwLGspe1xuXHRcdHZhciBvcHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdvcHRpb24nKVxuXHRcdG9wdC52YWx1ZSA9IGs7XG5cdFx0b3B0LmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKHZwLmNhbWVyYSkpXG5cdFx0c2VsLmFwcGVuZENoaWxkKG9wdClcblx0fSlcblx0XG5cdFxufVxuXG5cblxud2luZG93LldvcmxkLnJlZHJhd1N1biA9IGZ1bmN0aW9uKHZwKXtcblx0dmFyIG0gPSB0aGlzLnNjZW5lc1t2cC5zY2VuZV0ubWVzaGVzW3ZwLm9iamVjdF1cblx0XG5cdHZhciBzZCA9IG5ldyBUSFJFRS5WZWN0b3IzKCkuZnJvbUFycmF5KFswLDEsMF0pLm11bHRpcGx5U2NhbGFyKDEwKTsgXG5cdC8vY29uc29sZS5sb2coc2QsIHRoaXMuc2NlbmVzW3ZwLnNjZW5lXS5fc2NlbmUuc3VuRGlyZWN0aW9uKTtcblx0XG5cdHRoaXMuZmxhcmVzW3ZwLnNjZW5lXS5wb3NpdGlvbiA9IG0ucG9zaXRpb24uY2xvbmUoKS5hZGQoc2QpXG5cdC8vIGNvbnNvbGUubG9nKHRoaXMuZmxhcmVzW3ZwLnNjZW5lXS5wb3NpdGlvbilcbn1cblxud2luZG93LldvcmxkLm1ha2VDYW1lcmEgPSBmdW5jdGlvbih2cCApe1xuXHR2YXIgc2VsZiA9IHRoaXM7XG5cdC8vdmFyIGFjdG9yID0gc2VsZi5nZXRfY3VycmVudF9hY3RvcigpXG5cdFxuXHQvLyBjb25zb2xlLmxvZyhcIlNFVCBDQU1FUkFcIik7XG5cdC8vIHZhciBjb250cm9sbGFibGUgPSBzZWxmLmNvbnRyb2xsYWJsZSgpXG5cdC8vIHZhciB3cCAgXHRcdCA9IGFjdG9yLmNvbnRyb2wud29ya3BvaW50c1xuXHQvLyB2YXIgdnAgICAgICAgIFx0ID0gYWN0b3IuY29udHJvbC52aWV3cG9ydDtcblx0XG5cdHZhciBzY2VuZSA9IHZwLnNjZW5lXG5cdHZhciBvYmplY3RfaWQgPSB2cC5vYmplY3Rcblx0dmFyIHBvcnQgPSB2cC5jYW1lcmFcblx0dmFyIG1lc2ggPSBzZWxmLnNjZW5lc1tzY2VuZV0ubWVzaGVzW29iamVjdF9pZF1cblx0dmFyIG9iamVjdCA9IHNlbGYuc2NlbmVzW3NjZW5lXS5nZXRfb2JqZWN0KG9iamVjdF9pZClcblx0XG5cdHZhciBjYW1lcmEgPSBuZXcgVEhSRUUuUGVyc3BlY3RpdmVDYW1lcmEoNDUsIHZwLmdlb20udyAvIHZwLmdlb20uaCwgMSwgMTAwMCk7XG5cdFxuXHR2YXIgdnBfcG9zICAgIFx0ID0gbmV3IFRIUkVFLlZlY3RvcjMoKTtcblx0dmFyIHZwX3JvdCAgXHQgPSBuZXcgVEhSRUUuVmVjdG9yMygpO1xuXHQvLyBjb25zb2xlLmxvZyhvYmplY3QsIGNhbWVyYSk7XG5cdHZwX3Bvcy5zZXQuYXBwbHkodnBfcG9zLCBvYmplY3QuY2FtZXJhc1twb3J0XS5wb3NpdGlvbilcblx0dnBfcm90LnNldC5hcHBseSh2cF9yb3QsIG9iamVjdC5jYW1lcmFzW3BvcnRdLmRpcmVjdGlvbilcblx0XG5cdHZhciBjYW1fYmFzZSA9IG5ldyBUSFJFRS5WZWN0b3IzKDAsMCwtMSk7XG5cdHZhciBheGlzID0gbmV3IFRIUkVFLlZlY3RvcjMoKVxuXHRheGlzLmNyb3NzVmVjdG9ycyhjYW1fYmFzZSwgdnBfcm90KVxuXHR2YXIgYWcgPSBNYXRoLmFjb3MoY2FtX2Jhc2UuZG90KHZwX3JvdCkvIGNhbV9iYXNlLmxlbmd0aCgpIC8gdnBfcm90Lmxlbmd0aCgpKVxuXHQgLy9jb25zb2xlLmxvZyhheGlzLmxlbmd0aCgpID09PSAwICYmIGNhbV9iYXNlLmVxdWFscyggdnBfcm90ICkgKVxuXHRpZihheGlzLmxlbmd0aCgpID09PSAwICYmICFjYW1fYmFzZS5lcXVhbHMoIHZwX3JvdCApICl7XG5cdFx0YXhpcyA9IG5ldyBUSFJFRS5WZWN0b3IzKDAsMSwwKVxuXHRcdGFnID0gTWF0aC5QSTtcblx0XHRcblx0fVxuXHQvL2NvbnNvbGUubG9nKGF4aXMsYWcsIHZwX3JvdCk7XG5cdC8vY29uc29sZS5sb2codnBfcm90KVxuXHRjYW1lcmEucm90YXRlT25BeGlzKGF4aXMsIGFnKVxuXHRcblx0Y2FtZXJhLnBvc2l0aW9uID0gdnBfcG9zOyAvLyBjb250cm9sbGFibGUucG9zaXRpb24uY2xvbmUoKS5hZGQodnBfcG9zKVxuXHRtZXNoLmFkZChjYW1lcmEpXG5cdHJldHVybiBjYW1lcmFcblx0XG5cdFxufVxuXG53aW5kb3cuV29ybGQuc2V0dXBfc2NlbmUgPSBmdW5jdGlvbihzY2VuZSl7XG5cdG1hdGVyaWFsID0gbmV3IFRIUkVFLk1lc2hCYXNpY01hdGVyaWFsKHtcblx0ICAgY29sb3I6IDB4ZmYwMDAwLFxuXHQgICB3aXJlZnJhbWU6IHRydWVcblx0fSk7XG5cblx0Ly8gY29uc29sZS5sb2coc2NlbmUuX3NjZW5lKVxuXHRcblx0dmFyIHN1bkRpcmVjdGlvbiA9IG5ldyBUSFJFRS5WZWN0b3IzKCkuZnJvbUFycmF5KFswLDEsMF0pIDtcblx0Ly90aGlzLnN1bkxpZ2h0Q29sb3IgPSBbMC4xLCAwLjcsIDAuNV07XG5cdFxuXHR2YXIgYW1iaWVudExpZ2h0ID0gbmV3IFRIUkVFLkFtYmllbnRMaWdodCgweDAxMDEwMSk7XG5cdHRoaXMudGhyZWVfc2NlbmVzW3NjZW5lLkdVSURdLmFkZChhbWJpZW50TGlnaHQpO1xuXG5cdHZhciBsaWdodCA9IG5ldyBUSFJFRS5EaXJlY3Rpb25hbExpZ2h0KCAweEZGRkZlZSwgMSApO1xuXHQvLyBjb25zb2xlLmxvZyhcIkNPTE9SXCIsc2NlbmUuX3NjZW5lLnN1bkxpZ2h0Q29sb3IpO1xuXHRsaWdodC5jb2xvci5zZXRIU0wuYXBwbHkobGlnaHQuY29sb3IsIFtNYXRoLnJhbmRvbSgpLCAwLjgsIDAuOV0gKTtcblx0bGlnaHQucG9zaXRpb24gPSBzdW5EaXJlY3Rpb25cblxuXHR0aGlzLnRocmVlX3NjZW5lc1tzY2VuZS5HVUlEXS5hZGQoIGxpZ2h0ICk7XG5cdHRoaXMuaW5pdFN1bihzY2VuZSlcblx0XG5cdHRoaXMuc2NlbmVBY3Rpb25zW3NjZW5lLkdVSURdID0gc2NlbmUuZ2V0QWN0aW9ucygpOyAvLyDQl9C00LXRgdGMINCx0YPQtNGD0YIg0LLRgdC1INCw0LrRhtC40Lgg0L/QviDQstGB0LXQvCDRgdGG0LXQvdCw0Lxcblx0Ly8g0JPQtNC1LdGC0L4g0LfQtNC10YHRjCDQvNC+0LbQvdC+INC/0YDQuNCy0Y/Qt9Cw0YLRjCDQutC+0L3RgtGA0L7Qu9C70Ytcblx0XG59XG5cblxud2luZG93LldvcmxkLmJpbmRDYW1lcmEgPSBmdW5jdGlvbigpe1xuXHRcblx0dmFyIHNlbGYgPSB0aGlzO1xuXHQvLyBjb25zb2xlLmxvZyhzZWxmLmFjdG9ycyk7XG5cdHZhciBhY3RvciBcdFx0ID0gc2VsZi5nZXRfY3VycmVudF9hY3RvcigpO1xuXHQvL2NvbnNvbGUubG9nKGFjdG9yLmNvbnRyb2wpO1xuXHR2YXIgY29udHJvbGxhYmxlID0gc2VsZi5tZXNoZXMoKVsgYWN0b3IuY29udHJvbC5vYmplY3RfZ3VpZCBdO1xuXHRjb250cm9sbGFibGUuYWRkKCBzZWxmLmNhbWVyYSApXG5cdHNlbGYuc2V0Q2FtZXJhKCk7XG5cdFxufVxuXG5cbndpbmRvdy5Xb3JsZC5nbyA9IGZ1bmN0aW9uKCl7XG5cdHZhciBzZWxmID0gdGhpcztcblx0dmFyIGxhc3RfdGltZXN0YW1wID0gZmFsc2U7XG5cdHZhciBmaXJzdF9sb29wID0gdHJ1ZTtcblx0dmFyIHRpbWVfaW5jID0gMFxuXHQvLyBzZWxmLm1vdXNlX3Byb2plY3Rpb25fdmVjID0gbmV3IFRIUkVFLlZlY3RvcjMoKTtcblx0Ly8gdmFyIF8zZF9zY2VuZSA9IHNlbGYuc2V0dXBfc2NlbmUoc2VsZi5zY2VuZS5fM3NjZW5lKVxuXHR2YXIgX2QgPSBmYWxzZVxuXHRzZWxmLnNldHVwQ2FtZXJhcygpO1xuXHRcblx0XG5cdFxuXHQvLyB2YXIgX3RpbWVfaW50ZXJ2ID0gXG5cdFxuXHR2YXIgbWFrZVRpY2tzID0gZnVuY3Rpb24oKXtcblx0XHRfLmVhY2goc2VsZi5zY2VuZXMsIGZ1bmN0aW9uKHMsIGcpe1xuXHRcdFx0cy50aWNrKClcblx0XHR9KVxuXHR9XG5cdFxuXHRcbiAgICB2YXIgYW5pbWF0ZSA9IGZ1bmN0aW9uKCl7XG4gICAgICAgIG1ha2VUaWNrcygpO1xuXG4gICAgICAgIHZhciBtdnAgPSBzZWxmLmdldF9tYWluX3ZpZXdwb3J0KCk7XG4gICAgICAgIHZhciBnZW9tID0gc2VsZi5fbWFpbl92cF9nZW9tXG5cbiAgICAgICAgXy5lYWNoKHNlbGYuX3VuaWZvcm1fdXBkYXRlcnMsIGZ1bmN0aW9uKGYsIG5hbWUpe1xuICAgICAgICAgICAgZigpO1xuICAgICAgICB9KVxuICAgICAgICBzZWxmLm1vdXNlX3Byb2plY3Rpb25fdmVjLnNldCggKCBzZWxmLm1vdXNlX3gvIGdlb20udyApICogMiAtIDEsIC0gKCBzZWxmLm1vdXNlX3kgLyBnZW9tLmggKSAqIDIgKyAxLCAwLjk5ICk7XG4gICAgICAgIFxuICAgICAgICBzZWxmLnJlbmRlcihtdnAsIGdlb20pO1xuICAgICAgICBfLmVhY2gobXZwLlVJUywgZnVuY3Rpb24odWkpe1xuICAgICAgICBcdHVpLnJlZnJlc2goKTtcbiAgICAgICAgfSlcbiAgICAgICAgXG4gICAgICAgIHNlbGYucC51bnByb2plY3RWZWN0b3IoIHNlbGYubW91c2VfcHJvamVjdGlvbl92ZWMsIG12cC50aHJlZV9jYW1lcmEgKTtcblxuICAgICAgICBzZWxmLmN1ci5wb3NpdGlvbi5jb3B5KCBzZWxmLm1vdXNlX3Byb2plY3Rpb25fdmVjICk7XG4gICAgICAgIC8vY29uc29sZS5sb2coc2VsZi5tb3VzZV9wcm9qZWN0aW9uX3ZlYyk7XG5cblxuICAgICAgICBfLmVhY2goc2VsZi5fYWRkaXRpb25hbF92cHMsIGZ1bmN0aW9uKHZwX25hbWUsIGkpe1xuICAgICAgICAgICAgdmFyIHZwID0gc2VsZi5fdmlld3BvcnRzW3ZwX25hbWVdO1xuICAgICAgICAgICAgc2VsZi5yZW5kZXIodnAsIHNlbGYuX2FkZGl0aW9uYWxfdnBzX2dlb21baV0pXG4gICAgICAgIH0pXG4gICAgICAgIC8vfVxuICAgICAgICAgICAgXG5cdFx0U0wucmVkcmF3KCk7XG4gICAgXG5cdFx0cmVxdWVzdEFuaW1hdGlvbkZyYW1lKGFuaW1hdGUpXG4gICAgXHRcbiAgICB9XG5cdHJlcXVlc3RBbmltYXRpb25GcmFtZShhbmltYXRlKTtcblx0XG59IiwiXG53aW5kb3cuV29ybGQubG9hZF9zY2VuZSA9IGZ1bmN0aW9uIChzY2VuZV9qcywgb25sb2FkKXtcblx0Ly8gY29uc29sZS5sb2coJ3dlbGwtd2VsbCcsIHNjZW5lLl9zY2VuZSk7XG5cdFxuXHQvLyB0aGlzLnNjZW5lcyA9IHt9XG5cdFxuXHR2YXIgc2NlbmUgPSBuZXcgU2NlbmUoKVxuXHRcblx0c2NlbmUuc2V0X2Zyb21fanNvbihzY2VuZV9qcylcblx0XG5cdFxuXHR0aGlzLnNjZW5lc1tzY2VuZS5HVUlEXSA9IHNjZW5lO1xuXHR0aGlzLnRocmVlX3NjZW5lc1tzY2VuZS5HVUlEXSA9IG5ldyBUSFJFRS5TY2VuZSgpO1xuXHQvLyBjb25zb2xlLmxvZyhcIldXV1wiLCBvbmxvYWQpO1xuXHRzY2VuZS5sb2FkKG9ubG9hZCwgdGhpcy50aHJlZV9zY2VuZXNbc2NlbmUuR1VJRF0sIHRoaXMgKVxuXHRcblx0Ly8gXG5cdC8vY29uc29sZS5sb2coXCJsb2FkaW5nIHRoaXMgc2NlbmVcIiwgc2NlbmUuR1VJRCk7XG5cbn1cblxud2luZG93LldvcmxkLmluaXRTdW4gPSBmdW5jdGlvbihzY2VuZSl7XG5cdFxuXHR2YXIgZmxhcmVDb2xvciA9IG5ldyBUSFJFRS5Db2xvciggMHhmZmZmZmYgKTtcblx0dmFyIHNsID0gXy5jbG9uZShbTWF0aC5yYW5kb20oKSwgMC44LCAwLjldKTtcblx0c2xbMl0gKz0gMC41XG5cdGZsYXJlQ29sb3Iuc2V0SFNMLmFwcGx5KGZsYXJlQ29sb3IsIHNsKTtcblx0XG5cdHZhciB0ZXh0dXJlRmxhcmUwID0gVEhSRUUuSW1hZ2VVdGlscy5sb2FkVGV4dHVyZSggXCIvdGV4dHVyZXMvbGVuc2ZsYXJlL2xlbnNmbGFyZTAucG5nXCIgKTtcblx0dmFyIHRleHR1cmVGbGFyZTIgPSBUSFJFRS5JbWFnZVV0aWxzLmxvYWRUZXh0dXJlKCBcIi90ZXh0dXJlcy9sZW5zZmxhcmUvbGVuc2ZsYXJlMi5wbmdcIiApO1xuXHR2YXIgdGV4dHVyZUZsYXJlMyA9IFRIUkVFLkltYWdlVXRpbHMubG9hZFRleHR1cmUoIFwiL3RleHR1cmVzL2xlbnNmbGFyZS9sZW5zZmxhcmUzLnBuZ1wiICk7XG5cdFxuXHR2YXIgbGVuc0ZsYXJlID0gbmV3IFRIUkVFLkxlbnNGbGFyZSggdGV4dHVyZUZsYXJlMCwgNzAwLCAwLjAsIFRIUkVFLkFkZGl0aXZlQmxlbmRpbmcsIGZsYXJlQ29sb3IgKTtcblxuXHRsZW5zRmxhcmUuYWRkKCB0ZXh0dXJlRmxhcmUyLCA1MTIsIDAuMCwgVEhSRUUuQWRkaXRpdmVCbGVuZGluZyApO1xuXHRsZW5zRmxhcmUuYWRkKCB0ZXh0dXJlRmxhcmUyLCA1MTIsIDAuMCwgVEhSRUUuQWRkaXRpdmVCbGVuZGluZyApO1xuXHRsZW5zRmxhcmUuYWRkKCB0ZXh0dXJlRmxhcmUyLCA1MTIsIDAuMCwgVEhSRUUuQWRkaXRpdmVCbGVuZGluZyApO1xuXG5cdGxlbnNGbGFyZS5hZGQoIHRleHR1cmVGbGFyZTMsIDYwLCAwLjYsIFRIUkVFLkFkZGl0aXZlQmxlbmRpbmcgKTtcblx0bGVuc0ZsYXJlLmFkZCggdGV4dHVyZUZsYXJlMywgNzAsIDAuNywgVEhSRUUuQWRkaXRpdmVCbGVuZGluZyApO1xuXHRsZW5zRmxhcmUuYWRkKCB0ZXh0dXJlRmxhcmUzLCAxMjAsIDAuOSwgVEhSRUUuQWRkaXRpdmVCbGVuZGluZyApO1xuXHRsZW5zRmxhcmUuYWRkKCB0ZXh0dXJlRmxhcmUzLCA3MCwgMS4wLCBUSFJFRS5BZGRpdGl2ZUJsZW5kaW5nICk7XG5cdHZhciBsZW5zRmxhcmVVcGRhdGVDYWxsYmFjayA9IGZ1bmN0aW9uICggb2JqZWN0ICkge1xuXG5cdFx0dmFyIGYsIGZsID0gb2JqZWN0LmxlbnNGbGFyZXMubGVuZ3RoO1xuXHRcdHZhciBmbGFyZTtcblx0XHR2YXIgdmVjWCA9IC1vYmplY3QucG9zaXRpb25TY3JlZW4ueCAqIDI7XG5cdFx0dmFyIHZlY1kgPSAtb2JqZWN0LnBvc2l0aW9uU2NyZWVuLnkgKiAyO1xuXG5cblx0XHRmb3IoIGYgPSAwOyBmIDwgZmw7IGYrKyApIHtcblxuXHRcdFx0ICAgZmxhcmUgPSBvYmplY3QubGVuc0ZsYXJlc1sgZiBdO1xuXG5cdFx0XHQgICBmbGFyZS54ID0gb2JqZWN0LnBvc2l0aW9uU2NyZWVuLnggKyB2ZWNYICogZmxhcmUuZGlzdGFuY2U7XG5cdFx0XHQgICBmbGFyZS55ID0gb2JqZWN0LnBvc2l0aW9uU2NyZWVuLnkgKyB2ZWNZICogZmxhcmUuZGlzdGFuY2U7XG5cblx0XHRcdCAgIGZsYXJlLnJvdGF0aW9uID0gMDtcblxuXHRcdH1cblxuXHRcdG9iamVjdC5sZW5zRmxhcmVzWyAyIF0ueSArPSAwLjAyNTtcblx0XHRvYmplY3QubGVuc0ZsYXJlc1sgMyBdLnJvdGF0aW9uID0gb2JqZWN0LnBvc2l0aW9uU2NyZWVuLnggKiAwLjUgKyBUSFJFRS5NYXRoLmRlZ1RvUmFkKCA0NSApO1xuXG5cdH1cblx0bGVuc0ZsYXJlLmN1c3RvbVVwZGF0ZUNhbGxiYWNrID0gbGVuc0ZsYXJlVXBkYXRlQ2FsbGJhY2s7XG5cdGxlbnNGbGFyZS5wb3NpdGlvbiA9IG5ldyBUSFJFRS5WZWN0b3IzKCkuZnJvbUFycmF5KFswLDEsMF0pLm11bHRpcGx5U2NhbGFyKDUwMClcblx0XG5cdFxuXHQvLyB0aGlzLnN1bkJpbGxib2FyZCA9IG5ldyBUSFJFRS5TcHJpdGUodGV4dHVyZUZsYXJlMCApXG5cdHRoaXMudGhyZWVfc2NlbmVzW3NjZW5lLkdVSURdLmFkZChsZW5zRmxhcmUpXG5cdHRoaXMuZmxhcmVzW3NjZW5lLkdVSURdID0gbGVuc0ZsYXJlO1xufVxud2luZG93LldvcmxkLmluaXRTcGFjZSAgPSBmdW5jdGlvbih2cCl7XG5cblx0dmFyIHBhdGggPSBcIi90ZXh0dXJlcy9zcGFjZS9tMDFfY3ViZVwiO1xuXHR2YXIgZm9ybWF0ID0gJ3BuZyc7XG5cdHZhciB1cmxzID0gW1xuXHRcdHBhdGggKyAnLnB4LicgKyBmb3JtYXQsIHBhdGggKyAnLm54LicgKyBmb3JtYXQsXG5cdFx0cGF0aCArICcucHkuJyArIGZvcm1hdCwgcGF0aCArICcubnkuJyArIGZvcm1hdCxcblx0XHRwYXRoICsgJy5wei4nICsgZm9ybWF0LCBwYXRoICsgJy5uei4nICsgZm9ybWF0XG5cdF07XG5cblx0dmFyIHRleHR1cmVDdWJlID0gVEhSRUUuSW1hZ2VVdGlscy5sb2FkVGV4dHVyZUN1YmUoIHVybHMgKTtcblx0dmFyIHNoYWRlciA9IFRIUkVFLlNoYWRlckxpYlsgXCJjdWJlXCIgXTtcblx0c2hhZGVyLnVuaWZvcm1zWyBcInRDdWJlXCIgXS52YWx1ZSA9IHRleHR1cmVDdWJlO1xuXG5cdHZhciBtYXRlcmlhbCA9IG5ldyBUSFJFRS5TaGFkZXJNYXRlcmlhbCgge1xuXG5cdFx0ZnJhZ21lbnRTaGFkZXI6IHNoYWRlci5mcmFnbWVudFNoYWRlcixcblx0XHR2ZXJ0ZXhTaGFkZXI6IHNoYWRlci52ZXJ0ZXhTaGFkZXIsXG5cdFx0dW5pZm9ybXM6IHNoYWRlci51bmlmb3Jtcyxcblx0XHRkZXB0aFdyaXRlOiBmYWxzZSxcblx0XHRzaWRlOiBUSFJFRS5CYWNrU2lkZVxuXG5cdH0gKTtcblx0dGhpcy5za3lib3hTY2VuZXNbdnAuc2NlbmVdID0gbmV3IFRIUkVFLlNjZW5lKCk7XG5cdHZhciBtID0gbmV3IFRIUkVFLk1lc2goIG5ldyBUSFJFRS5DdWJlR2VvbWV0cnkoIDkwMDAsIDkwMDAsIDkwMDAgKSwgbWF0ZXJpYWwgKTtcblx0dGhpcy5za3lCb3hlc1t2cC5zY2VuZV0gICA9IG1cblx0XG5cdHRoaXMuc2t5Qm94Q2FtZXJhW3ZwLnNjZW5lXSA9IG5ldyBUSFJFRS5QZXJzcGVjdGl2ZUNhbWVyYSg0NSwgdnAuZ2VvbS53IC8gdnAuZ2VvbS5oLCAxLCAxMDAwMCk7XG5cdHRoaXMuc2t5Ym94U2NlbmVzW3ZwLnNjZW5lXS5hZGQobSk7XG59XG5cblxuLy8gVmllcG9ydCBmdW5jdGlvbnNcbndpbmRvdy5Xb3JsZC5tYWtlX21haW4gPSBmdW5jdGlvbihzY2VuZSl7XG5cdHZhciBzZWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndmlld3BvcnRzLXNlbGVjdCcpO1xuXHR0aGlzLl9tYWluX3ZpZXdwb3J0ID0gc2VsLm9wdGlvbnNbc2VsLnNlbGVjdGVkSW5kZXhdLnZhbHVlO1xuXHR0aGlzLl9pbml0X3ZwcygpXG59XG53aW5kb3cuV29ybGQuYWRkX2ljb24gPSBmdW5jdGlvbihzY2VuZSl7XG5cdHZhciBzZWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndmlld3BvcnRzLXNlbGVjdCcpO1xuXHRhZGRfdnAgPSBzZWwub3B0aW9uc1tzZWwuc2VsZWN0ZWRJbmRleF0udmFsdWU7XG5cdGlmKHRoaXMuX2FkZGl0aW9uYWxfdnBzLmxlbmd0aCA9PSAzKXtcblx0XHR0aGlzLl9hZGRpdGlvbmFsX3Zwc1syXSA9PSBhZGRfdnA7XG5cdFx0XG5cdH1lbHNle1xuXHRcdHRoaXMuX2FkZGl0aW9uYWxfdnBzLnB1c2goYWRkX3ZwKTtcblx0fVxuXHR0aGlzLl9pbml0X3ZwcygpXG5cdFxuXHRcbn1cblxud2luZG93LldvcmxkLm1lc2hlcyA9IGZ1bmN0aW9uKCl7XG5cdHJldHVybiB0aGlzLnNjZW5lLm1lc2hlc1xufVxuXG5cbndpbmRvdy5Xb3JsZC5jb250cm9sbGFibGUgPSBmdW5jdGlvbigpe1xuXHR2YXIgbXZwID0gdGhpcy5nZXRfbWFpbl92aWV3cG9ydCgpO1xuXHQvLyBjb25zb2xlLmxvZyhcIk1NTVwiLCBtdnApXG5cdHJldHVybiB0aGlzLnNjZW5lc1ttdnAuc2NlbmVdLm1lc2hlc1ttdnAub2JqZWN0XVxufVxud2luZG93LldvcmxkLm1lc2hfZm9yID0gZnVuY3Rpb24oYWN0b3Ipe1xuXHQvL2NvbnNvbGUubG9nKFwiPj4+XCIsdGhpcy5tZXNoZXMoKVt0aGlzLnNjZW5lLmFjdG9yc1thY3Rvcl0uY29udHJvbC5vYmplY3RfZ3VpZF0pO1xuXHRyZXR1cm4gdGhpcy5tZXNoZXMoKVt0aGlzLnNjZW5lLmFjdG9yc1thY3Rvcl0uY29udHJvbC5vYmplY3RfZ3VpZF1cbn1cblxuXG53aW5kb3cuV29ybGQuZ2V0X2N1cnJlbnRfYWN0b3IgPSBmdW5jdGlvbigpe1xuXHR2YXIgc2VsZiA9IHRoaXM7XG5cdHJldHVybiBzZWxmLnNjZW5lLmFjdG9yc1tzZWxmLmxvZ2luXVxufSIsImZ1bmN0aW9uIHNvY2tldFNlcnZpY2UobGlzdGVuZXIpe1xuICAgIFxuICAgIHZhciBhdXRoSGFzaEYgPSBmdW5jdGlvbihjYil7XG4gICAgICAgIHZhciBkID0gUS5kZWZlcigpO1xuICAgICAgICB2YXIgeGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG4gICAgICAgIHhoci5vcGVuKCdHRVQnLCAnL215LWF1dGgtaGFzaC8nLCB0cnVlKTtcbiAgICAgICAgeGhyLnNlbmQoKTtcbiAgICAgICAgXG4gICAgICAgIHhoci5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGlmICh4aHIucmVhZHlTdGF0ZSA9PSA0KSB7XG4gICAgICAgICAgICAgICAgIGlmKHhoci5zdGF0dXMgPT0gMjAwKSB7XG4gICAgICAgICAgICAgICAgICAgICB2YXIganMgPSBKU09OLnBhcnNlKHhoci5yZXNwb25zZVRleHQpO1xuICAgICAgICAgICAgICAgICAgICAgY2IoanMpO1xuICAgICAgICAgICAgICAgICAgICAgLy9hbGVydC8oeG1saHR0cC5yZXNwb25zZVRleHQpO1xuICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBcbiAgICB9XG4gICAgdmFyIHNvY2tldCA9IGlvLmNvbm5lY3QoKTtcbiAgICB2YXIgaXNfcmVhZHkgPSBmYWxzZTtcbiAgICB2YXIgUXVldWUgPSBbXTtcbiAgICBcbiAgICBpc19hdXRoZW50aWNhdGVkID0gUS5kZWZlcigpO1xuICAgIHNvY2tldC5vbignY29ubmVjdGVkJywgZnVuY3Rpb24oKXtcbiAgICAgICAgLy9jb25zb2xlLmxvZyhcInJlY29ubmVjdGlvblwiKTtcbiAgICAgICAgYXV0aEhhc2hGKGZ1bmN0aW9uKGpzb24pe1xuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coXCI+Pj5cIixqc29uKTtcbiAgICAgICAgICAgIHNvY2tldC5lbWl0KFwiYXV0aF9oYXNoXCIsIHthdXRoOiBqc29uLmhhc2h9KTtcbiAgICAgICAgfSlcbiAgICB9KVxuICAgIHNvY2tldC5vbihcImF1dGhfY29tcGxldGVkXCIsIGZ1bmN0aW9uKG1zZyl7XG4gICAgICAgIGlmKG1zZy5lcnIpe1xuICAgICAgICAgICAgaXNfYXV0aGVudGljYXRlZC5yZWplY3QobXNnLmVycik7XG4gICAgICAgIH1lbHNle1xuICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhcIj4+XCIpO1xuICAgICAgICAgICAgaXNfYXV0aGVudGljYXRlZC5yZXNvbHZlKHRydWUpO1xuICAgICAgICAgICAgLy8kcm9vdFNjb3BlLiRhcHBseShmdW5jdGlvbigpe2lzX2F1dGhlbnRpY2F0ZWQucmVzb2x2ZSh0cnVlKX0pXG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgfSlcbiAgICAvLyBjb25zb2xlLmxvZyhpc19hdXRoZW50aWNhdGVkKTtcbiAgICBpc19hdXRoZW50aWNhdGVkLnByb21pc2UudGhlbihmdW5jdGlvbihzLGUpe1xuICAgICAgICAvLyBjb25zb2xlLmxvZyhpc19hdXRoZW50aWNhdGVkLCBzLGUpO1xuICAgICAgICBpc19yZWFkeSA9IHRydWU7XG4gICAgICAgIGZvcih2YXIgaSA9MDtpIDxRdWV1ZS5sZW5ndGg7IGkrKyl7XG4gICAgICAgICAgICBzb2NrZXQuZW1pdChRdWV1ZVtpXS5ULCBRdWV1ZVtpXS5wKTtcbiAgICAgICAgfVxuICAgIH0pXG4gICAgXG4gICAgdmFyIFMgPSB7fTtcbiAgICB2YXIgY2JzID0ge307XG4gICAgdmFyIGN1cmNiaXggPSAwO1xuICAgIGZ1bmN0aW9uIGdldENCSXgoKXtcbiAgICAgICAgY3VyY2JpeCs9MTtcbiAgICAgICAgcmV0dXJuIGN1cmNiaXggJSAxMDAwMDtcbiAgICB9O1xuICAgIFxuICAgIHZhciBSZXEgPSBmdW5jdGlvbihtdCwgdCwgcCl7XG4gICAgICAgIHZhciBkID0gUS5kZWZlcigpLFxuICAgICAgICBjYml4ID0gIGdldENCSXgoKTtcbiAgICAgICAgY2JzW2NiaXhdID0ge1xuICAgICAgICAgICAgY2I6IGRcbiAgICAgICAgfVxuICAgICAgICB2YXIgbyA9IHtwOnB9O1xuICAgICAgICBvLmNiaXggPSBjYml4O1xuICAgICAgICBvLlQgPSB0O1xuICAgICAgICBpZighaXNfcmVhZHkpe1xuICAgICAgICAgICAgUXVldWUucHVzaCh7VDptdCxwOm99KTtcbiAgICAgICAgICAgIFxuICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgIHNvY2tldC5lbWl0KG10LCBvKTtcbiAgICAgICAgICAgIFxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGQucHJvbWlzZTtcbiAgICB9XG4gICAgXG4gICAgdmFyIG1lc3NhZ2VzX3RvX2hlYXIgPSBbXCJRXCIsIFwiUlwiLCAnUyddO1xuICAgIF8uZWFjaChtZXNzYWdlc190b19oZWFyLCBmdW5jdGlvbihtZXNzYWdlX3R5cGUpe1xuICAgICAgICBzb2NrZXQub24obWVzc2FnZV90eXBlLCBmdW5jdGlvbihtc2cpe1xuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coXCJSPj4+XCIsIG1zZyk7XG4gICAgICAgICAgICB2YXIgY2JpeCA9IG1zZy5jYml4O1xuICAgICAgICAgICAgaWYoY2JzLmhhc093blByb3BlcnR5KGNiaXgpKSB7XG4gICAgICAgICAgICAgICAgY2JzW2NiaXhdLmNiLnJlc29sdmUobXNnLmQpXG4gICAgICAgICAgICAgICAgZGVsZXRlIGNic1tjYml4XTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgICAgXG4gICAgfSlcbiAgICBcbiAgICBzb2NrZXQub24oJ0YnLCBmdW5jdGlvbihkYXRhKXtcbiAgICAgICAgbGlzdGVuZXIoXCJGXCIsIGRhdGEpO1xuICAgIH0gKTtcbiAgICBzb2NrZXQub24oXCJBTE1cIiwgZnVuY3Rpb24oZGF0YSl7XG4gICAgICAgIGxpc3RlbmVyKFwiQUxNXCIsIGRhdGEpO1xuXG4gICAgfSlcbiAgICBcbiAgICBTLmdldCA9IGZ1bmN0aW9uKHQscCl7XG4gICAgICAgIHJldHVybiBSZXEoXCJRXCIsIHQscClcbiAgICB9XG4gICAgUy5zeW5jID0gZnVuY3Rpb24oKXtcbiAgICAgICAgcmV0dXJuIFJlcShcIlNcIiwnJyx7fSlcbiAgICB9XG4gICAgUy5yZXF1ZXN0ID0gZnVuY3Rpb24odCxwKXtcbiAgICAgICAgcmV0dXJuIFJlcShcIlJcIiwgdCxwKVxuICAgIH1cbiAgICBTLmFjdGlvbiA9ZnVuY3Rpb24obWVzcyl7XG4gICAgICAgIHNvY2tldC5lbWl0KFwiQVwiLG1lc3MpXG4gICAgfVxuICAgIHJldHVybiBTO1xufVxuXG53aW5kb3cuV29ybGQuaW5pdF9zb2NrZXQgPSBmdW5jdGlvbigpe1xuXG4gICAgdmFyIG9yaWdpbiA9IHdpbmRvdy5sb2NhdGlvbi5vcmlnaW5cblxuICAgIHZhciBzb2NrZXQgPSBpby5jb25uZWN0KG9yaWdpbik7XG5cdHRoaXMuc29ja2V0ID0gc29ja2V0O1xuXHR2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICB0aGlzLnNvY2tldF9zcnYgPSBzb2NrZXRTZXJ2aWNlKGZ1bmN0aW9uKHR5cGUsIGRhdGEpe1xuICAgICAgICBzd2l0Y2godHlwZSl7XG4gICAgICAgIGNhc2UgXCJBTE1cIjpcblxuICAgICAgICAgICAgaWYoc2VsZi5zY2VuZXNbZGF0YS5zY2VuZV0gIT09IHVuZGVmaW5lZCl7XG4gICAgICAgICAgICAgICAgc2VsZi5zY2VuZXNbZGF0YS5zY2VuZV0uc3luYyhkYXRhLmFsbWFuYWNoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJGXCI6XG4gICAgICAgICAgICBzZWxmLnNjZW5lc1tkYXRhLnNdLmFkZE5ldHdvcmtNZXNzYWdlKGRhdGEuYSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuICAgIFxuICAgICk7XG5cbiAgICB2YXIgc2NlbmVzX2luX3Byb2Nlc3MgPSBbXTtcbiAgICBcbiAgICB0aGlzLnNvY2tldF9zcnYucmVxdWVzdChcIkNUWFwiLHt1c2VyX2lkOnRydWV9KVxuICAgIC50aGVuKGZ1bmN0aW9uKGN0eCl7XG4gICAgICAgIC8vIGNvbnNvbGUubG9nKFwiY3R4IHJlY2VpdmVkXCIsIGN0eCk7XG4gICAgICAgIHNlbGYuc3luY1RpbWUoKVxuICAgICAgICBcbiAgICAgICAgdmFyIHRvdGFsX3NjZW5lcyAgPSAwO1xuICAgICAgICB2YXIgbG9hZGVkX3NjZW5lcyA9IDA7XG4gICAgICAgIF8uZWFjaChjdHguY29udGV4dHMsIGZ1bmN0aW9uKHNjZW5lX2Rlc2MsIGFjdG9yX2d1aWQpe1xuXG4gICAgICAgICAgICB2YXIgc2NlbmVfZ3VpZCA9IHNjZW5lX2Rlc2MuR1VJRDtcbiAgICAgICAgICAgIGlmKHNjZW5lc19pbl9wcm9jZXNzLmluZGV4T2YoIHNjZW5lX2d1aWQgICkgIT09IC0xKXtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgICAgICBzY2VuZXNfaW5fcHJvY2Vzcy5wdXNoKHNjZW5lX2d1aWQpO1xuICAgICAgICAgICAgICAgIHRvdGFsX3NjZW5lcyArPSAxO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIG9iamVjdHMgPSBzY2VuZV9kZXNjLm9iamVjdHM7XG5cbiAgICAgICAgICAgIHZhciBzY2VuZV9hY3RvcnMgPSBzY2VuZV9kZXNjLmFjdG9ycztcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgdmFyIG9zcHJvbWlzZXMgPSBbXTtcblxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJPaz9cIixzY2VuZV9kZXNjKTtcbiAgICAgICAgICAgIGlmKHNjZW5lX2Rlc2MubG9jYXRpb24uZy5vcmJpdCl7XG4gICAgICAgICAgICAgICAgb3Nwcm9taXNlcy5wdXNoKHNlbGYuc29ja2V0X3Nydi5nZXQoXCJjZWxlY3RpYWwtcmVjdXJzaXZlXCIsIHtHVUlEOiBzY2VuZV9kZXNjLmxvY2F0aW9uLmcub3JiaXQuQ30pKTtcblxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBfLmVhY2gob2JqZWN0cywgZnVuY3Rpb24ob2d1aWQpe1xuXG4gICAgICAgICAgICAgICAgdmFyIHAgPSBzZWxmLnNvY2tldF9zcnYuZ2V0KFwiQVwiLCB7aWQ6b2d1aWR9ICkgXG4gICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24ob2JqKXtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHNlbGYuc29ja2V0X3Nydi5nZXQoXCJUXCIsIHt0eXBlOiBvYmouc2hpcF90eXBlfSlcbiAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24odCl7XG4gICAgICAgICAgICAgICAgICAgICAgICBvYmouc2hpcF90eXBlID0gdDtcblxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG9iajtcbiAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgb3Nwcm9taXNlcy5wdXNoKHApO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgfSlcblxuXG4gICAgICAgICAgICBRLmFsbChvc3Byb21pc2VzKS50aGVuKGZ1bmN0aW9uKG9iamVjdHMpe1xuXG5cbiAgICAgICAgICAgICAgICBzZWxmLmNlbGVzdGlhbHMgPSB7fTtcbiAgICAgICAgICAgICAgICBfLmVhY2gob2JqZWN0c1swXSwgZnVuY3Rpb24oQyl7XG4gICAgICAgICAgICAgICAgICAgIHNlbGYuY2VsZXN0aWFsc1tDLkdVSURdID0gQztcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBvYmplY3RzLnNwbGljZSgwLDEpO1xuXG4gICAgICAgICAgICAgICAgdmFyIGFjdG9yc19sb2FkZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIFx0c2VsZi50aHJlZV9zY2VuZXNbc2NlbmVfZ3VpZF0gPSBuZXcgVEhSRUUuU2NlbmUoKTtcblxuXG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICBcdHZhciBzY2VuZSA9IG5ldyBTY2VuZShzZWxmLnRocmVlX3NjZW5lc1tzY2VuZV9ndWlkXSwgc2VsZilcbiAgICAgICAgICAgICAgICBzY2VuZS5HVUlEID0gc2NlbmVfZ3VpZDtcbiAgICAgICAgICAgICAgICBzY2VuZS5vbkxvYWRDYWxsYmFjayA9IGZ1bmN0aW9uKCl7XG5cbiAgICAgICAgICAgICAgICAgICAgc2VsZi5zZXR1cF9zY2VuZShzY2VuZSk7XG4gICAgICAgICAgICAgICAgICAgIGxvYWRlZF9zY2VuZXMgKz0xO1xuICAgICAgICAgICAgICAgICAgICBpZihsb2FkZWRfc2NlbmVzID09PSB0b3RhbF9zY2VuZXMgKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuaW5mbyhcImFsbF9sb2FkZWRcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmdvKClcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgIFx0c2VsZi5zY2VuZXNbc2NlbmVfZ3VpZF0gPSBzY2VuZTtcblxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIF8uZWFjaChzY2VuZV9hY3RvcnMsIGZ1bmN0aW9uKGFjdCl7XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBpZiAoYWN0LkdVSUQgPT09ICBhY3Rvcl9ndWlkKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuYWN0b3JzW2FjdG9yX2d1aWRdID0gYWN0O1xuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5hY3RvclNjZW5lW2FjdG9yX2d1aWRdID0gc2NlbmVfZ3VpZDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBzY2VuZS5qb2luX2FjdG9yKGFjdCk7XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBfLmVhY2gob2JqZWN0cywgZnVuY3Rpb24ob2JqKXtcbiAgICAgICAgICAgICAgICAgICAgc2NlbmUuam9pbl9vYmplY3Qob2JqLCBvYmouR1VJRCk7XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uKGVycil7XG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnIuc3RhY2spO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgfSlcbiAgICB9KVxuXG5cdFxuXG5cdFxufVxuXG53aW5kb3cuV29ybGQuc3luY1RpbWUgPSBmdW5jdGlvbigpe1xuXHR0aGlzLl9zeW5jX3RpbWVzdGFtcCA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xuXHR2YXIgc2VsZiA9IHRoaXM7XG5cdC8vIHZhciBBY3Rpb25zID0gdGhpcy5wcm90b2J1ZkJ1aWxkZXIuYnVpbGQoXCJBY3Rpb25zXCIpO1xuXHRcblx0dmFyIG1lc3NhZ2VzID0ge307XG5cdHZhciBkaWZmX3N0YXRpc3RpY3NfbGVuZ3RoID0gNTBcblxuXG4gICAgdGhpcy5zb2NrZXRfc3J2LnN5bmMoKS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xuICAgIFx0dmFyIHJlY3ZfdHMgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcblx0XHR2YXIgcGluZyA9IHJlY3ZfdHMgLSBzZWxmLl9zeW5jX3RpbWVzdGFtcFxuXG5cdFx0c2VsZi5sYXRlbmNpdGllcy5wdXNoKHBpbmcvMik7XG5cdFx0XG5cdFx0c2VsZi5hdmdfbGF0ZW5jaXR5ID0gTWF0aC5mbG9vcihfLnJlZHVjZShzZWxmLmxhdGVuY2l0aWVzLCBmdW5jdGlvbihhLGIpe3JldHVybiBhK2J9LDApL3NlbGYubGF0ZW5jaXRpZXMubGVuZ3RoKVxuICAgICAgICBcblx0XHR2YXIgX3RpbWVfZGlmZiA9IGRhdGEudHMgLSBzZWxmLl9zeW5jX3RpbWVzdGFtcDsgLy8gLSBsYXRcblx0XHRzZWxmLl90aW1lX2RpZmZzLnB1c2goX3RpbWVfZGlmZilcblx0XHRpZihzZWxmLl90aW1lX2RpZmZzLmxlbmd0aCA+IGRpZmZfc3RhdGlzdGljc19sZW5ndGgpe3NlbGYuX3RpbWVfZGlmZnMuc3BsaWNlKDAsMSkgfVxuXHRcdHNlbGYuX3RpbWVfZGlmZiA9IF8ucmVkdWNlKHNlbGYuX3RpbWVfZGlmZnMsIGZ1bmN0aW9uKGEsYil7cmV0dXJuIGErYn0sMCkvc2VsZi5fdGltZV9kaWZmcy5sZW5ndGg7XG5cblxuXHRcdHNlbGYubWF4X3BpbmcgPSBfLm1heChzZWxmLnBpbmdzKTtcblxuXHRcdHNldFRpbWVvdXQoZnVuY3Rpb24oKXtcblxuICAgICAgICAgICAgc2VsZi5zeW5jVGltZSgpXG4gICAgICAgIH0sIDEwMDApO1xuICAgICAgICBcbiAgICB9KS5jYXRjaChmdW5jdGlvbihlcnIpe1xuICAgICAgICBjb25zb2xlLmxvZyhlcnIuc3RhY2spO1xuICAgIH0pXG5cdFxuXG59O1xuXG53aW5kb3cuV29ybGQuc2VuZEFjdGlvbj1mdW5jdGlvbihzY2VuZSwgYWN0aW9uKXtcblx0dmFyIGFjdCA9IF8uY2xvbmUoYWN0aW9uKVxuXHRhY3QudHMgKz0gdGhpcy5fdGltZV9kaWZmOyBcblx0YWN0LnAgPSBKU09OLnN0cmluZ2lmeShhY3QucCk7XG5cblx0XG5cdGRlbGV0ZSBhY3QudmVjdG9yO1xuXG5cdHRoaXMuc29ja2V0X3Nydi5hY3Rpb24oe3M6c2NlbmUsYTphY3R9KVxufTsiLCJmdW5jdGlvbiBTdGF0aWNMb2dnZXIoKXtcblx0dGhpcy5fdmFscyA9IHt9XG5cdHRoaXMuc2V0VmFsdWUgPSBmdW5jdGlvbihwYXJhbSwgdmFsKXtcblx0XHQvLyBjb25zb2xlLmxvZyhwYXJhbSwgdmFsKTtcblx0XHR0aGlzLl92YWxzW3BhcmFtXSA9IHZhbDtcblx0fVxuXHR0aGlzLmluaXQgPSBmdW5jdGlvbigpe1xuXHRcdHRoaXMuY29udCA9ICQoXCI8ZGl2PlwiKS5jc3Moe1xuXHRcdFx0J3Bvc2l0aW9uJzonZml4ZWQnLFxuXHRcdFx0J3RvcCc6MCxcblx0XHRcdCdyaWdodCc6MCxcblx0XHRcdCd3aWR0aCc6NDAwLFxuXHRcdFx0J2JvdHRvbSc6MCxcblx0XHRcdCdiYWNrZ3JvdW5kLWNvbG9yJzpcInJnYmEoMCwyMDAsMTAwLDAuNylcIlxuXHRcdH0pLmFwcGVuZFRvKCdib2R5Jyk7XG5cdC8vIFx0Y29uc29sZS5sb2codGhpcy5jb250KTtcblx0XHRcblx0fVxuXHR0aGlzLnJlZHJhdyA9IGZ1bmN0aW9uKCl7XG5cdFx0dGhpcy5jb250LmZpbmQoJyonKS5yZW1vdmUoKTtcblx0XHQvL2NvbnNvbGUubG9nKHRoaXMuX3ZhbHMpO1xuXHRcdGZvcih2YXIgaSBpbiB0aGlzLl92YWxzKXtcblx0XHRcdC8vY29uc29sZS5sb2coJ2FzZGEnKTtcblx0XHRcdGMgPSAkKCc8ZGl2PicpLmFwcGVuZFRvKHRoaXMuY29udClcblx0XHRcdGwgPSAkKCc8c3Bhbj4nKS5odG1sKGkgKyBcIiZuYnNwOzogJm5ic3A7XCIpLmNzcygnZm9udC13ZWlnaHQnLCdib2xkJykuYXBwZW5kVG8oYyk7XG5cdFx0XHR2ID0gJCgnPHNwYW4+JykudGV4dCggdGhpcy5fdmFsc1tpXSApLmFwcGVuZFRvKGMpO1xuXHRcdH1cblx0fVxufVxuXG52YXIgU0wgPSBuZXcgU3RhdGljTG9nZ2VyKCk7Iiwid2luZG93LldvcmxkLmFkZFVuaWZvcm1VcGRhdGVyID0gZnVuY3Rpb24obmFtZSwgdXBkZnVuYyl7XG4gICAgdGhpcy5fdW5pZm9ybV91cGRhdGVyc1tuYW1lXSA9IHVwZGZ1bmM7XG59XG53aW5kb3cuV29ybGQucmVtb3ZlVW5pZm9ybVVwZGF0ZXIgPSBmdW5jdGlvbihuYW1lKXtcbiAgICBkZWxldGUgdGhpcy5fdW5pZm9ybV91cGRhdGVyc1tuYW1lXTtcbn1cblxuIl0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9